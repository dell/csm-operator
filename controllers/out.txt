=== RUN   TestRemoveFinalizer
--- PASS: TestRemoveFinalizer (0.00s)
=== RUN   TestCustom
=== RUN   TestCustom/TestAppMobPreCheckError
2025-02-11T20:41:02Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:02.115Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:02.115Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:02.115Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:02.115Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:02.118Z	INFO	controllers/csm_controller.go:1492	proceeding with fresh driver install	{"TraceId": "csm-1"}
2025-02-11T20:41:02.118Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:02.118Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:02.118Z	ERROR	utils/status.go:348	failed Appmobility validation: failed to find secret dls-license *************Create/Update  failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:02Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
=== RUN   TestCustom/TestAppMobReconcile
2025-02-11T20:41:02Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:02.119Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:02.119Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:02.119Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:02.119Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:02.119Z	INFO	controllers/csm_controller.go:1492	proceeding with fresh driver install	{"TraceId": "csm-1"}
2025-02-11T20:41:02.119Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:02.119Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:02.119Z	INFO	modules/application_mobility.go:419	performed pre-checks for application-mobility	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	controllers/csm_controller.go:330	HandleFinalizer	{"TraceId": "csm-1", "name": "finalizer.dell.emc.com"}
2025-02-11T20:41:02.120Z	INFO	controllers/csm_controller.go:1518	Installing csm component csm with config Version v1.2.0. Updating Annotations with Config Version	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.120Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.121Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:02.121Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:02.121Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:02.121Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:02.121Z	INFO	controllers/csm_controller.go:729	Create/Update application mobility	{"TraceId": "csm-1"}
2025-02-11T20:41:02.121Z	INFO	controllers/csm_controller.go:1045	Reconcile Application Mobility CRDS	{"TraceId": "csm-1"}
2025-02-11T20:41:02.139Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "backups.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.139Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "clusterconfigs.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.139Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "podvolumebackups.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.139Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "podvolumerestores.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.139Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "restores.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.139Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "schedules.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.201Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "backuprepositories.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.201Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "backups.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.202Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "backupstoragelocations.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.202Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "datadownloads.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.202Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "datauploads.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.202Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "deletebackuprequests.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.202Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "downloadrequests.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.202Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "podvolumebackups.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.202Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "podvolumerestores.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.202Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "restores.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.202Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "schedules.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.202Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "serverstatusrequests.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.202Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumesnapshotlocations.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.202Z	INFO	controllers/csm_controller.go:1078	Reconcile Application Mobility Controller Manager	{"TraceId": "csm-1"}
2025-02-11T20:41:02.204Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-webhook-service", "Kind:": "Service"}
2025-02-11T20:41:02.204Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-mutating-webhook-configuration", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:02.204Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-validating-webhook-configuration", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:02.204Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "application-mobility-controller-manager-metrics-service", "Kind:": "Service"}
2025-02-11T20:41:02.205Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-metrics-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.354Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "clusterissuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.355Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "challenges.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.355Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "certificaterequests.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.356Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "issuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.356Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "certificates.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.356Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "orders.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.356Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:02.356Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.356Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.356Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.357Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.357Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.357Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.357Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.357Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.357Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.357Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.357Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.357Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.357Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.357Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.357Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.358Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.358Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.358Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.358Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.358Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.358Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.358Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.358Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.358Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.358Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.358Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.359Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:02.359Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:02.359Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:02.359Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.359Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.359Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.359Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:02.359Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:02.360Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:02.360Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:02.360Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:02.360Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:02.360Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:02.362Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:02.362Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-serving-cert", "Kind:": "Certificate"}
2025-02-11T20:41:02.370Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "application-mobility-controller-manager", "Kind:": "Deployment"}
2025-02-11T20:41:02.370Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-controller-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.370Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-manager-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.371Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-leader-election-role", "Kind:": "Role"}
2025-02-11T20:41:02.371Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-manager-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.371Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-manager-role", "Kind:": "Role"}
2025-02-11T20:41:02.371Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-leader-election-rolebinding", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.371Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-proxy-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.371Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-proxy-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.371Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-manager-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.371Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-manager-rolebinding", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.371Z	INFO	controllers/csm_controller.go:1100	Reconcile application mobility velero	{"TraceId": "csm-1"}
2025-02-11T20:41:02.374Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "application-mobility-velero-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.374Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "application-mobility-velero-server", "Kind:": "Role"}
2025-02-11T20:41:02.374Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "application-mobility-velero-server", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.374Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "application-mobility-velero-server-service-account", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.374Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "application-mobility-velero-server", "Kind:": "Service"}
2025-02-11T20:41:02.374Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "application-mobility-velero", "Kind:": "Deployment"}
2025-02-11T20:41:02.375Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "default", "Kind:": "BackupStorageLocation"}
2025-02-11T20:41:02.375Z	INFO	controllers/csm_controller.go:1128	No driver specified in manifest	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Failed"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Failed"}
2025-02-11T20:41:02.375Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:02Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
2025-02-11T20:41:02.377Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm", "Attempt": 2}
2025-02-11T20:41:02.377Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	modules/application_mobility.go:419	performed pre-checks for application-mobility	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-2"}
2025-02-11T20:41:02.377Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.378Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.378Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.378Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.378Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:02.378Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-2"}
2025-02-11T20:41:02.378Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:02.378Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-2", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:02.378Z	INFO	controllers/csm_controller.go:729	Create/Update application mobility	{"TraceId": "csm-2"}
2025-02-11T20:41:02.378Z	INFO	controllers/csm_controller.go:1045	Reconcile Application Mobility CRDS	{"TraceId": "csm-2"}
2025-02-11T20:41:02.392Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "backups.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.392Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "clusterconfigs.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.392Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "podvolumebackups.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.393Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "podvolumerestores.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.393Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "restores.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.394Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "schedules.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.442Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "backuprepositories.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.443Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "backups.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.444Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "backupstoragelocations.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.445Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "datadownloads.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.445Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "datauploads.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.446Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "deletebackuprequests.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.446Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "downloadrequests.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.446Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "podvolumebackups.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.447Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "podvolumerestores.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.448Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "restores.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.450Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "schedules.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.451Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "serverstatusrequests.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.452Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumesnapshotlocations.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.452Z	INFO	controllers/csm_controller.go:1078	Reconcile Application Mobility Controller Manager	{"TraceId": "csm-2"}
2025-02-11T20:41:02.454Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-webhook-service", "Kind:": "Service"}
2025-02-11T20:41:02.454Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-mutating-webhook-configuration", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:02.454Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-validating-webhook-configuration", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:02.455Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "application-mobility-controller-manager-metrics-service", "Kind:": "Service"}
2025-02-11T20:41:02.455Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-metrics-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.594Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "clusterissuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.600Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "challenges.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.603Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "certificaterequests.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.607Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "issuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.614Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "certificates.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.615Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "orders.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.616Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:02.616Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.616Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.616Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.616Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.616Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.616Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.616Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.617Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:02.618Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:02.619Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:02.619Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:02.619Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:02.619Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:02.619Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:02.621Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:02.621Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-serving-cert", "Kind:": "Certificate"}
2025-02-11T20:41:02.628Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "application-mobility-controller-manager", "Kind:": "Deployment"}
2025-02-11T20:41:02.628Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-controller-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.628Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-manager-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.629Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-leader-election-role", "Kind:": "Role"}
2025-02-11T20:41:02.629Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-manager-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.629Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-manager-role", "Kind:": "Role"}
2025-02-11T20:41:02.629Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-leader-election-rolebinding", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.629Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-proxy-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.629Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-proxy-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.629Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-manager-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.629Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-manager-rolebinding", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.629Z	INFO	controllers/csm_controller.go:1100	Reconcile application mobility velero	{"TraceId": "csm-2"}
2025-02-11T20:41:02.632Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "application-mobility-velero-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.632Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "application-mobility-velero-server", "Kind:": "Role"}
2025-02-11T20:41:02.632Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "application-mobility-velero-server", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.632Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "application-mobility-velero-server-service-account", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.632Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "application-mobility-velero-server", "Kind:": "Service"}
2025-02-11T20:41:02.632Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "application-mobility-velero", "Kind:": "Deployment"}
2025-02-11T20:41:02.633Z	INFO	modules/application_mobility.go:808	
 Backup Storage Name : 	{"TraceId": "csm-2", "default": "already exists and being re-used"}
2025-02-11T20:41:02.633Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "default", "Kind:": "BackupStorageLocation"}
2025-02-11T20:41:02.633Z	INFO	controllers/csm_controller.go:1128	No driver specified in manifest	{"TraceId": "csm-2"}
2025-02-11T20:41:02.633Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-2", "status": "Failed"}
2025-02-11T20:41:02.633Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-2"}
2025-02-11T20:41:02.633Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:02.633Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-2"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-2", "desired": "0"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-2", "Available": "0"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-2", "numberUnavailable": "0"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-2", "State": "Failed"}
2025-02-11T20:41:02.634Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-2"}
################End Reconcile##############
2025-02-11T20:41:02.634Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:02.634Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:02.634Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:02.634Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:02.634Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:02.634Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:02.634Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:02.634Z	INFO	modules/application_mobility.go:419	performed pre-checks for application-mobility	{"TraceId": "csm-1"}
2025-02-11T20:41:02.634Z	INFO	controllers/csm_controller.go:295	Delete request	{"TraceId": "csm-1", "csm": "test", "Name": "csm"}
2025-02-11T20:41:02.634Z	INFO	controllers/csm_controller.go:1128	No driver specified in manifest	{"TraceId": "csm-1"}
2025-02-11T20:41:02.634Z	INFO	controllers/csm_controller.go:1322	Deleting Application Mobility	{"TraceId": "csm-1"}
2025-02-11T20:41:02.634Z	INFO	controllers/csm_controller.go:1078	Reconcile Application Mobility Controller Manager	{"TraceId": "csm-1"}
2025-02-11T20:41:02.638Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-webhook-service", "Kind:": "Service"}
2025-02-11T20:41:02.638Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-mutating-webhook-configuration", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:02.638Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-validating-webhook-configuration", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:02.639Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "application-mobility-controller-manager-metrics-service", "Kind:": "Service"}
2025-02-11T20:41:02.639Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-metrics-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.778Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:02.778Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.778Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.778Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.778Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.778Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.778Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.778Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.778Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.779Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:02.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:02.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:02.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:02.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:02.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:02.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:02.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:02.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:02.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:02.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:02.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-serving-cert", "Kind:": "Certificate"}
2025-02-11T20:41:02.793Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "application-mobility-controller-manager", "Kind:": "Deployment"}
2025-02-11T20:41:02.793Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-controller-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.793Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-manager-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.793Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-leader-election-role", "Kind:": "Role"}
2025-02-11T20:41:02.793Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-manager-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.793Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-manager-role", "Kind:": "Role"}
2025-02-11T20:41:02.793Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-leader-election-rolebinding", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.793Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-proxy-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.794Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-proxy-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.794Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-manager-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.794Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-manager-rolebinding", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.794Z	INFO	controllers/csm_controller.go:1100	Reconcile application mobility velero	{"TraceId": "csm-1"}
2025-02-11T20:41:02.800Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "application-mobility-velero-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.801Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "application-mobility-velero-server", "Kind:": "Role"}
2025-02-11T20:41:02.801Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "application-mobility-velero-server", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.801Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "application-mobility-velero-server-service-account", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.801Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "application-mobility-velero-server", "Kind:": "Service"}
2025-02-11T20:41:02.801Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "application-mobility-velero", "Kind:": "Deployment"}
2025-02-11T20:41:02.801Z	INFO	modules/application_mobility.go:808	
 Backup Storage Name : 	{"TraceId": "csm-1", "default": "already exists and being re-used"}
2025-02-11T20:41:02Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
=== RUN   TestCustom/TestAuthorizationServerPreCheck
2025-02-11T20:41:02Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:02.802Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:02.802Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:02.802Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	modules/authorization.go:558	preformed pre-checks for authorization-proxy-server proxy server	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	controllers/csm_controller.go:330	HandleFinalizer	{"TraceId": "csm-1", "name": "finalizer.dell.emc.com"}
2025-02-11T20:41:02.802Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:02.802Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:02.803Z	INFO	controllers/csm_controller.go:718	Create/Update authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:02.803Z	INFO	controllers/csm_controller.go:1063	Reconcile Authorization CRDS	{"TraceId": "csm-1"}
2025-02-11T20:41:02.810Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csmroles.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.810Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csmtenants.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.810Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storages.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.810Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager	{"TraceId": "csm-1"}
2025-02-11T20:41:02.943Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "clusterissuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.944Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "challenges.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.944Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "certificaterequests.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.944Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "issuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.944Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "certificates.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.944Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "orders.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:02.944Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:02.944Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:02.945Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:02.945Z	INFO	controllers/csm_controller.go:1000	Reconcile authorization proxy-server	{"TraceId": "csm-1"}
2025-02-11T20:41:02.961Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Deployment"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Service"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "tenant-service", "Kind:": "Deployment"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "tenant-service", "Kind:": "Service"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "Deployment"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "Service"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "Service"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "Deployment"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "Service"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Deployment"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "-svc", "Kind:": "Service"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "system:serviceaccounts:test", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.962Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.963Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "configmap-modifier", "Kind:": "Role"}
2025-02-11T20:41:02.963Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.963Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.965Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "Deployment"}
2025-02-11T20:41:02.967Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "common", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.968Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.968Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumes-delete", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.968Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumes-map", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.968Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "powermax-volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.968Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumes-unmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.968Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "sdc-approve", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.968Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "redis-csm-cm", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.968Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "snapshot-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.968Z	INFO	controllers/csm_controller.go:1017	Reconcile authorization NGINX Ingress Controller	{"TraceId": "csm-1"}
2025-02-11T20:41:02.977Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.977Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ServiceAccount"}
2025-02-11T20:41:02.977Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "Role"}
2025-02-11T20:41:02.977Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "Role"}
2025-02-11T20:41:02.977Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.977Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRole"}
2025-02-11T20:41:02.977Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.977Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "RoleBinding"}
2025-02-11T20:41:02.978Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.978Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:02.978Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller", "Kind:": "ConfigMap"}
2025-02-11T20:41:02.978Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller", "Kind:": "Service"}
2025-02-11T20:41:02.978Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller-admission", "Kind:": "Service"}
2025-02-11T20:41:02.978Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller", "Kind:": "Deployment"}
2025-02-11T20:41:02.978Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission-create", "Kind:": "Job"}
2025-02-11T20:41:02.978Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission-patch", "Kind:": "Job"}
2025-02-11T20:41:02.978Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "nginx", "Kind:": "IngressClass"}
2025-02-11T20:41:02.978Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:02.978Z	INFO	controllers/csm_controller.go:1026	Reconcile authorization Ingresses	{"TraceId": "csm-1"}
2025-02-11T20:41:02.979Z	INFO	utils/status.go:437	Polling status of NGINX ingress controller	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:12Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":true,"RequeueAfter":0}}
2025-02-11T20:41:12Z	ERROR	controllers.unit-test	Error returned	{"error": "failed to deploy authorization proxy server: unable to reconcile authorization ingress rules: NGINX ingress controller is not ready: context deadline exceeded"}
github.com/dell/csm-operator/controllers.(*CSMControllerTestSuite).runFakeAuthCSMManager
	/root/csm-operator/controllers/csm_controller_test.go:1342
github.com/dell/csm-operator/controllers.(*CSMControllerTestSuite).TestAuthorizationServerPreCheck
	/root/csm-operator/controllers/csm_controller_test.go:249
reflect.Value.call
	/usr/local/go/src/reflect/value.go:581
reflect.Value.Call
	/usr/local/go/src/reflect/value.go:365
github.com/stretchr/testify/suite.Run.func1
	/go/pkg/mod/github.com/stretchr/testify@v1.10.0/suite/suite.go:202
testing.tRunner
	/usr/local/go/src/testing/testing.go:1690
2025-02-11T20:41:12.979Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm", "Attempt": 2}
2025-02-11T20:41:12.980Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	modules/authorization.go:558	preformed pre-checks for authorization-proxy-server proxy server	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-2", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:12.980Z	INFO	controllers/csm_controller.go:718	Create/Update authorization	{"TraceId": "csm-2"}
2025-02-11T20:41:12.980Z	INFO	controllers/csm_controller.go:1063	Reconcile Authorization CRDS	{"TraceId": "csm-2"}
2025-02-11T20:41:12.987Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csmroles.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:12.987Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csmtenants.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:12.988Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storages.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:12.988Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager	{"TraceId": "csm-2"}
2025-02-11T20:41:13.130Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "clusterissuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:13.137Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "challenges.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:13.140Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "certificaterequests.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:13.145Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "issuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:13.149Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "certificates.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:13.150Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "orders.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:13.151Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:13.151Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:13.151Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:13.151Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:13.151Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:13.151Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.151Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.151Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.151Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.151Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.151Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.152Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.152Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.152Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.152Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.152Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.152Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.152Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.152Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.152Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.152Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.152Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.153Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.153Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.153Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.153Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.153Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.153Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:13.153Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:13.153Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:13.153Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:13.153Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:13.153Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:13.153Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:13.154Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:13.154Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:13.154Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:13.154Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:13.154Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:13.155Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:13.155Z	INFO	controllers/csm_controller.go:1000	Reconcile authorization proxy-server	{"TraceId": "csm-2"}
2025-02-11T20:41:13.175Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-02-11T20:41:13.175Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-02-11T20:41:13.175Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.175Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.175Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "Deployment"}
2025-02-11T20:41:13.175Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "Service"}
2025-02-11T20:41:13.175Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "tenant-service", "Kind:": "Deployment"}
2025-02-11T20:41:13.175Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "tenant-service", "Kind:": "Service"}
2025-02-11T20:41:13.175Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "role-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:13.175Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.175Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "role-service", "Kind:": "Deployment"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "role-service", "Kind:": "Service"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service", "Kind:": "Service"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "authorization-controller", "Kind:": "Deployment"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "authorization-controller", "Kind:": "Service"}
2025-02-11T20:41:13.176Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "Deployment"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "-svc", "Kind:": "Service"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "system:serviceaccounts:test", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "configmap-modifier", "Kind:": "Role"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-02-11T20:41:13.177Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.179Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service", "Kind:": "Deployment"}
2025-02-11T20:41:13.184Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "common", "Kind:": "ConfigMap"}
2025-02-11T20:41:13.184Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:13.184Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumes-delete", "Kind:": "ConfigMap"}
2025-02-11T20:41:13.185Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumes-map", "Kind:": "ConfigMap"}
2025-02-11T20:41:13.185Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "powermax-volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:13.185Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumes-unmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:13.185Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "sdc-approve", "Kind:": "ConfigMap"}
2025-02-11T20:41:13.185Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "redis-csm-cm", "Kind:": "ConfigMap"}
2025-02-11T20:41:13.185Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "snapshot-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:13.185Z	INFO	controllers/csm_controller.go:1017	Reconcile authorization NGINX Ingress Controller	{"TraceId": "csm-2"}
2025-02-11T20:41:13.195Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx", "Kind:": "ServiceAccount"}
2025-02-11T20:41:13.196Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission", "Kind:": "ServiceAccount"}
2025-02-11T20:41:13.196Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx", "Kind:": "Role"}
2025-02-11T20:41:13.196Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission", "Kind:": "Role"}
2025-02-11T20:41:13.196Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.196Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRole"}
2025-02-11T20:41:13.196Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx", "Kind:": "RoleBinding"}
2025-02-11T20:41:13.197Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission", "Kind:": "RoleBinding"}
2025-02-11T20:41:13.197Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.197Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:13.197Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-controller", "Kind:": "ConfigMap"}
2025-02-11T20:41:13.197Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-controller", "Kind:": "Service"}
2025-02-11T20:41:13.197Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-controller-admission", "Kind:": "Service"}
2025-02-11T20:41:13.198Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-controller", "Kind:": "Deployment"}
2025-02-11T20:41:13.198Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission-create", "Kind:": "Job"}
2025-02-11T20:41:13.198Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission-patch", "Kind:": "Job"}
2025-02-11T20:41:13.199Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "nginx", "Kind:": "IngressClass"}
2025-02-11T20:41:13.199Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:13.199Z	INFO	controllers/csm_controller.go:1026	Reconcile authorization Ingresses	{"TraceId": "csm-2"}
2025-02-11T20:41:13.199Z	INFO	utils/status.go:437	Polling status of NGINX ingress controller	{"TraceId": "csm-2"}
################End Reconcile##############
2025-02-11T20:41:23.201Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:23.201Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:23.201Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:23.201Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:23.201Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:23.201Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:23.201Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:23.201Z	INFO	modules/authorization.go:558	preformed pre-checks for authorization-proxy-server proxy server	{"TraceId": "csm-1"}
2025-02-11T20:41:23.201Z	INFO	controllers/csm_controller.go:295	Delete request	{"TraceId": "csm-1", "csm": "test", "Name": "csm"}
2025-02-11T20:41:23.201Z	INFO	controllers/csm_controller.go:1128	No driver specified in manifest	{"TraceId": "csm-1"}
2025-02-11T20:41:23.201Z	INFO	controllers/csm_controller.go:1315	Deleting Authorization Proxy Server	{"TraceId": "csm-1"}
2025-02-11T20:41:23.201Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager	{"TraceId": "csm-1"}
2025-02-11T20:41:23.422Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:23.422Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.422Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.422Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.422Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.422Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.422Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.422Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.422Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.422Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.423Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:23.425Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:23.425Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:23.425Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:23.425Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:23.425Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:23.425Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:23.425Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:23.425Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:23.425Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:23.425Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:23.425Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:23.425Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:23.425Z	INFO	controllers/csm_controller.go:1000	Reconcile authorization proxy-server	{"TraceId": "csm-1"}
2025-02-11T20:41:23.451Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-02-11T20:41:23.451Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.451Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.452Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.452Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Deployment"}
2025-02-11T20:41:23.452Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Service"}
2025-02-11T20:41:23.463Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "tenant-service", "Kind:": "Deployment"}
2025-02-11T20:41:23.463Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "tenant-service", "Kind:": "Service"}
2025-02-11T20:41:23.463Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.464Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.464Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.464Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "Deployment"}
2025-02-11T20:41:23.464Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "Service"}
2025-02-11T20:41:23.464Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.464Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.464Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.464Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.464Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "Service"}
2025-02-11T20:41:23.464Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:23.464Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-02-11T20:41:23.465Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.465Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.465Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.465Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "Deployment"}
2025-02-11T20:41:23.465Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "Service"}
2025-02-11T20:41:23.465Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:23.465Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:23.465Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Deployment"}
2025-02-11T20:41:23.465Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:23.466Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "", "Kind:": "StatefulSet", "Namespace:": "test"}
2025-02-11T20:41:23.466Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:23.466Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "-svc", "Kind:": "Service"}
2025-02-11T20:41:23.466Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.466Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "system:serviceaccounts:test", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.466Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.466Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.466Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "configmap-modifier", "Kind:": "Role"}
2025-02-11T20:41:23.466Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-02-11T20:41:23.466Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:23.468Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "Deployment"}
2025-02-11T20:41:23.470Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "common", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.470Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.471Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "volumes-delete", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.471Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "volumes-map", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.471Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "powermax-volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.471Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "volumes-unmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.471Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "sdc-approve", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.471Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "redis-csm-cm", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.471Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "snapshot-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.471Z	INFO	controllers/csm_controller.go:1017	Reconcile authorization NGINX Ingress Controller	{"TraceId": "csm-1"}
2025-02-11T20:41:23.497Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.497Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.497Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "Role"}
2025-02-11T20:41:23.497Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "Role"}
2025-02-11T20:41:23.497Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.497Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.497Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "RoleBinding"}
2025-02-11T20:41:23.497Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "RoleBinding"}
2025-02-11T20:41:23.497Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.498Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.498Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.498Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller", "Kind:": "Service"}
2025-02-11T20:41:23.498Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller-admission", "Kind:": "Service"}
2025-02-11T20:41:23.498Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller", "Kind:": "Deployment"}
2025-02-11T20:41:23.498Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission-create", "Kind:": "Job"}
2025-02-11T20:41:23.498Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission-patch", "Kind:": "Job"}
2025-02-11T20:41:23.498Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "nginx", "Kind:": "IngressClass"}
2025-02-11T20:41:23.498Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:23.498Z	INFO	controllers/csm_controller.go:1026	Reconcile authorization Ingresses	{"TraceId": "csm-1"}
2025-02-11T20:41:23.499Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Ingress", "Namespace:": "test"}
2025-02-11T20:41:23.499Z	INFO	controllers/csm_controller.go:1032	Reconcile authorization certificates	{"TraceId": "csm-1"}
2025-02-11T20:41:23.499Z	INFO	modules/authorization.go:1283	Authorization hostname: csm-auth.com	{"TraceId": "csm-1"}
2025-02-11T20:41:23.499Z	INFO	modules/authorization.go:1305	using self-signed certificate for authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:23.500Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "selfsigned", "Kind:": "Issuer", "Namespace:": "test"}
2025-02-11T20:41:23.500Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "karavi-auth", "Kind:": "Certificate", "Namespace:": "test"}
2025-02-11T20:41:23Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
=== RUN   TestCustom/TestAuthorizationServerReconcile
2025-02-11T20:41:23Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:23.501Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:23.501Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:23.501Z	INFO	controllers/csm_controller.go:1492	proceeding with fresh driver install	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	modules/authorization.go:558	preformed pre-checks for authorization-proxy-server proxy server	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	controllers/csm_controller.go:330	HandleFinalizer	{"TraceId": "csm-1", "name": "finalizer.dell.emc.com"}
2025-02-11T20:41:23.501Z	INFO	controllers/csm_controller.go:1518	Installing csm component csm with config Version v2.1.0. Updating Annotations with Config Version	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:23.501Z	INFO	controllers/csm_controller.go:718	Create/Update authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:23.501Z	INFO	controllers/csm_controller.go:1063	Reconcile Authorization CRDS	{"TraceId": "csm-1"}
2025-02-11T20:41:23.514Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csmroles.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:23.514Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csmtenants.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:23.514Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storages.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:23.514Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager	{"TraceId": "csm-1"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "clusterissuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "challenges.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "certificaterequests.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "issuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "certificates.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "orders.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.779Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:23.780Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:23.780Z	INFO	controllers/csm_controller.go:1000	Reconcile authorization proxy-server	{"TraceId": "csm-1"}
2025-02-11T20:41:23.817Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Deployment"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Service"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "tenant-service", "Kind:": "Deployment"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "tenant-service", "Kind:": "Service"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "Deployment"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "Service"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "Service"}
2025-02-11T20:41:23.818Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "Deployment"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "Service"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Deployment"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "-svc", "Kind:": "Service"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "system:serviceaccounts:test", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.819Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.832Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "configmap-modifier", "Kind:": "Role"}
2025-02-11T20:41:23.832Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-02-11T20:41:23.832Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.833Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "Deployment"}
2025-02-11T20:41:23.838Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "common", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.838Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.838Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumes-delete", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.838Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumes-map", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.838Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "powermax-volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.838Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumes-unmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.838Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "sdc-approve", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.838Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "redis-csm-cm", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.838Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "snapshot-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.838Z	INFO	controllers/csm_controller.go:1017	Reconcile authorization NGINX Ingress Controller	{"TraceId": "csm-1"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ServiceAccount"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "Role"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "Role"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRole"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "RoleBinding"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "RoleBinding"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller", "Kind:": "ConfigMap"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller", "Kind:": "Service"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller-admission", "Kind:": "Service"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller", "Kind:": "Deployment"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission-create", "Kind:": "Job"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission-patch", "Kind:": "Job"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "nginx", "Kind:": "IngressClass"}
2025-02-11T20:41:23.856Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:23.856Z	INFO	controllers/csm_controller.go:1026	Reconcile authorization Ingresses	{"TraceId": "csm-1"}
2025-02-11T20:41:23.856Z	INFO	utils/status.go:437	Polling status of NGINX ingress controller	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:33Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":true,"RequeueAfter":0}}
2025-02-11T20:41:33Z	ERROR	controllers.unit-test	Error returned	{"error": "failed to deploy authorization proxy server: unable to reconcile authorization ingress rules: NGINX ingress controller is not ready: context deadline exceeded"}
github.com/dell/csm-operator/controllers.(*CSMControllerTestSuite).runFakeAuthCSMManager
	/root/csm-operator/controllers/csm_controller_test.go:1342
github.com/dell/csm-operator/controllers.(*CSMControllerTestSuite).TestAuthorizationServerReconcile
	/root/csm-operator/controllers/csm_controller_test.go:223
reflect.Value.call
	/usr/local/go/src/reflect/value.go:581
reflect.Value.Call
	/usr/local/go/src/reflect/value.go:365
github.com/stretchr/testify/suite.Run.func1
	/go/pkg/mod/github.com/stretchr/testify@v1.10.0/suite/suite.go:202
testing.tRunner
	/usr/local/go/src/testing/testing.go:1690
2025-02-11T20:41:33.857Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm", "Attempt": 2}
2025-02-11T20:41:33.857Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	modules/authorization.go:558	preformed pre-checks for authorization-proxy-server proxy server	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-2"}
2025-02-11T20:41:33.857Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:33.858Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-2"}
2025-02-11T20:41:33.858Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:33.858Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-2", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:33.858Z	INFO	controllers/csm_controller.go:718	Create/Update authorization	{"TraceId": "csm-2"}
2025-02-11T20:41:33.858Z	INFO	controllers/csm_controller.go:1063	Reconcile Authorization CRDS	{"TraceId": "csm-2"}
2025-02-11T20:41:33.864Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csmroles.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:33.865Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csmtenants.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:33.866Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storages.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:33.866Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager	{"TraceId": "csm-2"}
2025-02-11T20:41:34.008Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "clusterissuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:34.016Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "challenges.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:34.019Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "certificaterequests.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:34.023Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "issuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:34.027Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "certificates.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:34.028Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "orders.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:34.028Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:34.029Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:34.029Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:34.029Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:34.029Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:34.029Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.029Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.029Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.029Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.029Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.029Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.029Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.029Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:34.030Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:34.031Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:34.031Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:34.031Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:34.031Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:34.031Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:34.031Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:34.031Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:34.031Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:34.031Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:34.032Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:34.032Z	INFO	controllers/csm_controller.go:1000	Reconcile authorization proxy-server	{"TraceId": "csm-2"}
2025-02-11T20:41:34.050Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-02-11T20:41:34.050Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-02-11T20:41:34.050Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "Deployment"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "Service"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "tenant-service", "Kind:": "Deployment"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "tenant-service", "Kind:": "Service"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "role-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "role-service", "Kind:": "Deployment"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "role-service", "Kind:": "Service"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.051Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service", "Kind:": "Service"}
2025-02-11T20:41:34.052Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:34.052Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-02-11T20:41:34.052Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:34.052Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.052Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.052Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "authorization-controller", "Kind:": "Deployment"}
2025-02-11T20:41:34.052Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "authorization-controller", "Kind:": "Service"}
2025-02-11T20:41:34.052Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:34.052Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:34.052Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "Deployment"}
2025-02-11T20:41:34.053Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:34.053Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:34.053Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:34.053Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "-svc", "Kind:": "Service"}
2025-02-11T20:41:34.053Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.053Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "system:serviceaccounts:test", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.053Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.053Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.053Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "configmap-modifier", "Kind:": "Role"}
2025-02-11T20:41:34.053Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-02-11T20:41:34.053Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.055Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service", "Kind:": "Deployment"}
2025-02-11T20:41:34.057Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "common", "Kind:": "ConfigMap"}
2025-02-11T20:41:34.057Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:34.057Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumes-delete", "Kind:": "ConfigMap"}
2025-02-11T20:41:34.057Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumes-map", "Kind:": "ConfigMap"}
2025-02-11T20:41:34.057Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "powermax-volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:34.058Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumes-unmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:34.060Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "sdc-approve", "Kind:": "ConfigMap"}
2025-02-11T20:41:34.060Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "redis-csm-cm", "Kind:": "ConfigMap"}
2025-02-11T20:41:34.060Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "snapshot-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:34.060Z	INFO	controllers/csm_controller.go:1017	Reconcile authorization NGINX Ingress Controller	{"TraceId": "csm-2"}
2025-02-11T20:41:34.073Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx", "Kind:": "ServiceAccount"}
2025-02-11T20:41:34.073Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission", "Kind:": "ServiceAccount"}
2025-02-11T20:41:34.073Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx", "Kind:": "Role"}
2025-02-11T20:41:34.073Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission", "Kind:": "Role"}
2025-02-11T20:41:34.073Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.073Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRole"}
2025-02-11T20:41:34.073Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx", "Kind:": "RoleBinding"}
2025-02-11T20:41:34.073Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission", "Kind:": "RoleBinding"}
2025-02-11T20:41:34.073Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.074Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:34.074Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-controller", "Kind:": "ConfigMap"}
2025-02-11T20:41:34.074Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-controller", "Kind:": "Service"}
2025-02-11T20:41:34.074Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-controller-admission", "Kind:": "Service"}
2025-02-11T20:41:34.074Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-controller", "Kind:": "Deployment"}
2025-02-11T20:41:34.074Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission-create", "Kind:": "Job"}
2025-02-11T20:41:34.075Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission-patch", "Kind:": "Job"}
2025-02-11T20:41:34.075Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "nginx", "Kind:": "IngressClass"}
2025-02-11T20:41:34.075Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "test-ingress-nginx-admission", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:34.075Z	INFO	controllers/csm_controller.go:1026	Reconcile authorization Ingresses	{"TraceId": "csm-2"}
2025-02-11T20:41:34.075Z	INFO	utils/status.go:437	Polling status of NGINX ingress controller	{"TraceId": "csm-2"}
################End Reconcile##############
2025-02-11T20:41:44.076Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.076Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.076Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.076Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.076Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:44.076Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:44.076Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:44.077Z	INFO	modules/authorization.go:558	preformed pre-checks for authorization-proxy-server proxy server	{"TraceId": "csm-1"}
2025-02-11T20:41:44.077Z	INFO	controllers/csm_controller.go:295	Delete request	{"TraceId": "csm-1", "csm": "test", "Name": "csm"}
2025-02-11T20:41:44.077Z	INFO	controllers/csm_controller.go:1128	No driver specified in manifest	{"TraceId": "csm-1"}
2025-02-11T20:41:44.077Z	INFO	controllers/csm_controller.go:1315	Deleting Authorization Proxy Server	{"TraceId": "csm-1"}
2025-02-11T20:41:44.077Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager	{"TraceId": "csm-1"}
2025-02-11T20:41:44.205Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:44.205Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.206Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:44.207Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:44.207Z	INFO	controllers/csm_controller.go:1000	Reconcile authorization proxy-server	{"TraceId": "csm-1"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Deployment"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Service"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "tenant-service", "Kind:": "Deployment"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "tenant-service", "Kind:": "Service"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "Deployment"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "Service"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.223Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "Service"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "Deployment"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "Service"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Deployment"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "", "Kind:": "StatefulSet", "Namespace:": "test"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "-svc", "Kind:": "Service"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "system:serviceaccounts:test", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.224Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.225Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "configmap-modifier", "Kind:": "Role"}
2025-02-11T20:41:44.225Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.225Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:44.226Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "Deployment"}
2025-02-11T20:41:44.229Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "common", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.229Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.229Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "volumes-delete", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.229Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "volumes-map", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.229Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "powermax-volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.229Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "volumes-unmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.229Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "sdc-approve", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.229Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "redis-csm-cm", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.229Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "snapshot-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.229Z	INFO	controllers/csm_controller.go:1017	Reconcile authorization NGINX Ingress Controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.239Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.239Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.240Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "Role"}
2025-02-11T20:41:44.240Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "Role"}
2025-02-11T20:41:44.240Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.240Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.240Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.240Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.240Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.240Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.241Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.241Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller", "Kind:": "Service"}
2025-02-11T20:41:44.241Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller-admission", "Kind:": "Service"}
2025-02-11T20:41:44.241Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-controller", "Kind:": "Deployment"}
2025-02-11T20:41:44.241Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission-create", "Kind:": "Job"}
2025-02-11T20:41:44.241Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission-patch", "Kind:": "Job"}
2025-02-11T20:41:44.242Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "nginx", "Kind:": "IngressClass"}
2025-02-11T20:41:44.242Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "test-ingress-nginx-admission", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:44.242Z	INFO	controllers/csm_controller.go:1026	Reconcile authorization Ingresses	{"TraceId": "csm-1"}
2025-02-11T20:41:44.243Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Ingress", "Namespace:": "test"}
2025-02-11T20:41:44.243Z	INFO	controllers/csm_controller.go:1032	Reconcile authorization certificates	{"TraceId": "csm-1"}
2025-02-11T20:41:44.243Z	INFO	modules/authorization.go:1283	Authorization hostname: csm-auth.com	{"TraceId": "csm-1"}
2025-02-11T20:41:44.243Z	INFO	modules/authorization.go:1305	using self-signed certificate for authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:44.243Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "selfsigned", "Kind:": "Issuer", "Namespace:": "test"}
2025-02-11T20:41:44.244Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "karavi-auth", "Kind:": "Certificate", "Namespace:": "test"}
2025-02-11T20:41:44Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
=== RUN   TestCustom/TestAuthorizationServerReconcileOCP
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.245Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.245Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.245Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.245Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.245Z	INFO	controllers/csm_controller.go:1492	proceeding with fresh driver install	{"TraceId": "csm-1"}
2025-02-11T20:41:44.245Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:44.245Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:44.245Z	INFO	modules/authorization.go:558	preformed pre-checks for authorization-proxy-server proxy server	{"TraceId": "csm-1"}
2025-02-11T20:41:44.245Z	INFO	controllers/csm_controller.go:330	HandleFinalizer	{"TraceId": "csm-1", "name": "finalizer.dell.emc.com"}
2025-02-11T20:41:44.246Z	INFO	controllers/csm_controller.go:1518	Installing csm component csm with config Version v2.0.0-alpha. Updating Annotations with Config Version	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.246Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:44.246Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.247Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:44.247Z	INFO	controllers/csm_controller.go:718	Create/Update authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:44.247Z	INFO	controllers/csm_controller.go:1063	Reconcile Authorization CRDS	{"TraceId": "csm-1"}
2025-02-11T20:41:44.254Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csmroles.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.254Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csmtenants.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.254Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storages.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.254Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager	{"TraceId": "csm-1"}
2025-02-11T20:41:44.388Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "clusterissuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.389Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "challenges.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.389Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "certificaterequests.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "issuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "certificates.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "orders.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:44.390Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:44.390Z	INFO	controllers/csm_controller.go:1000	Reconcile authorization proxy-server	{"TraceId": "csm-1"}
2025-02-11T20:41:44.406Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Deployment"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Service"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "tenant-service", "Kind:": "Deployment"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "tenant-service", "Kind:": "Service"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "Deployment"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "Service"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "Service"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "Deployment"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "Service"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Deployment"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "-svc", "Kind:": "Service"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "system:serviceaccounts:test", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "configmap-modifier", "Kind:": "Role"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.407Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.409Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "Deployment"}
2025-02-11T20:41:44.412Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "common", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.412Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.412Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumes-delete", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.412Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumes-map", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.412Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "powermax-volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.412Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "volumes-unmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.412Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "sdc-approve", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.412Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "redis-csm-cm", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.412Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "snapshot-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.412Z	INFO	controllers/csm_controller.go:1011	Using OpenShift default ingress controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.412Z	INFO	controllers/csm_controller.go:1026	Reconcile authorization Ingresses	{"TraceId": "csm-1"}
2025-02-11T20:41:44.413Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Ingress"}
2025-02-11T20:41:44.413Z	INFO	controllers/csm_controller.go:1032	Reconcile authorization certificates	{"TraceId": "csm-1"}
2025-02-11T20:41:44.413Z	INFO	modules/authorization.go:1283	Authorization hostname: csm-auth.com	{"TraceId": "csm-1"}
2025-02-11T20:41:44.413Z	INFO	modules/authorization.go:1305	using self-signed certificate for authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:44.414Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:44.414Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-auth", "Kind:": "Certificate"}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Failed"}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-1"}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.414Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Failed"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:44Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
2025-02-11T20:41:44.415Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm", "Attempt": 2}
2025-02-11T20:41:44.415Z	INFO	controllers/csm_controller.go:1386	upgrade is not valid	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-2", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:44.415Z	INFO	controllers/csm_controller.go:718	Create/Update authorization	{"TraceId": "csm-2"}
2025-02-11T20:41:44.415Z	INFO	controllers/csm_controller.go:1063	Reconcile Authorization CRDS	{"TraceId": "csm-2"}
2025-02-11T20:41:44.421Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csmroles.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.422Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csmtenants.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.422Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storages.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.423Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager	{"TraceId": "csm-2"}
2025-02-11T20:41:44.554Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "clusterissuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.561Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "challenges.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.565Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "certificaterequests.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.570Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "issuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.574Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "certificates.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.575Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "orders.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:44.575Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:44.575Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.575Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.575Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.575Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.575Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.575Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.575Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.575Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.576Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:44.577Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:44.578Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:44.578Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:44.578Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:44.578Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:44.578Z	INFO	controllers/csm_controller.go:1000	Reconcile authorization proxy-server	{"TraceId": "csm-2"}
2025-02-11T20:41:44.596Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-02-11T20:41:44.596Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.596Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.596Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.597Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "Deployment"}
2025-02-11T20:41:44.597Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "Service"}
2025-02-11T20:41:44.597Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "tenant-service", "Kind:": "Deployment"}
2025-02-11T20:41:44.597Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "tenant-service", "Kind:": "Service"}
2025-02-11T20:41:44.597Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "role-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.597Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.597Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "role-service", "Kind:": "Deployment"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "role-service", "Kind:": "Service"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service", "Kind:": "Service"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.598Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "authorization-controller", "Kind:": "Deployment"}
2025-02-11T20:41:44.599Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "authorization-controller", "Kind:": "Service"}
2025-02-11T20:41:44.599Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:44.599Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:44.599Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "Deployment"}
2025-02-11T20:41:44.599Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:44.599Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:44.599Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:44.599Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "-svc", "Kind:": "Service"}
2025-02-11T20:41:44.599Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.600Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "system:serviceaccounts:test", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.600Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.600Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.600Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "configmap-modifier", "Kind:": "Role"}
2025-02-11T20:41:44.600Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.600Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.604Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "storage-service", "Kind:": "Deployment"}
2025-02-11T20:41:44.606Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "common", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.607Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.607Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumes-delete", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.607Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumes-map", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.607Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "powermax-volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.607Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "volumes-unmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.607Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "sdc-approve", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.607Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "redis-csm-cm", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.607Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "snapshot-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.607Z	INFO	controllers/csm_controller.go:1011	Using OpenShift default ingress controller	{"TraceId": "csm-2"}
2025-02-11T20:41:44.607Z	INFO	controllers/csm_controller.go:1026	Reconcile authorization Ingresses	{"TraceId": "csm-2"}
2025-02-11T20:41:44.608Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "proxy-server", "Kind:": "Ingress"}
2025-02-11T20:41:44.608Z	INFO	controllers/csm_controller.go:1032	Reconcile authorization certificates	{"TraceId": "csm-2"}
2025-02-11T20:41:44.609Z	INFO	modules/authorization.go:1283	Authorization hostname: csm-auth.com	{"TraceId": "csm-2"}
2025-02-11T20:41:44.609Z	INFO	modules/authorization.go:1305	using self-signed certificate for authorization	{"TraceId": "csm-2"}
2025-02-11T20:41:44.609Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:44.612Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-auth", "Kind:": "Certificate"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-2", "status": "Failed"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.612Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.613Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-2", "desired": "0"}
2025-02-11T20:41:44.613Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-2", "Available": "0"}
2025-02-11T20:41:44.613Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-2", "numberUnavailable": "0"}
2025-02-11T20:41:44.613Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-2", "State": "Failed"}
2025-02-11T20:41:44.613Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-2"}
################End Reconcile##############
2025-02-11T20:41:44.613Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.613Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.613Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.613Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.613Z	INFO	controllers/csm_controller.go:1386	upgrade is not valid	{"TraceId": "csm-1"}
2025-02-11T20:41:44.613Z	INFO	controllers/csm_controller.go:295	Delete request	{"TraceId": "csm-1", "csm": "test", "Name": "csm"}
2025-02-11T20:41:44.613Z	INFO	controllers/csm_controller.go:1128	No driver specified in manifest	{"TraceId": "csm-1"}
2025-02-11T20:41:44.613Z	INFO	controllers/csm_controller.go:1315	Deleting Authorization Proxy Server	{"TraceId": "csm-1"}
2025-02-11T20:41:44.613Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager	{"TraceId": "csm-1"}
2025-02-11T20:41:44.759Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:44.760Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.760Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.760Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.760Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.760Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.760Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.760Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.760Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.760Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.761Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.761Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.761Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.761Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.761Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.761Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.761Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.761Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.761Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.761Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.762Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.762Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.762Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.762Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.762Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.762Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.762Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.762Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:44.762Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:44.762Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:44.762Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.762Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.763Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.763Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:44.763Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:44.763Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:44.763Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:44.763Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:44.763Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:44.764Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:44.764Z	INFO	controllers/csm_controller.go:1000	Reconcile authorization proxy-server	{"TraceId": "csm-1"}
2025-02-11T20:41:44.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-02-11T20:41:44.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Deployment"}
2025-02-11T20:41:44.780Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Service"}
2025-02-11T20:41:44.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "tenant-service", "Kind:": "Deployment"}
2025-02-11T20:41:44.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "tenant-service", "Kind:": "Service"}
2025-02-11T20:41:44.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "Deployment"}
2025-02-11T20:41:44.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "role-service", "Kind:": "Service"}
2025-02-11T20:41:44.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.781Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.782Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "Service"}
2025-02-11T20:41:44.782Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:44.782Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-02-11T20:41:44.782Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.782Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.782Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.782Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "Deployment"}
2025-02-11T20:41:44.782Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "authorization-controller", "Kind:": "Service"}
2025-02-11T20:41:44.782Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service"}
2025-02-11T20:41:44.782Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:44.783Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "", "Kind:": "Deployment"}
2025-02-11T20:41:44.783Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:44.783Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "", "Kind:": "StatefulSet", "Namespace:": "test"}
2025-02-11T20:41:44.783Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:44.783Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "-svc", "Kind:": "Service"}
2025-02-11T20:41:44.783Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.783Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "system:serviceaccounts:test", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.783Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.783Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.783Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "configmap-modifier", "Kind:": "Role"}
2025-02-11T20:41:44.783Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-02-11T20:41:44.783Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:44.785Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "storage-service", "Kind:": "Deployment"}
2025-02-11T20:41:44.789Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "common", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.789Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.789Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "volumes-delete", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.789Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "volumes-map", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.789Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "powermax-volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.789Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "volumes-unmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.790Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "sdc-approve", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.790Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "redis-csm-cm", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.790Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "snapshot-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.790Z	INFO	controllers/csm_controller.go:1011	Using OpenShift default ingress controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.790Z	INFO	controllers/csm_controller.go:1026	Reconcile authorization Ingresses	{"TraceId": "csm-1"}
2025-02-11T20:41:44.791Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "proxy-server", "Kind:": "Ingress"}
2025-02-11T20:41:44.791Z	INFO	controllers/csm_controller.go:1032	Reconcile authorization certificates	{"TraceId": "csm-1"}
2025-02-11T20:41:44.791Z	INFO	modules/authorization.go:1283	Authorization hostname: csm-auth.com	{"TraceId": "csm-1"}
2025-02-11T20:41:44.791Z	INFO	modules/authorization.go:1305	using self-signed certificate for authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:44.792Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:44.793Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-auth", "Kind:": "Certificate"}
2025-02-11T20:41:44Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
=== RUN   TestCustom/TestContentWatch
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.793Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
=== RUN   TestCustom/TestCsmDowngrade
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.794Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.795Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.795Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.795Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.795Z	INFO	drivers/powerflex.go:407	Zone is not specified for SystemID: 2b11bb111111bb1b	{"TraceId": "csm-1"}
2025-02-11T20:41:44.795Z	INFO	drivers/powerflex.go:431	found 1 arrays zoning on 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.795Z	INFO	drivers/powerflex.go:435	Zoning information not found in the array secret. Continue with topology-unaware driver installation mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.795Z	INFO	utils/utils.go:1166	####oldVersion: v2.13.0 ###newVersion: v2.12.0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.795Z	INFO	utils/utils.go:1177	proceeding with valid downgrade of driver/module	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/utils.go:1187	proceeding with valid upgrade/downgrade of powerflex from version v2.13.0 to version v2.12.0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	controllers/csm_controller.go:1518	Installing csm component csm with config Version v2.12.0. Updating Annotations with Config Version	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.796Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:44.796Z	INFO	controllers/csm_controller.go:1133	Getting powerflex CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:44.814Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-1"}
2025-02-11T20:41:44.814Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.814Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:44.814Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:44.814Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.814Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.814Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.814Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.814Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-1", "Name:": "csi-vxflexos.dellemc.com"}
2025-02-11T20:41:44.814Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-1", "Name": "csm-config-params"}
2025-02-11T20:41:44.814Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:44.814Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:44.814Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "csm-controller"}
2025-02-11T20:41:44.814Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:44.814Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-1", "name": "csm-node"}
2025-02-11T20:41:44.814Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-1", "Name:": "csm-node"}
2025-02-11T20:41:44.815Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Failed"}
2025-02-11T20:41:44.815Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-1"}
2025-02-11T20:41:44.815Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.815Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.815Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.815Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:44.815Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:44.815Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:44.815Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:44.815Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.815Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.815Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:44.816Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
################End Reconcile##############
=== RUN   TestCustom/TestCsmDowngradePathInvalid
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.816Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.816Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.816Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.816Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.816Z	ERROR	drivers/powerflex.go:73	PreCheckPowerFlex failed in version check	{"TraceId": "csm-1", "Error": "stat ../operatorconfig/driverconfig/powerflex/v0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.816Z	ERROR	utils/status.go:348	failed powerflex validation: vxflexos v0 not supported *************Create/Update powerflex failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
=== RUN   TestCustom/TestCsmDowngradeSkipVersion
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.816Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.817Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.817Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.817Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.817Z	INFO	drivers/powerflex.go:407	Zone is not specified for SystemID: 2b11bb111111bb1b	{"TraceId": "csm-1"}
2025-02-11T20:41:44.817Z	INFO	drivers/powerflex.go:431	found 1 arrays zoning on 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.817Z	INFO	drivers/powerflex.go:435	Zoning information not found in the array secret. Continue with topology-unaware driver installation mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.817Z	INFO	utils/utils.go:1166	####oldVersion: v2.13.0 ###newVersion: v2.11.0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.817Z	INFO	utils/utils.go:1177	proceeding with valid downgrade of driver/module	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/utils.go:1187	proceeding with valid upgrade/downgrade of powerflex from version v2.13.0 to version v2.11.0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	controllers/csm_controller.go:1518	Installing csm component csm with config Version v2.11.0. Updating Annotations with Config Version	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.818Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:44.818Z	INFO	controllers/csm_controller.go:1133	Getting powerflex CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:44.837Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-1"}
2025-02-11T20:41:44.837Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.837Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:44.837Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:44.837Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.837Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.838Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.838Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.838Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-1", "Name:": "csi-vxflexos.dellemc.com"}
2025-02-11T20:41:44.838Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-1", "Name": "csm-config-params"}
2025-02-11T20:41:44.838Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:44.838Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:44.838Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "csm-controller"}
2025-02-11T20:41:44.838Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:44.838Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-1", "name": "csm-node"}
2025-02-11T20:41:44.838Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-1", "Name:": "csm-node"}
2025-02-11T20:41:44.838Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Failed"}
2025-02-11T20:41:44.838Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-1"}
2025-02-11T20:41:44.838Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.838Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.838Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.838Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:44.838Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:44.838Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:44.838Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:44.838Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.838Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.838Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:44.839Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
################End Reconcile##############
=== RUN   TestCustom/TestCsmDowngradeVersionTooOld
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.839Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.839Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.839Z	ERROR	drivers/powerflex.go:73	PreCheckPowerFlex failed in version check	{"TraceId": "csm-1", "Error": "stat ../operatorconfig/driverconfig/powerflex/v2.2.0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.839Z	ERROR	utils/status.go:348	failed powerflex validation: vxflexos v2.2.0 not supported *************Create/Update powerflex failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
=== RUN   TestCustom/TestCsmFinalizerError
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.839Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.839Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.839Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.840Z	INFO	controllers/csm_controller.go:1492	proceeding with fresh driver install	{"TraceId": "csm-1"}
2025-02-11T20:41:44.840Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:44.840Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:44.840Z	INFO	controllers/csm_controller.go:330	HandleFinalizer	{"TraceId": "csm-1", "name": "finalizer.dell.emc.com"}
[ShouldFail] force Update csm error for obj of type &{TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csm GenerateName: Namespace:test SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:0001-01-01 00:00:00 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[] Annotations:map[] OwnerReferences:[] Finalizers:[finalizer.dell.emc.com] ManagedFields:[]} Spec:{Driver:{CSIDriverType:isilon CSIDriverSpec:<nil> ConfigVersion:v2.11.0 Replicas:0 DNSPolicy: Common:0xc000281608 Controller:<nil> Node:<nil> SideCars:[] InitContainers:[] SnapshotClass:[] AuthSecret: TLSCertSecret: ForceRemoveDriver:0xc00014fda9} Modules:[]} Status:{ControllerStatus:{Available: Desired: Failed:} NodeStatus:{Available: Desired: Failed:} State:Creating}}
2025-02-11T20:41:44.840Z	ERROR	controllers/csm_controller.go:333	HandleFinalizer	{"TraceId": "csm-1", "error": "unable to get CSM"}
=== RUN   TestCustom/TestCsmPreCheckModuleError
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.840Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.840Z	ERROR	drivers/powerscale.go:57	PreCheckPowerScale failed in version check	{"Error": "stat ../in-valid-path/driverconfig/powerscale/v2.11.0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.840Z	ERROR	drivers/powerscale.go:57	PreCheckPowerScale failed in version check	{"Error": "stat ../in-valid-path/driverconfig/powerscale/v2.11.0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.840Z	ERROR	drivers/powerscale.go:57	PreCheckPowerScale failed in version check	{"Error": "stat ../in-valid-path/driverconfig/powerscale/v2.11.0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.840Z	ERROR	drivers/powerscale.go:57	PreCheckPowerScale failed in version check	{"Error": "stat ../in-valid-path/driverconfig/powerscale/v2.11.0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.840Z	ERROR	drivers/powerscale.go:57	PreCheckPowerScale failed in version check	{"Error": "stat ../in-valid-path/driverconfig/powerscale/v2.11.0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.840Z	ERROR	drivers/powerscale.go:57	PreCheckPowerScale failed in version check	{"Error": "stat ../in-valid-path/driverconfig/powerscale/v2.11.0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.840Z	ERROR	drivers/powerscale.go:57	PreCheckPowerScale failed in version check	{"Error": "stat ../in-valid-path/driverconfig/powerscale/v2.11.0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.840Z	INFO	utils/utils.go:1166	####oldVersion: v2.11.0 ###newVersion: 
2025-02-11T20:41:44.840Z	INFO	utils/utils.go:1177	proceeding with valid downgrade of driver/module
2025-02-11T20:41:44.840Z	ERROR	utils/utils.go:1211	getUpgradeInfo failed	{"Error": "open ../operatorconfig/moduleconfig/authorization/v2.11.0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.840Z	INFO	utils/utils.go:1183	getUpgradeInfo not successful
=== RUN   TestCustom/TestCsmPreCheckModuleUnsupportedVersion
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.840Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.840Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install
2025-02-11T20:41:44.840Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet
2025-02-11T20:41:44.840Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules
2025-02-11T20:41:44.840Z	INFO	utils/utils.go:1166	####oldVersion: v2.11.0 ###newVersion: 1.0.0
2025-02-11T20:41:44.840Z	INFO	utils/utils.go:1177	proceeding with valid downgrade of driver/module
2025-02-11T20:41:44.840Z	ERROR	utils/utils.go:1211	getUpgradeInfo failed	{"Error": "open ../operatorconfig/moduleconfig/authorization/v2.11.0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.840Z	INFO	utils/utils.go:1183	getUpgradeInfo not successful
2025-02-11T20:41:44.840Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install
2025-02-11T20:41:44.840Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet
2025-02-11T20:41:44.840Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules
2025-02-11T20:41:44.841Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules
2025-02-11T20:41:44.841Z	ERROR	modules/resiliency.go:86	CSM Operator does not suport Resiliency deployment for this version combination CSM resiliency does not have 1.0.0 version. The following are supported versions: v1.10.0,v1.11.0,v1.12.0
2025-02-11T20:41:44.841Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules
2025-02-11T20:41:44.841Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules
=== RUN   TestCustom/TestCsmPreCheckTypeError
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.841Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.841Z	ERROR	drivers/powerstore.go:86	Secret "csm-config" not foundFailed query for secret csm-config	{"TraceId": "csm-1"}
2025-02-11T20:41:44.841Z	ERROR	utils/status.go:348	failed powerstore validation: failed to find secret csm-config *************Create/Update powerstore failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.841Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.841Z	ERROR	drivers/powerstore.go:86	Secret "csm-config" not foundFailed query for secret csm-config	{"TraceId": "csm-1"}
2025-02-11T20:41:44.841Z	ERROR	utils/status.go:348	failed powerstore validation: failed to find secret csm-config *************Create/Update powerstore failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
=== RUN   TestCustom/TestCsmPreCheckVersionError
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.841Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.841Z	ERROR	drivers/powerscale.go:57	PreCheckPowerScale failed in version check	{"TraceId": "csm-1", "Error": "stat ../operatorconfig/driverconfig/powerscale/v0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.841Z	ERROR	utils/status.go:348	failed powerscale validation: powerscale v0 not supported *************Create/Update isilon failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.841Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.841Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.842Z	ERROR	drivers/powerscale.go:57	PreCheckPowerScale failed in version check	{"TraceId": "csm-1", "Error": "stat ../operatorconfig/driverconfig/powerscale/v0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.842Z	ERROR	utils/status.go:348	failed powerscale validation: powerscale v0 not supported *************Create/Update isilon failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
=== RUN   TestCustom/TestCsmUpgrade
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.842Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.842Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.842Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.842Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:44.842Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:44.855Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-1"}
2025-02-11T20:41:44.855Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.855Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:44.855Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:44.855Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.855Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.855Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.855Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.855Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-1", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:44.855Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-1", "Name": "csm-config-params"}
2025-02-11T20:41:44.855Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:44.855Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:44.855Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "csm-controller"}
2025-02-11T20:41:44.856Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:44.856Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-1", "name": "csm-node"}
2025-02-11T20:41:44.856Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-1", "Name:": "csm-node"}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Failed"}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-1"}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.856Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:44.857Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
################End Reconcile##############
=== RUN   TestCustom/TestCsmUpgradePathInvalid
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.857Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.857Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.857Z	ERROR	drivers/powerscale.go:57	PreCheckPowerScale failed in version check	{"TraceId": "csm-1", "Error": "stat ../operatorconfig/driverconfig/powerscale/v0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.857Z	ERROR	utils/status.go:348	failed powerscale validation: powerscale v0 not supported *************Create/Update isilon failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
=== RUN   TestCustom/TestCsmUpgradeSkipVersion
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.857Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.857Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.857Z	INFO	utils/utils.go:1166	####oldVersion: v2.11.0 ###newVersion: v2.12.0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.857Z	INFO	utils/utils.go:1172	proceeding with valid upgrade of driver/module	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/utils.go:1187	proceeding with valid upgrade/downgrade of powerscale from version v2.11.0 to version v2.12.0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	controllers/csm_controller.go:1518	Installing csm component csm with config Version v2.12.0. Updating Annotations with Config Version	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.858Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:44.858Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:44.870Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-1"}
2025-02-11T20:41:44.870Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.870Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:44.870Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:44.870Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.870Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.871Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.871Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.871Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-1", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:44.871Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-1", "Name": "csm-config-params"}
2025-02-11T20:41:44.871Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:44.871Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:44.871Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "csm-controller"}
2025-02-11T20:41:44.871Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:44.871Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-1", "name": "csm-node"}
2025-02-11T20:41:44.872Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-1", "Name:": "csm-node"}
2025-02-11T20:41:44.872Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Failed"}
2025-02-11T20:41:44.872Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-1"}
2025-02-11T20:41:44.872Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.872Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.872Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.873Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.874Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.874Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.874Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.874Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:44.874Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:44.874Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:44.874Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:44.874Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:44.874Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
################End Reconcile##############
=== RUN   TestCustom/TestCsmUpgradeVersionTooOld
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.874Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.875Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.875Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.875Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.875Z	ERROR	drivers/powerscale.go:57	PreCheckPowerScale failed in version check	{"TraceId": "csm-1", "Error": "stat ../operatorconfig/driverconfig/powerscale/v2.2.0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:44.875Z	ERROR	utils/status.go:348	failed powerscale validation: powerscale v2.2.0 not supported *************Create/Update isilon failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
=== RUN   TestCustom/TestDeleteErrorReconcile
2025-02-11T20:41:44Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:44.875Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.876Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.876Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.876Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.876Z	INFO	utils/utils.go:1269	Adding default component cert-manager for observability 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:44.877Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.878Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.878Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:44.878Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.878Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.878Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.878Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.878Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.878Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:44.878Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:44.878Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:44.878Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:44.891Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-1", "name": "provisioner"}
2025-02-11T20:41:44.891Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-1"}
2025-02-11T20:41:44.891Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:44.893Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.893Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:44.893Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:44.893Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.893Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.893Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.893Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.893Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-1", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:44.893Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-1", "Name": "csm-config-params"}
2025-02-11T20:41:44.893Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:44.893Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:44.893Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "csm-controller"}
2025-02-11T20:41:44.894Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:44.894Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-1", "name": "csm-node"}
2025-02-11T20:41:44.894Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-1", "Name:": "csm-node"}
2025-02-11T20:41:44.894Z	INFO	controllers/csm_controller.go:925	Create/Update observability	{"TraceId": "csm-1"}
2025-02-11T20:41:44.894Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-1"}
2025-02-11T20:41:44.897Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:44.897Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.897Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:44.897Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.897Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:44.897Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.897Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:44.897Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.897Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:44.897Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:44.897Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:44.897Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:44.897Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-1"}
2025-02-11T20:41:44.899Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.899Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.899Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:44.899Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:44.899Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-1"}
2025-02-11T20:41:44.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:44.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:44.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:44.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:44.906Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:44.906Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"karavi-metrics-powerscale\" not found"}
2025-02-11T20:41:44.906Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale"}
2025-02-11T20:41:44.906Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:44.906Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-1"}
2025-02-11T20:41:44.911Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.911Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.911Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.911Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:44.911Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.911Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.911Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-1", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:44.911Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-1", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:44.911Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-1", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:44.911Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:44.911Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"karavi-metrics-powerflex\" not found"}
2025-02-11T20:41:44.911Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex"}
2025-02-11T20:41:44.911Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:44.912Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:44.912Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:44.913Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:44.913Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:44.913Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Failed"}
2025-02-11T20:41:44.913Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-1"}
2025-02-11T20:41:44.913Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.914Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.914Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.914Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:44.914Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:44.914Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:44.914Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:44.914Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.914Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.914Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-1"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:44.915Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:44Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
2025-02-11T20:41:44.915Z	INFO	controllers/csm_controller.go:511	daemonset 	{"TraceId": "csm-1", "name": "csm-node", "namespace": "test"}
2025-02-11T20:41:44.916Z	INFO	controllers/csm_controller.go:512	daemonset 	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:44.916Z	INFO	controllers/csm_controller.go:513	daemonset 	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:44.916Z	INFO	controllers/csm_controller.go:514	daemonset 	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:44.916Z	INFO	controllers/csm_controller.go:515	daemonset 	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:44.916Z	INFO	controllers/csm_controller.go:532	csm prev status 	{"TraceId": "csm-1", "state": {"controllerStatus":{"available":"0","desired":"0","failed":"0"},"nodeStatus":{"available":"0","desired":"0","failed":"0"},"state":"Succeeded"}}
2025-02-11T20:41:44.916Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:44.916Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:44.916Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:44.916Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.916Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.916Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:44.916Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:44.916Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:44.916Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:44.916Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.916Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.916Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-1"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:44.917Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:44.917Z	INFO	controllers/csm_controller.go:413	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "desired": 0}
2025-02-11T20:41:44.917Z	INFO	controllers/csm_controller.go:414	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "numberReady": 0}
2025-02-11T20:41:44.918Z	INFO	controllers/csm_controller.go:415	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "available": 0}
2025-02-11T20:41:44.918Z	INFO	controllers/csm_controller.go:416	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "numberUnavailable": 0}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.918Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	controllers/csm_controller.go:467	pod modified for driver	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:44.919Z	INFO	controllers/csm_controller.go:478	csm prev status 	{"TraceId": "csm-1", "state": {"controllerStatus":{"available":"0","desired":"0","failed":"0"},"nodeStatus":{"available":"0","desired":"0","failed":"1"},"state":"Succeeded"}}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:44.919Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:151	daemonset pod csm-controller : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:189	daemonset status failedCount pods 2	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 2} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:44.920Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"2"}}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:44.921Z	INFO	controllers/csm_controller.go:485	pod status 	{"TraceId": "csm-1", "state": "error message for default-source-cluster \ntest="}
2025-02-11T20:41:44.921Z	INFO	controllers/csm_controller.go:467	pod modified for driver	{"TraceId": "test-1", "name": "csm-controller"}
2025-02-11T20:41:44.921Z	ERROR	controllers/csm_controller.go:476	daemonset get csm	{"TraceId": "0", "error": "ContainerStorageModule.storage.dell.com \"test\" not found"}
2025-02-11T20:41:44.921Z	INFO	controllers/csm_controller.go:478	csm prev status 	{"TraceId": "test-1", "state": {"controllerStatus":{},"nodeStatus":{}}}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "test-1", "status": ""}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:290	update new Status: (State - )	{"TraceId": "test-1"}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:291	Update State	{"TraceId": "test-1", "Controller": {}, "Node": {}}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "test-1"}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:73	Not a driver instance, will not check deploymentstatus	{"TraceId": "test-1"}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:220	instance.GetName() is 	{"TraceId": "test-1"}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "test-1"}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "test-1"}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Succeeded}]	{"TraceId": "test-1"}
2025-02-11T20:41:44.921Z	INFO	utils/status.go:275	Driver State	{"TraceId": "test-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:44.921Z	ERROR	utils/status.go:320	ContainerStorageModule.storage.dell.com "" not found Failed to update CR status	{"TraceId": "test-1"}
2025-02-11T20:41:44.921Z	INFO	controllers/csm_controller.go:485	pod status 	{"TraceId": "test-1", "state": "ContainerStorageModule.storage.dell.com \"\" not found"}
2025-02-11T20:41:44.921Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:44.921Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-2"}
2025-02-11T20:41:44.921Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm", "Attempt": 2}
2025-02-11T20:41:44.922Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-2"}
2025-02-11T20:41:44.922Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-2"}
2025-02-11T20:41:44.922Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-2"}
2025-02-11T20:41:44.922Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-2"}
2025-02-11T20:41:44.922Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-2"}
2025-02-11T20:41:44.922Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:44.922Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-2", "desired": 0}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-2", "numberReady": 0}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-2", "available": 0}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-2", "numberUnavailable": 0}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:151	daemonset pod csm-controller : Running	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:151	daemonset pod csm-pod : 	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:181	daemonset pod: csm-pod is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-2", "message": "", "Reason": "test"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: error message for default-source-cluster 
test=	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-2", "newStatus.State": "Succeeded"}
2025-02-11T20:41:44.923Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-2"}
2025-02-11T20:41:44.923Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-2"}
2025-02-11T20:41:44.937Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-2", "name": "provisioner"}
2025-02-11T20:41:44.937Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-2"}
2025-02-11T20:41:44.937Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-2"}
2025-02-11T20:41:44.940Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:44.940Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-2", "Name:": "csm-node"}
2025-02-11T20:41:44.940Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-2", "Name:": "csm-controller"}
2025-02-11T20:41:44.940Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:44.941Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:44.941Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:44.941Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:44.941Z	INFO	csidriver/csidriver.go:42	Updating existing CSIDriver Object	{"TraceId": "csm-2", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:44.941Z	INFO	configmap/configmap.go:43	Updating ConfigMap	{"TraceId": "csm-2", "Name:": "csm-config-params"}
2025-02-11T20:41:44.941Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-2", "name": "csm-controller"}
2025-02-11T20:41:44.941Z	INFO	deployment/deployment.go:47	found deployment	{"TraceId": "csm-2", "image": ""}
2025-02-11T20:41:44.942Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-2", "name": "csm-controller"}
2025-02-11T20:41:44.942Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-2", "name": "csm-node"}
2025-02-11T20:41:44.942Z	INFO	daemonset/daemonset.go:41	Found DaemonSet	{"TraceId": "csm-2", "image": "dellemc/csi-isilon:v2.11.0"}
2025-02-11T20:41:44.943Z	INFO	controllers/csm_controller.go:925	Create/Update observability	{"TraceId": "csm-2"}
2025-02-11T20:41:44.943Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-2"}
2025-02-11T20:41:44.945Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:44.945Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.945Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:44.945Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.945Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:44.945Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.945Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:44.945Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.945Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:44.945Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:44.945Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:44.945Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:44.945Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-2"}
2025-02-11T20:41:44.947Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.947Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.947Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:44.947Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:44.947Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-2"}
2025-02-11T20:41:44.954Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.954Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.954Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.954Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:44.954Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.954Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.954Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:44.954Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:44.954Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:44.954Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-2", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:44.954Z	INFO	deployment/deployment.go:47	found deployment	{"TraceId": "csm-2", "image": "quay.io/dell/container-storage-modules/csm-metrics-powerscale:v1.7.0"}
2025-02-11T20:41:44.955Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-2", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:44.955Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-2"}
2025-02-11T20:41:44.959Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.959Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.959Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.960Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:44.960Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.960Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.960Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:44.960Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:44.960Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:44.960Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-2", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:44.960Z	INFO	deployment/deployment.go:47	found deployment	{"TraceId": "csm-2", "image": "quay.io/dell/container-storage-modules/csm-metrics-powerflex:v1.10.0"}
2025-02-11T20:41:44.961Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-2", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:44.961Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:44.962Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:44.962Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:44.963Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:44.963Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-2", "status": "Succeeded"}
2025-02-11T20:41:44.963Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-2"}
2025-02-11T20:41:44.963Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:44.963Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:44.963Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:44.963Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-2", "desired": 0}
2025-02-11T20:41:44.963Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-2", "numberReady": 0}
2025-02-11T20:41:44.963Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-2", "available": 0}
2025-02-11T20:41:44.963Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-2", "numberUnavailable": 0}
2025-02-11T20:41:44.963Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:44.963Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:151	daemonset pod csm-controller : Running	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:151	daemonset pod csm-pod : 	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:181	daemonset pod: csm-pod is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-2", "message": "", "Reason": "test"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.964Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.965Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-2"}
2025-02-11T20:41:44.965Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-2"}
2025-02-11T20:41:44.965Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:44.965Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-2", "desired": "0"}
2025-02-11T20:41:44.965Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-2", "Available": "0"}
2025-02-11T20:41:44.965Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-2", "numberUnavailable": "0"}
2025-02-11T20:41:44.965Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-2", "State": "Succeeded"}
2025-02-11T20:41:44.965Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-2"}
################End Reconcile##############
2025-02-11T20:41:44.965Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:44.965Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:44.965Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:44.965Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:44.966Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:44.967Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-1"}
2025-02-11T20:41:44.967Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:44.967Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:44.967Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-1"}
2025-02-11T20:41:44.967Z	INFO	controllers/csm_controller.go:295	Delete request	{"TraceId": "csm-1", "csm": "test", "Name": "csm"}
2025-02-11T20:41:44.967Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:44.982Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-1", "name": "provisioner"}
2025-02-11T20:41:44.982Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"TraceId": "csm-1", "ignored": "default-source-cluster"}
2025-02-11T20:41:44.982Z	INFO	controllers/csm_controller.go:1182	removing driver from	{"TraceId": "csm-1"}
2025-02-11T20:41:44.982Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.982Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.982Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.982Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.982Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.982Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.982Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.982Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csi-isilon.dellemc.com", "Kind:": "CSIDriver"}
2025-02-11T20:41:44.983Z	INFO	controllers/csm_controller.go:1293	Deleting observability	{"TraceId": "csm-1"}
2025-02-11T20:41:44.983Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-1"}
2025-02-11T20:41:44.985Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:44.985Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.985Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:44.985Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.985Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:44.985Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.985Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:44.985Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.985Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:44.985Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:44.985Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:44.986Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:44.986Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-1"}
2025-02-11T20:41:44.989Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.989Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.989Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:44.989Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:44.989Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-1"}
2025-02-11T20:41:44.995Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:44.995Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:44.995Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:44.995Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:44.996Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.996Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:44.996Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:44.996Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:44.996Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:44.996Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-1"}
2025-02-11T20:41:45.002Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.002Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.002Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.003Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:45.003Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.003Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap", "Namespace:": "karavi"}
2025-02-11T20:41:45.003Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "csm-creds", "Kind:": "", "Namespace:": "karavi"}
2025-02-11T20:41:45.003Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "isilon-karavi-authorization-config", "Kind:": "", "Namespace:": "karavi"}
2025-02-11T20:41:45.003Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "isilon-proxy-authz-tokens", "Kind:": "", "Namespace:": "karavi"}
2025-02-11T20:41:45.004Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:45.004Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:45.005Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "selfsigned-issuer", "Kind:": "Issuer", "Namespace:": "karavi"}
2025-02-11T20:41:45.005Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Certificate"}
[ShouldFail] force Update csm error for obj of type &{TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csm GenerateName: Namespace:test SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:0001-01-01 00:00:00 +0000 UTC DeletionTimestamp:2025-02-11 20:41:44 +0000 UTC DeletionGracePeriodSeconds:<nil> Labels:map[] Annotations:map[storage.dell.com/CSMOperatorConfigVersion:v2.11.0 storage.dell.com/CSMVersion:v1.13.0 storage.dell.com/PreviouslyAppliedConfiguration:{"metadata":{"name":"csm","namespace":"test","creationTimestamp":null,"annotations":{"storage.dell.com/CSMOperatorConfigVersion":"v2.11.0","storage.dell.com/CSMVersion":"v1.13.0"},"finalizers":["finalizer.dell.emc.com"]},"spec":{"driver":{"csiDriverType":"isilon","csiDriverSpec":null,"configVersion":"v2.11.0","replicas":0,"common":{"image":"image","envs":[{"name":"X_CSI_ISI_SKIP_CERTIFICATE_VALIDATION","value":"true"},{"name":"CHECK_OWNER_REFERENCE","value":"false"}]},"sideCars":[{"name":"provisioner","enabled":true,"image":"image2","imagePullPolicy":"IfNotPresent","args":["--volume-name-prefix=k8s"]}],"forceRemoveDriver":true},"modules":[{"name":"authorization","enabled":true,"configVersion":"v2.0.0-alpha","components":[{"name":"karavi-authorization-proxy","envs":[{"name":"SKIP_CERTIFICATE_VALIDATION","value":"true"}]}]},{"name":"observability","enabled":true,"configVersion":"v1.10.0","components":[{"name":"topology","enabled":true,"envs":[{"name":"TOPOLOGY_LOG_LEVEL","value":"INFO"}]},{"name":"otel-collector","enabled":true,"envs":[{"name":"NGINX_PROXY_IMAGE","value":"nginxinc/nginx-unprivileged:1.27"}]},{"name":"metrics-powerscale","enabled":true,"envs":[{"name":"POWERSCALE_MAX_CONCURRENT_QUERIES","value":"10"}]},{"name":"metrics-powerflex","enabled":true,"envs":[{"name":"POWERFLEX_MAX_CONCURRENT_QUERIES","value":"10"}]},{"name":"cert-manager","enabled":false}]}]},"status":{"controllerStatus":{},"nodeStatus":{}}}] OwnerReferences:[] Finalizers:[] ManagedFields:[]} Spec:{Driver:{CSIDriverType:isilon CSIDriverSpec:<nil> ConfigVersion:v2.11.0 Replicas:0 DNSPolicy: Common:0xc0002818c8 Controller:<nil> Node:<nil> SideCars:[{Name:provisioner Enabled:0xc000989e50 Image:image2 ImagePullPolicy:IfNotPresent Args:[--volume-name-prefix=k8s] Envs:[] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:}] InitContainers:[] SnapshotClass:[] AuthSecret: TLSCertSecret: ForceRemoveDriver:0xc000989e58} Modules:[{Name:authorization Enabled:true ConfigVersion:v2.0.0-alpha Components:[{Name:karavi-authorization-proxy Enabled:<nil> Image: ImagePullPolicy: Args:[] Envs:[{Name:SKIP_CERTIFICATE_VALIDATION Value:true ValueFrom:nil}] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:}] ForceRemoveModule:false InitContainer:[]} {Name:observability Enabled:true ConfigVersion:v1.10.0 Components:[{Name:topology Enabled:0xc000989eb0 Image: ImagePullPolicy: Args:[] Envs:[{Name:TOPOLOGY_LOG_LEVEL Value:INFO ValueFrom:nil}] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:} {Name:otel-collector Enabled:0xc000989eb8 Image: ImagePullPolicy: Args:[] Envs:[{Name:NGINX_PROXY_IMAGE Value:nginxinc/nginx-unprivileged:1.27 ValueFrom:nil}] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:} {Name:metrics-powerscale Enabled:0xc000989eb9 Image: ImagePullPolicy: Args:[] Envs:[{Name:POWERSCALE_MAX_CONCURRENT_QUERIES Value:10 ValueFrom:nil}] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:} {Name:metrics-powerflex Enabled:0xc000989ebc Image: ImagePullPolicy: Args:[] Envs:[{Name:POWERFLEX_MAX_CONCURRENT_QUERIES Value:10 ValueFrom:nil}] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:} {Name:cert-manager Enabled:0xc000989edc Image: ImagePullPolicy: Args:[] Envs:[] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:}] ForceRemoveModule:false InitContainer:[]}]} Status:{ControllerStatus:{Available:0 Desired:0 Failed:0} NodeStatus:{Available:0 Desired:0 Failed:1} State:Succeeded}}
2025-02-11T20:41:45.006Z	ERROR	controllers/csm_controller.go:320	remove driver finalizer	{"TraceId": "csm-1", "error": "unable to get CSM"}
=== RUN   TestCustom/TestErrorInjection
2025-02-11T20:41:45Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:45.006Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:45.006Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:45.006Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:45.006Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:45Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
2025-02-11T20:41:45.006Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:45.006Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:45.006Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:45.006Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:45.007Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	controllers/csm_controller.go:330	HandleFinalizer	{"TraceId": "csm-1", "name": "finalizer.dell.emc.com"}
2025-02-11T20:41:45.007Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:45.007Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:45.007Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:45.019Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-1", "name": "provisioner"}
2025-02-11T20:41:45.019Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-1"}
2025-02-11T20:41:45.019Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:45.021Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.021Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-node"}
[ShouldFail] force Create ServiceAccount error for ServiceAccount named csm-node
################End Reconcile##############
2025-02-11T20:41:45.021Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:45.021Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-2"}
2025-02-11T20:41:45.021Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm", "Attempt": 2}
2025-02-11T20:41:45.021Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-2"}
2025-02-11T20:41:45.021Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-2"}
2025-02-11T20:41:45.021Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-2"}
2025-02-11T20:41:45.021Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:45.022Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-2", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:45.022Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-2"}
2025-02-11T20:41:45.033Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-2", "name": "provisioner"}
2025-02-11T20:41:45.033Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-2"}
2025-02-11T20:41:45.033Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-2"}
2025-02-11T20:41:45.035Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:45.035Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:45.035Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:45.035Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-2"}
[ShouldFail] force Create ClusterRole error for ClusterRole named csm-node
################End Reconcile##############
2025-02-11T20:41:45.035Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-3"}
2025-02-11T20:41:45.035Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-3"}
2025-02-11T20:41:45.035Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-3", "Namespace": "test", "Name": "csm", "Attempt": 3}
2025-02-11T20:41:45.035Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-3"}
2025-02-11T20:41:45.035Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-3"}
2025-02-11T20:41:45.035Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-3"}
2025-02-11T20:41:45.035Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-3"}
2025-02-11T20:41:45.035Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-3"}
2025-02-11T20:41:45.035Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-3"}
2025-02-11T20:41:45.035Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-3", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-3"}
2025-02-11T20:41:45.036Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-3", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:45.036Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-3"}
2025-02-11T20:41:45.048Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-3", "name": "provisioner"}
2025-02-11T20:41:45.048Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-3"}
2025-02-11T20:41:45.048Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-3"}
2025-02-11T20:41:45.050Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-3"}
2025-02-11T20:41:45.050Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-3", "Name:": "csm-node"}
2025-02-11T20:41:45.050Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-3", "Name:": "csm-controller"}
2025-02-11T20:41:45.050Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-3"}
2025-02-11T20:41:45.050Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-3"}
2025-02-11T20:41:45.051Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-3"}
[ShouldFail] force Create ClusterRoleBinding error for ClusterRoleBinding named csm-node
################End Reconcile##############
2025-02-11T20:41:45.051Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-4", "Namespace": "test", "Name": "csm", "Attempt": 4}
2025-02-11T20:41:45.051Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:45.051Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-4"}
2025-02-11T20:41:45.052Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:45.052Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:45.052Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-4"}
2025-02-11T20:41:45.052Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:45.052Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:45.052Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-4"}
2025-02-11T20:41:45.052Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-4"}
2025-02-11T20:41:45.052Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-4", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:45.052Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-4"}
2025-02-11T20:41:45.052Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-4"}
2025-02-11T20:41:45.052Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-4", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:45.052Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-4"}
2025-02-11T20:41:45.063Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-4", "name": "provisioner"}
2025-02-11T20:41:45.063Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-4"}
2025-02-11T20:41:45.063Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-4"}
2025-02-11T20:41:45.065Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-4"}
2025-02-11T20:41:45.065Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-4", "Name:": "csm-node"}
2025-02-11T20:41:45.065Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-4", "Name:": "csm-controller"}
2025-02-11T20:41:45.065Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-4"}
2025-02-11T20:41:45.066Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-4"}
2025-02-11T20:41:45.066Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-4"}
2025-02-11T20:41:45.066Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-4"}
2025-02-11T20:41:45.066Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-4", "Name:": "csi-isilon.dellemc.com"}
[ShouldFail] force Create Csidriver error for csidriver named csi-isilon.dellemc.com
################End Reconcile##############
2025-02-11T20:41:45.066Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-5", "Namespace": "test", "Name": "csm", "Attempt": 5}
2025-02-11T20:41:45.066Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-5", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-5"}
2025-02-11T20:41:45.066Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-5", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:45.067Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-5"}
2025-02-11T20:41:45.079Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-5", "name": "provisioner"}
2025-02-11T20:41:45.079Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-5"}
2025-02-11T20:41:45.079Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-5"}
2025-02-11T20:41:45.081Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-5"}
2025-02-11T20:41:45.081Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-5", "Name:": "csm-node"}
2025-02-11T20:41:45.081Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-5", "Name:": "csm-controller"}
2025-02-11T20:41:45.081Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-5"}
2025-02-11T20:41:45.081Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-5"}
2025-02-11T20:41:45.081Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-5"}
2025-02-11T20:41:45.081Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-controller	{"TraceId": "csm-5"}
2025-02-11T20:41:45.081Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-5", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:45.081Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-5", "Name": "csm-config-params"}
[ShouldFail] force create Configmap error for configmap named csm-config-params
################End Reconcile##############
2025-02-11T20:41:45.081Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-6"}
2025-02-11T20:41:45.081Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-6", "Namespace": "test", "Name": "csm", "Attempt": 6}
2025-02-11T20:41:45.082Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-6", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:379	CSM state is failed, will requeue	{"TraceId": "csm-6"}
2025-02-11T20:41:45.082Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-6", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:45.082Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-6"}
2025-02-11T20:41:45.096Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-6", "name": "provisioner"}
2025-02-11T20:41:45.096Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-6"}
2025-02-11T20:41:45.097Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-6"}
2025-02-11T20:41:45.099Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-6"}
2025-02-11T20:41:45.099Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-6", "Name:": "csm-node"}
2025-02-11T20:41:45.099Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-6", "Name:": "csm-controller"}
2025-02-11T20:41:45.099Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-6"}
2025-02-11T20:41:45.099Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-6"}
2025-02-11T20:41:45.100Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-6"}
2025-02-11T20:41:45.100Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-controller	{"TraceId": "csm-6"}
2025-02-11T20:41:45.100Z	INFO	csidriver/csidriver.go:42	Updating existing CSIDriver Object	{"TraceId": "csm-6", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:45.100Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-6", "Name": "csm-config-params"}
2025-02-11T20:41:45.100Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-6", "name": "csm-controller"}
2025-02-11T20:41:45.100Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-6", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:45.100Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-6", "Name:": "csm-controller"}
2025-02-11T20:41:45.101Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-6", "name": "csm-controller"}
2025-02-11T20:41:45.101Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-6", "name": "csm-node"}
2025-02-11T20:41:45.101Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-6", "Name:": "csm-node"}
################End Reconcile##############
2025-02-11T20:41:45.101Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-7"}
2025-02-11T20:41:45.101Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-7"}
2025-02-11T20:41:45.101Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-7", "Namespace": "test", "Name": "csm", "Attempt": 7}
2025-02-11T20:41:45.102Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-7"}
2025-02-11T20:41:45.102Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-7"}
2025-02-11T20:41:45.102Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-7"}
2025-02-11T20:41:45.103Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-7"}
2025-02-11T20:41:45.103Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-7"}
2025-02-11T20:41:45.103Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-7"}
2025-02-11T20:41:45.103Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-7"}
2025-02-11T20:41:45.103Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-7", "desired": 0}
2025-02-11T20:41:45.103Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-7", "numberReady": 0}
2025-02-11T20:41:45.103Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-7", "available": 0}
2025-02-11T20:41:45.103Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-7", "numberUnavailable": 0}
2025-02-11T20:41:45.103Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-7"}
2025-02-11T20:41:45.103Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-7"}
2025-02-11T20:41:45.103Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-7"}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-7"}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-7"}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-7"}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-7"}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-7"}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-7", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-7"}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-7", "newStatus.State": "Succeeded"}
2025-02-11T20:41:45.104Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-7"}
2025-02-11T20:41:45.104Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-7"}
2025-02-11T20:41:45.125Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-7", "name": "provisioner"}
2025-02-11T20:41:45.125Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-7"}
2025-02-11T20:41:45.126Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-7"}
2025-02-11T20:41:45.128Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-7"}
2025-02-11T20:41:45.128Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-7", "Name:": "csm-node"}
2025-02-11T20:41:45.128Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-7", "Name:": "csm-controller"}
2025-02-11T20:41:45.128Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-7"}
2025-02-11T20:41:45.128Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-7"}
2025-02-11T20:41:45.128Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-7"}
2025-02-11T20:41:45.128Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-controller	{"TraceId": "csm-7"}
2025-02-11T20:41:45.128Z	INFO	csidriver/csidriver.go:42	Updating existing CSIDriver Object	{"TraceId": "csm-7", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:45.128Z	INFO	configmap/configmap.go:43	Updating ConfigMap	{"TraceId": "csm-7", "Name:": "csm-config-params"}
2025-02-11T20:41:45.128Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-7", "name": "csm-controller"}
2025-02-11T20:41:45.129Z	INFO	deployment/deployment.go:47	found deployment	{"TraceId": "csm-7", "image": ""}
2025-02-11T20:41:45.130Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-7", "name": "csm-controller"}
2025-02-11T20:41:45.130Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-7", "name": "csm-node"}
2025-02-11T20:41:45.130Z	INFO	daemonset/daemonset.go:41	Found DaemonSet	{"TraceId": "csm-7", "image": "dellemc/csi-isilon:v2.11.0"}
2025-02-11T20:41:45.130Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-7", "status": "Succeeded"}
2025-02-11T20:41:45.130Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-7"}
2025-02-11T20:41:45.130Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-7", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.130Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-7", "desired": 0}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-7", "numberReady": 0}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-7", "available": 0}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-7", "numberUnavailable": 0}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-7"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-7", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-7", "desired": "0"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-7", "Available": "0"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-7", "numberUnavailable": "0"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-7", "State": "Succeeded"}
2025-02-11T20:41:45.131Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-7"}
################End Reconcile##############
2025-02-11T20:41:45.131Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-8"}
2025-02-11T20:41:45.131Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-8"}
2025-02-11T20:41:45.131Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-8", "Namespace": "test", "Name": "csm", "Attempt": 8}
2025-02-11T20:41:45.132Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-8"}
2025-02-11T20:41:45.132Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-8"}
2025-02-11T20:41:45.132Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-8"}
2025-02-11T20:41:45.132Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-8"}
2025-02-11T20:41:45.132Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-8"}
2025-02-11T20:41:45.132Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-8"}
2025-02-11T20:41:45.132Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-8"}
2025-02-11T20:41:45.132Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-8", "desired": 0}
2025-02-11T20:41:45.132Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-8", "numberReady": 0}
2025-02-11T20:41:45.132Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-8", "available": 0}
2025-02-11T20:41:45.132Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-8", "numberUnavailable": 0}
2025-02-11T20:41:45.132Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-8"}
2025-02-11T20:41:45.132Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-8"}
2025-02-11T20:41:45.132Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-8"}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-8"}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-8"}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-8"}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-8"}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-8"}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-8", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-8"}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-8", "newStatus.State": "Succeeded"}
2025-02-11T20:41:45.134Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-8"}
2025-02-11T20:41:45.134Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-8"}
2025-02-11T20:41:45.146Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-8", "name": "provisioner"}
2025-02-11T20:41:45.146Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-8"}
2025-02-11T20:41:45.147Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-8"}
2025-02-11T20:41:45.148Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-8"}
2025-02-11T20:41:45.148Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-8", "Name:": "csm-node"}
2025-02-11T20:41:45.149Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-8", "Name:": "csm-controller"}
2025-02-11T20:41:45.149Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-8"}
2025-02-11T20:41:45.149Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-8"}
2025-02-11T20:41:45.150Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-8"}
2025-02-11T20:41:45.150Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-controller	{"TraceId": "csm-8"}
[ShouldFail] force Get Csidriver error for csidriver named 
2025-02-11T20:41:45.150Z	ERROR	csidriver/csidriver.go:39	Unknown error.	{"TraceId": "csm-8", "Error": "unable to get Csidriver"}
################End Reconcile##############
2025-02-11T20:41:45.150Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-9"}
2025-02-11T20:41:45.150Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-9"}
2025-02-11T20:41:45.150Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-9", "Namespace": "test", "Name": "csm", "Attempt": 9}
2025-02-11T20:41:45.150Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-9"}
2025-02-11T20:41:45.151Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-9"}
2025-02-11T20:41:45.151Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-9"}
2025-02-11T20:41:45.151Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-9"}
2025-02-11T20:41:45.151Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-9"}
2025-02-11T20:41:45.151Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-9", "desired": 0}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-9", "numberReady": 0}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-9", "available": 0}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-9", "numberUnavailable": 0}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-9"}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-9", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.152Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-9"}
2025-02-11T20:41:45.153Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-9", "newStatus.State": "Succeeded"}
2025-02-11T20:41:45.153Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-9"}
2025-02-11T20:41:45.153Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-9"}
2025-02-11T20:41:45.168Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-9", "name": "provisioner"}
2025-02-11T20:41:45.169Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-9"}
2025-02-11T20:41:45.169Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-9"}
2025-02-11T20:41:45.171Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-9"}
2025-02-11T20:41:45.171Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-9", "Name:": "csm-node"}
2025-02-11T20:41:45.171Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-9", "Name:": "csm-controller"}
2025-02-11T20:41:45.172Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-9"}
2025-02-11T20:41:45.172Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-9"}
2025-02-11T20:41:45.172Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-9"}
2025-02-11T20:41:45.172Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-controller	{"TraceId": "csm-9"}
2025-02-11T20:41:45.172Z	INFO	csidriver/csidriver.go:42	Updating existing CSIDriver Object	{"TraceId": "csm-9", "Name:": "csi-isilon.dellemc.com"}
[ShouldFail] force Get Configmap error for configmap named 
[ShouldFail] force Get Configmap error for configmap named &ConfigMap{ObjectMeta:{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{},BinaryData:map[string][]byte{},Immutable:nil,}
2025-02-11T20:41:45.172Z	ERROR	configmap/configmap.go:40	Unknown error.	{"TraceId": "csm-9", "Error": "unable to get ConfigMap"}
################End Reconcile##############
2025-02-11T20:41:45.172Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-10"}
2025-02-11T20:41:45.172Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-10"}
2025-02-11T20:41:45.172Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-10", "Namespace": "test", "Name": "csm", "Attempt": 10}
2025-02-11T20:41:45.172Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-10"}
2025-02-11T20:41:45.173Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-10"}
2025-02-11T20:41:45.173Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-10"}
2025-02-11T20:41:45.173Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-10"}
2025-02-11T20:41:45.173Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-10"}
2025-02-11T20:41:45.173Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-10"}
2025-02-11T20:41:45.173Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-10"}
2025-02-11T20:41:45.173Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-10", "desired": 0}
2025-02-11T20:41:45.173Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-10", "numberReady": 0}
2025-02-11T20:41:45.173Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-10", "available": 0}
2025-02-11T20:41:45.173Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-10", "numberUnavailable": 0}
2025-02-11T20:41:45.173Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-10"}
2025-02-11T20:41:45.173Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-10"}
2025-02-11T20:41:45.173Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-10"}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-10"}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-10"}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-10"}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-10"}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-10"}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-10"}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-10"}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-10"}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-10"}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-10", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-10"}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-10", "newStatus.State": "Succeeded"}
2025-02-11T20:41:45.174Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-10"}
2025-02-11T20:41:45.174Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-10"}
2025-02-11T20:41:45.190Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-10", "name": "provisioner"}
2025-02-11T20:41:45.190Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-10"}
2025-02-11T20:41:45.190Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-10"}
2025-02-11T20:41:45.192Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-10"}
2025-02-11T20:41:45.192Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-10", "Name:": "csm-node"}
2025-02-11T20:41:45.192Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-10", "Name:": "csm-controller"}
2025-02-11T20:41:45.192Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-10"}
2025-02-11T20:41:45.192Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-10"}
2025-02-11T20:41:45.192Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-10"}
2025-02-11T20:41:45.192Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-controller	{"TraceId": "csm-10"}
2025-02-11T20:41:45.192Z	INFO	csidriver/csidriver.go:42	Updating existing CSIDriver Object	{"TraceId": "csm-10", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:45.192Z	INFO	configmap/configmap.go:43	Updating ConfigMap	{"TraceId": "csm-10", "Name:": "csm-config-params"}
[ShouldFail] force Update Configmap error for configmap named csm-config-params
################End Reconcile##############
2025-02-11T20:41:45.192Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-11"}
2025-02-11T20:41:45.192Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-11", "Namespace": "test", "Name": "csm", "Attempt": 11}
2025-02-11T20:41:45.192Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-11"}
2025-02-11T20:41:45.193Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-11"}
2025-02-11T20:41:45.193Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-11"}
2025-02-11T20:41:45.193Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-11"}
2025-02-11T20:41:45.193Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-11"}
2025-02-11T20:41:45.193Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-11"}
2025-02-11T20:41:45.193Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-11", "desired": 0}
2025-02-11T20:41:45.193Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-11", "numberReady": 0}
2025-02-11T20:41:45.193Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-11", "available": 0}
2025-02-11T20:41:45.193Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-11", "numberUnavailable": 0}
2025-02-11T20:41:45.193Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-11"}
2025-02-11T20:41:45.193Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-11"}
2025-02-11T20:41:45.193Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-11"}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-11"}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-11"}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-11"}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-11"}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-11"}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-11"}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-11"}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-11"}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-11"}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-11", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-11"}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-11", "newStatus.State": "Succeeded"}
2025-02-11T20:41:45.194Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-11"}
2025-02-11T20:41:45.194Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-11"}
2025-02-11T20:41:45.213Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-11", "name": "provisioner"}
2025-02-11T20:41:45.213Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-11"}
[ShouldFail] force Update csm error for obj of type &{TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csm GenerateName: Namespace:test SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:0001-01-01 00:00:00 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[] Annotations:map[storage.dell.com/CSMOperatorConfigVersion:v2.11.0 storage.dell.com/CSMVersion:v1.13.0 storage.dell.com/PreviouslyAppliedConfiguration:{"metadata":{"name":"csm","namespace":"test","creationTimestamp":null,"annotations":{"storage.dell.com/CSMOperatorConfigVersion":"v2.11.0","storage.dell.com/CSMVersion":"v1.13.0"},"finalizers":["finalizer.dell.emc.com"]},"spec":{"driver":{"csiDriverType":"isilon","csiDriverSpec":null,"configVersion":"v2.11.0","replicas":0,"common":{"image":"image","envs":[{"name":"X_CSI_ISI_SKIP_CERTIFICATE_VALIDATION","value":"true"},{"name":"CHECK_OWNER_REFERENCE","value":"false"}]},"sideCars":[{"name":"provisioner","enabled":true,"image":"image2","imagePullPolicy":"IfNotPresent","args":["--volume-name-prefix=k8s"]}],"forceRemoveDriver":true},"modules":[{"name":"authorization","enabled":true,"configVersion":"v2.0.0-alpha","components":[{"name":"karavi-authorization-proxy","envs":[{"name":"SKIP_CERTIFICATE_VALIDATION","value":"true"}]}]}]},"status":{"controllerStatus":{},"nodeStatus":{}}}] OwnerReferences:[] Finalizers:[finalizer.dell.emc.com] ManagedFields:[]} Spec:{Driver:{CSIDriverType:isilon CSIDriverSpec:<nil> ConfigVersion:v2.11.0 Replicas:0 DNSPolicy: Common:0xc0001cc2c8 Controller:<nil> Node:<nil> SideCars:[{Name:provisioner Enabled:0xc000553f20 Image:image2 ImagePullPolicy:IfNotPresent Args:[--volume-name-prefix=k8s] Envs:[] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:}] InitContainers:[] SnapshotClass:[] AuthSecret: TLSCertSecret: ForceRemoveDriver:0xc000553f28} Modules:[{Name:authorization Enabled:true ConfigVersion:v2.0.0-alpha Components:[{Name:karavi-authorization-proxy Enabled:<nil> Image: ImagePullPolicy: Args:[] Envs:[{Name:SKIP_CERTIFICATE_VALIDATION Value:true ValueFrom:nil}] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:}] ForceRemoveModule:false InitContainer:[]}]} Status:{ControllerStatus:{Available:0 Desired:0 Failed:0} NodeStatus:{Available:0 Desired:0 Failed:0} State:Succeeded}}
################End Reconcile##############
2025-02-11T20:41:45.213Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-12"}
2025-02-11T20:41:45.213Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-12"}
2025-02-11T20:41:45.213Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-12", "Namespace": "test", "Name": "csm", "Attempt": 12}
2025-02-11T20:41:45.213Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-12", "desired": 0}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-12", "numberReady": 0}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-12", "available": 0}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-12", "numberUnavailable": 0}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-12", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-12", "newStatus.State": "Succeeded"}
2025-02-11T20:41:45.214Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-12"}
2025-02-11T20:41:45.214Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-12"}
2025-02-11T20:41:45.228Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-12", "name": "provisioner"}
2025-02-11T20:41:45.228Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-12"}
2025-02-11T20:41:45.228Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-12"}
2025-02-11T20:41:45.231Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-12"}
2025-02-11T20:41:45.231Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-12", "Name:": "csm-node"}
2025-02-11T20:41:45.231Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-12", "Name:": "csm-controller"}
2025-02-11T20:41:45.231Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-12"}
2025-02-11T20:41:45.231Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-12"}
[ShouldFail] force Get ClusterRoleBinding error for ClusterRoleBinding named 
2025-02-11T20:41:45.231Z	INFO	rbac/rolebindings.go:37	Unknown error.Errorunable to get ClusterroleBinding	{"TraceId": "csm-12"}
################End Reconcile##############
2025-02-11T20:41:45.231Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-13"}
2025-02-11T20:41:45.231Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-13"}
2025-02-11T20:41:45.231Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-13", "Namespace": "test", "Name": "csm", "Attempt": 13}
2025-02-11T20:41:45.232Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-13"}
2025-02-11T20:41:45.232Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-13"}
2025-02-11T20:41:45.232Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-13"}
2025-02-11T20:41:45.232Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-13"}
2025-02-11T20:41:45.232Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-13"}
2025-02-11T20:41:45.232Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-13"}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-13"}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-13", "desired": 0}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-13", "numberReady": 0}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-13", "available": 0}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-13", "numberUnavailable": 0}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-13"}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-13"}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-13"}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-13"}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-13"}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-13"}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-13"}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-13"}
2025-02-11T20:41:45.233Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-13"}
2025-02-11T20:41:45.234Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-13"}
2025-02-11T20:41:45.234Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-13"}
2025-02-11T20:41:45.234Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-13"}
2025-02-11T20:41:45.234Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-13", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.234Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-13"}
2025-02-11T20:41:45.234Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-13", "newStatus.State": "Succeeded"}
2025-02-11T20:41:45.234Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-13"}
2025-02-11T20:41:45.234Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-13"}
2025-02-11T20:41:45.246Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-13", "name": "provisioner"}
2025-02-11T20:41:45.246Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-13"}
2025-02-11T20:41:45.246Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-13"}
2025-02-11T20:41:45.248Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-13"}
2025-02-11T20:41:45.248Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-13", "Name:": "csm-node"}
2025-02-11T20:41:45.248Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-13", "Name:": "csm-controller"}
2025-02-11T20:41:45.248Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-13"}
2025-02-11T20:41:45.248Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-13"}
2025-02-11T20:41:45.248Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-13"}
[ShouldFail] force Update ClusterRoleBinding error for ClusterRoleBinding named csm-node
################End Reconcile##############
2025-02-11T20:41:45.248Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-14"}
2025-02-11T20:41:45.248Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-14"}
2025-02-11T20:41:45.248Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-14", "Namespace": "test", "Name": "csm", "Attempt": 14}
2025-02-11T20:41:45.248Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-14", "desired": 0}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-14", "numberReady": 0}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-14", "available": 0}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-14", "numberUnavailable": 0}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-14", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-14", "newStatus.State": "Succeeded"}
2025-02-11T20:41:45.249Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-14"}
2025-02-11T20:41:45.249Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-14"}
2025-02-11T20:41:45.261Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-14", "name": "provisioner"}
2025-02-11T20:41:45.261Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-14"}
2025-02-11T20:41:45.261Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-14"}
2025-02-11T20:41:45.263Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-14"}
2025-02-11T20:41:45.263Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-14", "Name:": "csm-node"}
2025-02-11T20:41:45.263Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-14", "Name:": "csm-controller"}
[ShouldFail] force Get ClusterRole error for ClusterRole named 
2025-02-11T20:41:45.263Z	INFO	rbac/clusterrole.go:42	Unknown error.Errorunable to get Clusterrole	{"TraceId": "csm-14"}
################End Reconcile##############
2025-02-11T20:41:45.263Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-15"}
2025-02-11T20:41:45.263Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-15"}
2025-02-11T20:41:45.263Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-15", "Namespace": "test", "Name": "csm", "Attempt": 15}
2025-02-11T20:41:45.264Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-15"}
2025-02-11T20:41:45.264Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-15"}
2025-02-11T20:41:45.264Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-15"}
2025-02-11T20:41:45.264Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-15"}
2025-02-11T20:41:45.264Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-15"}
2025-02-11T20:41:45.264Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-15"}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-15"}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-15", "desired": 0}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-15", "numberReady": 0}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-15", "available": 0}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-15", "numberUnavailable": 0}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-15"}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-15"}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-15"}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-15"}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-15"}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-15"}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-15"}
2025-02-11T20:41:45.265Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-15"}
2025-02-11T20:41:45.266Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-15"}
2025-02-11T20:41:45.266Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-15"}
2025-02-11T20:41:45.266Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-15"}
2025-02-11T20:41:45.266Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-15"}
2025-02-11T20:41:45.266Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-15", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.266Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-15"}
2025-02-11T20:41:45.266Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-15", "newStatus.State": "Succeeded"}
2025-02-11T20:41:45.266Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-15"}
2025-02-11T20:41:45.266Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-15"}
2025-02-11T20:41:45.278Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-15", "name": "provisioner"}
2025-02-11T20:41:45.278Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-15"}
2025-02-11T20:41:45.279Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-15"}
2025-02-11T20:41:45.281Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-15"}
2025-02-11T20:41:45.281Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-15", "Name:": "csm-node"}
2025-02-11T20:41:45.281Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-15", "Name:": "csm-controller"}
2025-02-11T20:41:45.281Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-15"}
[ShouldFail] force Update ClusterRole error for ClusterRole named csm-node
################End Reconcile##############
2025-02-11T20:41:45.281Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-16"}
2025-02-11T20:41:45.281Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-16"}
2025-02-11T20:41:45.281Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-16", "Namespace": "test", "Name": "csm", "Attempt": 16}
2025-02-11T20:41:45.281Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-16"}
2025-02-11T20:41:45.281Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-16"}
2025-02-11T20:41:45.281Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-16"}
2025-02-11T20:41:45.281Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-16"}
2025-02-11T20:41:45.281Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-16"}
2025-02-11T20:41:45.281Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-16", "desired": 0}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-16", "numberReady": 0}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-16", "available": 0}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-16", "numberUnavailable": 0}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-16"}
2025-02-11T20:41:45.282Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-16", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.283Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-16"}
2025-02-11T20:41:45.283Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-16", "newStatus.State": "Succeeded"}
2025-02-11T20:41:45.283Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-16"}
2025-02-11T20:41:45.283Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-16"}
2025-02-11T20:41:45.294Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-16", "name": "provisioner"}
2025-02-11T20:41:45.294Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-16"}
2025-02-11T20:41:45.294Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-16"}
2025-02-11T20:41:45.298Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-16"}
[ShouldFail] force Get ServiceAccount error for ServiceAccount named 
2025-02-11T20:41:45.298Z	ERROR	serviceaccount/serviceaccount.go:41	Unknown error.	{"TraceId": "csm-16", "Error": "unable to get ServiceAccount"}
################End Reconcile##############
2025-02-11T20:41:45.298Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-17"}
2025-02-11T20:41:45.298Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-17"}
2025-02-11T20:41:45.298Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-17", "Namespace": "test", "Name": "csm", "Attempt": 17}
2025-02-11T20:41:45.298Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-17"}
2025-02-11T20:41:45.298Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-17"}
2025-02-11T20:41:45.298Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-17", "desired": 0}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-17", "numberReady": 0}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-17", "available": 0}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-17", "numberUnavailable": 0}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-17", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-17", "newStatus.State": "Succeeded"}
2025-02-11T20:41:45.299Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-17"}
2025-02-11T20:41:45.299Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-17"}
2025-02-11T20:41:45.311Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-17", "name": "provisioner"}
2025-02-11T20:41:45.312Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-17"}
2025-02-11T20:41:45.312Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-17"}
2025-02-11T20:41:45.313Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-17"}
2025-02-11T20:41:45.314Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-17", "Name:": "csm-node"}
2025-02-11T20:41:45.314Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-17", "Name:": "csm-controller"}
2025-02-11T20:41:45.314Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-17"}
2025-02-11T20:41:45.314Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-17"}
2025-02-11T20:41:45.314Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-17"}
2025-02-11T20:41:45.314Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-controller	{"TraceId": "csm-17"}
2025-02-11T20:41:45.314Z	INFO	csidriver/csidriver.go:42	Updating existing CSIDriver Object	{"TraceId": "csm-17", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:45.314Z	INFO	configmap/configmap.go:43	Updating ConfigMap	{"TraceId": "csm-17", "Name:": "csm-config-params"}
2025-02-11T20:41:45.314Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-17", "name": "csm-controller"}
2025-02-11T20:41:45.314Z	INFO	deployment/deployment.go:47	found deployment	{"TraceId": "csm-17", "image": ""}
2025-02-11T20:41:45.315Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-17", "name": "csm-controller"}
2025-02-11T20:41:45.315Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-17", "name": "csm-node"}
2025-02-11T20:41:45.315Z	INFO	daemonset/daemonset.go:41	Found DaemonSet	{"TraceId": "csm-17", "image": "dellemc/csi-isilon:v2.11.0"}
[ShouldFail] force update DaemonSet error for DaemonSet named csm-node
2025-02-11T20:41:45.316Z	ERROR	daemonset/daemonset.go:54	Apply DaemonSet error	{"TraceId": "csm-17", "set": "unable to update Daemonset"}
################End Reconcile##############
2025-02-11T20:41:45.316Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-18"}
2025-02-11T20:41:45.316Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-18"}
2025-02-11T20:41:45.316Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-18", "Namespace": "test", "Name": "csm", "Attempt": 18}
2025-02-11T20:41:45.317Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-18"}
2025-02-11T20:41:45.317Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-18"}
2025-02-11T20:41:45.317Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-18"}
2025-02-11T20:41:45.317Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-18"}
2025-02-11T20:41:45.317Z	INFO	controllers/csm_controller.go:295	Delete request	{"TraceId": "csm-18", "csm": "test", "Name": "csm"}
2025-02-11T20:41:45.317Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-18"}
2025-02-11T20:41:45.328Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-18", "name": "provisioner"}
2025-02-11T20:41:45.328Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"TraceId": "csm-18", "ignored": "default-source-cluster"}
2025-02-11T20:41:45.328Z	INFO	controllers/csm_controller.go:1182	removing driver from	{"TraceId": "csm-18"}
2025-02-11T20:41:45.328Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-18", "Name:": "csm-node", "Kind:": "ServiceAccount"}
[ShouldFail] force Delete ServiceAccount error for ServiceAccount named csm-node
2025-02-11T20:41:45.328Z	ERROR	controllers/csm_controller.go:1185	error delete node service account	{"TraceId": "csm-18", "Error": "unable to delete ServiceAccount"}
2025-02-11T20:41:45.328Z	ERROR	controllers/csm_controller.go:302	remove driver	{"TraceId": "csm-18", "error": "unable to delete ServiceAccount"}
=== RUN   TestCustom/TestIgnoreUpdatePredicate
2025-02-11T20:41:45Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:45.328Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
=== RUN   TestCustom/TestOldStandAloneModuleCleanup
2025-02-11T20:41:45Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:45.329Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
=== RUN   TestCustom/TestOldStandAloneModuleCleanup/Fail_-_unmarshalling_annotations
2025-02-11T20:41:45.329Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies
2025-02-11T20:41:45.340Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"name": "provisioner"}
2025-02-11T20:41:45.340Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up
=== RUN   TestCustom/TestOldStandAloneModuleCleanup/Success_-_Enable_all_modules
2025-02-11T20:41:45.341Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies
2025-02-11T20:41:45.352Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"name": "provisioner"}
2025-02-11T20:41:45.352Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up
=== RUN   TestCustom/TestOldStandAloneModuleCleanup/Success_-_Disable_all_modules
2025-02-11T20:41:45.353Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies
2025-02-11T20:41:45.364Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"name": "provisioner"}
2025-02-11T20:41:45.364Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up
2025-02-11T20:41:45.364Z	INFO	controllers/csm_controller.go:637	Deleting Replication controller	{"clusterID:": "default-source-cluster"}
2025-02-11T20:41:45.369Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "dell-replication-controller", "Kind:": "Namespace", "Namespace:": ""}
2025-02-11T20:41:45.369Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "dell-replication-controller-sa", "Kind:": "ServiceAccount", "Namespace:": "dell-replication-controller"}
2025-02-11T20:41:45.369Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "dell-replication-manager-role", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.369Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "dell-replication-metrics-reader", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.369Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "dell-replication-proxy-role", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.369Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "replication-secret", "Kind:": "Secret", "Namespace:": "dell-replication-controller"}
2025-02-11T20:41:45.369Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "dell-replication-manager-rolebinding", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.369Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "dell-replication-proxy-rolebinding", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.369Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "dell-replication-controller-manager-metrics-service", "Kind:": "Service", "Namespace:": "dell-replication-controller"}
2025-02-11T20:41:45.369Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "dell-replication-controller-manager", "Kind:": "Deployment", "Namespace:": "dell-replication-controller"}
2025-02-11T20:41:45.369Z	INFO	controllers/csm_controller.go:671	Deleting observability
2025-02-11T20:41:45.369Z	INFO	controllers/csm_controller.go:964	reconcile topology
2025-02-11T20:41:45.372Z	INFO	modules/observability.go:256	current topoObject is 	{"ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:45.372Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-topology-configmap", "Kind:": "ConfigMap", "Namespace:": "karavi"}
2025-02-11T20:41:45.372Z	INFO	modules/observability.go:256	current topoObject is 	{"ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:45.372Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount", "Namespace:": "karavi"}
2025-02-11T20:41:45.372Z	INFO	modules/observability.go:256	current topoObject is 	{"ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:45.372Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.372Z	INFO	modules/observability.go:256	current topoObject is 	{"ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:45.372Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.372Z	INFO	modules/observability.go:256	current topoObject is 	{"ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:45.372Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-topology", "Kind:": "Service", "Namespace:": "karavi"}
2025-02-11T20:41:45.372Z	INFO	modules/observability.go:256	current topoObject is 	{"ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:45.373Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-topology", "Kind:": "Deployment", "Namespace:": "karavi"}
2025-02-11T20:41:45.373Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector
2025-02-11T20:41:45.375Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "otel-collector-config", "Kind:": "ConfigMap", "Namespace:": "karavi"}
2025-02-11T20:41:45.375Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "nginx-config", "Kind:": "ConfigMap", "Namespace:": "karavi"}
2025-02-11T20:41:45.375Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "otel-collector", "Kind:": "Service", "Namespace:": "karavi"}
2025-02-11T20:41:45.375Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "otel-collector", "Kind:": "Deployment", "Namespace:": "karavi"}
2025-02-11T20:41:45.375Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale
2025-02-11T20:41:45.381Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount", "Namespace:": "karavi"}
2025-02-11T20:41:45.381Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.381Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.381Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-metrics-powerscale", "Kind:": "Service", "Namespace:": "karavi"}
2025-02-11T20:41:45.381Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap", "Namespace:": "karavi"}
2025-02-11T20:41:45.381Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-config-params", "Kind:": "ConfigMap", "Namespace:": "karavi"}
2025-02-11T20:41:45.381Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-creds", "Kind:": "", "Namespace:": "karavi"}
2025-02-11T20:41:45.381Z	INFO	modules/observability.go:436	error getting deployment	{"deploymentKey": "karavi/karavi-metrics-powerscale"}
2025-02-11T20:41:45.381Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex
2025-02-11T20:41:45.385Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount", "Namespace:": "karavi"}
2025-02-11T20:41:45.385Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.385Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.385Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-metrics-powerflex", "Kind:": "Service", "Namespace:": "karavi"}
2025-02-11T20:41:45.385Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap", "Namespace:": "karavi"}
2025-02-11T20:41:45.385Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-config-params", "Kind:": "ConfigMap", "Namespace:": "karavi"}
2025-02-11T20:41:45.385Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-creds", "Kind:": "", "Namespace:": "karavi"}
2025-02-11T20:41:45.385Z	INFO	modules/observability.go:642	error getting deployment	{"deploymentKey": "karavi/karavi-metrics-powerflex"}
2025-02-11T20:41:45.386Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "selfsigned-issuer", "Kind:": "Issuer", "Namespace:": "karavi"}
2025-02-11T20:41:45.386Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-topology", "Kind:": "Certificate", "Namespace:": "karavi"}
2025-02-11T20:41:45.387Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "selfsigned-issuer", "Kind:": "Issuer", "Namespace:": "karavi"}
2025-02-11T20:41:45.387Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "otel-collector", "Kind:": "Certificate", "Namespace:": "karavi"}
2025-02-11T20:41:45.387Z	INFO	controllers/csm_controller.go:689	Deleting application mobility
2025-02-11T20:41:45.387Z	INFO	controllers/csm_controller.go:1078	Reconcile Application Mobility Controller Manager
2025-02-11T20:41:45.388Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-webhook-service", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:45.388Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-mutating-webhook-configuration", "Kind:": "MutatingWebhookConfiguration", "Namespace:": ""}
2025-02-11T20:41:45.388Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-validating-webhook-configuration", "Kind:": "ValidatingWebhookConfiguration", "Namespace:": ""}
2025-02-11T20:41:45.389Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "application-mobility-controller-manager-metrics-service", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:45.389Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-metrics-reader", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager", "Kind:": "Namespace", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-view", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-edit", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.521Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role", "Namespace:": "kube-system"}
2025-02-11T20:41:45.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager:leaderelection", "Kind:": "Role", "Namespace:": "kube-system"}
2025-02-11T20:41:45.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role", "Namespace:": "test"}
2025-02-11T20:41:45.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding", "Namespace:": "kube-system"}
2025-02-11T20:41:45.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding", "Namespace:": "kube-system"}
2025-02-11T20:41:45.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding", "Namespace:": "test"}
2025-02-11T20:41:45.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:45.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:45.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:45.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:45.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:45.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration", "Namespace:": ""}
2025-02-11T20:41:45.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration", "Namespace:": ""}
2025-02-11T20:41:45.523Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-selfsigned-issuer", "Kind:": "Issuer", "Namespace:": "test"}
2025-02-11T20:41:45.523Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-serving-cert", "Kind:": "Certificate", "Namespace:": "test"}
2025-02-11T20:41:45.531Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "application-mobility-controller-manager", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:45.531Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-controller-manager", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:45.531Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-manager-role", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.531Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-leader-election-role", "Kind:": "Role", "Namespace:": "test"}
2025-02-11T20:41:45.531Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-manager-rolebinding", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.531Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-manager-role", "Kind:": "Role", "Namespace:": "test"}
2025-02-11T20:41:45.531Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-leader-election-rolebinding", "Kind:": "RoleBinding", "Namespace:": "test"}
2025-02-11T20:41:45.531Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-proxy-role", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:45.531Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-proxy-rolebinding", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.531Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-manager-config", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:45.531Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-manager-rolebinding", "Kind:": "RoleBinding", "Namespace:": "test"}
2025-02-11T20:41:45.531Z	INFO	controllers/csm_controller.go:1100	Reconcile application mobility velero
2025-02-11T20:41:45.536Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "application-mobility-velero-server", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:45.537Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "application-mobility-velero-server", "Kind:": "Role", "Namespace:": "test"}
2025-02-11T20:41:45.537Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "application-mobility-velero-server", "Kind:": "RoleBinding", "Namespace:": "test"}
2025-02-11T20:41:45.537Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "application-mobility-velero-server-service-account", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:45.537Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "application-mobility-velero-server", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:45.537Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "application-mobility-velero", "Kind:": "Deployment", "Namespace:": "test"}
=== RUN   TestCustom/TestOldStandAloneModuleCleanup/Success_-_Disable_Components
2025-02-11T20:41:45.538Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies
2025-02-11T20:41:45.552Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"name": "provisioner"}
2025-02-11T20:41:45.552Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up
=== RUN   TestCustom/TestPowerFlexAnnotation
2025-02-11T20:41:45Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:45.552Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:45.552Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:45.552Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:45.552Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
[ShouldFail] force Update csm error for obj of type &{TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csm GenerateName: Namespace:test SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:0001-01-01 00:00:00 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[] Annotations:map[] OwnerReferences:[] Finalizers:[finalizer.dell.emc.com] ManagedFields:[]} Spec:{Driver:{CSIDriverType:powerflex CSIDriverSpec:<nil> ConfigVersion:v2.11.0 Replicas:0 DNSPolicy: Common:0xc000258848 Controller:<nil> Node:<nil> SideCars:[] InitContainers:[] SnapshotClass:[] AuthSecret: TLSCertSecret: ForceRemoveDriver:0xc000c47ce5} Modules:[]} Status:{ControllerStatus:{Available: Desired: Failed:} NodeStatus:{Available: Desired: Failed:} State:Failed}}
2025-02-11T20:41:45.552Z	ERROR	utils/status.go:346	unable to get CSMFailed to update CR status HandleValidationError	{"TraceId": "csm-1"}
2025-02-11T20:41:45.552Z	ERROR	utils/status.go:348	failed powerflex validation: reading secret [csm-config] error [no secrets found or error: Secret "csm-config" not found] *************Create/Update powerflex failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
=== RUN   TestCustom/TestPowerScaleAnnotation
2025-02-11T20:41:45Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:45.552Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:45.553Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:1492	proceeding with fresh driver install	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:1518	Installing csm component csm with config Version v2.11.0. Updating Annotations with Config Version	{"TraceId": "csm-1"}
[ShouldFail] force Update csm error for obj of type &{TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csm GenerateName: Namespace:test SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:0001-01-01 00:00:00 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[] Annotations:map[storage.dell.com/CSMOperatorConfigVersion:v2.11.0 storage.dell.com/CSMVersion:v1.13.0] OwnerReferences:[] Finalizers:[finalizer.dell.emc.com] ManagedFields:[]} Spec:{Driver:{CSIDriverType:isilon CSIDriverSpec:<nil> ConfigVersion:v2.11.0 Replicas:0 DNSPolicy: Common:0xc00023ab08 Controller:<nil> Node:<nil> SideCars:[] InitContainers:[] SnapshotClass:[] AuthSecret: TLSCertSecret: ForceRemoveDriver:0xc000a8f025} Modules:[]} Status:{ControllerStatus:{Available: Desired: Failed:} NodeStatus:{Available: Desired: Failed:} State:}}
2025-02-11T20:41:45.553Z	ERROR	controllers/csm_controller.go:346	unable to get CSMFailed to update CR with annotation	{"TraceId": "csm-1"}
=== RUN   TestCustom/TestPowerStoreAnnotation
2025-02-11T20:41:45Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:45.553Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:1492	proceeding with fresh driver install	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:1518	Installing csm component csm with config Version v2.11.0. Updating Annotations with Config Version	{"TraceId": "csm-1"}
[ShouldFail] force Update csm error for obj of type &{TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csm GenerateName: Namespace:test SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:0001-01-01 00:00:00 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[] Annotations:map[storage.dell.com/CSMOperatorConfigVersion:v2.11.0 storage.dell.com/CSMVersion:v1.13.0] OwnerReferences:[] Finalizers:[finalizer.dell.emc.com] ManagedFields:[]} Spec:{Driver:{CSIDriverType:powerstore CSIDriverSpec:<nil> ConfigVersion:v2.11.0 Replicas:0 DNSPolicy: Common:0xc000270dc8 Controller:<nil> Node:<nil> SideCars:[] InitContainers:[] SnapshotClass:[] AuthSecret: TLSCertSecret: ForceRemoveDriver:0xc00091ad45} Modules:[]} Status:{ControllerStatus:{Available: Desired: Failed:} NodeStatus:{Available: Desired: Failed:} State:}}
2025-02-11T20:41:45.553Z	ERROR	controllers/csm_controller.go:346	unable to get CSMFailed to update CR with annotation	{"TraceId": "csm-1"}
=== RUN   TestCustom/TestPowermaxAnnotation
2025-02-11T20:41:45Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:45.553Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:1492	proceeding with fresh driver install	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller.go:1518	Installing csm component csm with config Version v2.12.0. Updating Annotations with Config Version	{"TraceId": "csm-1"}
[ShouldFail] force Update csm error for obj of type &{TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csm GenerateName: Namespace:test SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:0001-01-01 00:00:00 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[] Annotations:map[storage.dell.com/CSMOperatorConfigVersion:v2.12.0 storage.dell.com/CSMVersion:v1.13.0] OwnerReferences:[] Finalizers:[finalizer.dell.emc.com] ManagedFields:[]} Spec:{Driver:{CSIDriverType:powermax CSIDriverSpec:<nil> ConfigVersion:v2.12.0 Replicas:0 DNSPolicy: Common:0xc000325608 Controller:<nil> Node:<nil> SideCars:[] InitContainers:[] SnapshotClass:[] AuthSecret: TLSCertSecret: ForceRemoveDriver:0xc00091ba35} Modules:[]} Status:{ControllerStatus:{Available: Desired: Failed:} NodeStatus:{Available: Desired: Failed:} State:}}
2025-02-11T20:41:45.553Z	ERROR	controllers/csm_controller.go:346	unable to get CSMFailed to update CR with annotation	{"TraceId": "csm-1"}
=== RUN   TestCustom/TestPowermaxReconcileError
2025-02-11T20:41:45Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:45.553Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:45.554Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:45.554Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:45.554Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:45.554Z	ERROR	drivers/powermax.go:80	PreCheckPowerMax failed in version check	{"TraceId": "csm-1", "Error": "stat ../operatorconfig/driverconfig/powermax/v2.4.0/upgrade-path.yaml: no such file or directory"}
2025-02-11T20:41:45.554Z	ERROR	utils/status.go:348	failed powermax validation: powermax v2.4.0 not supported *************Create/Update powermax failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:45Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
=== RUN   TestCustom/TestReconcile
2025-02-11T20:41:45Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:45.554Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:45.554Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:45.554Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:45.554Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:45.554Z	INFO	utils/utils.go:1269	Adding default component cert-manager for observability 	{"TraceId": "csm-1"}
2025-02-11T20:41:45.554Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:45.554Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:45.554Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	modules/replication.go:327	
performing pre checks for: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:45.555Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:45.555Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:45.568Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-1", "name": "provisioner"}
2025-02-11T20:41:45.568Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-1"}
2025-02-11T20:41:45.568Z	INFO	controllers/csm_controller.go:841	Injecting CSM Replication	{"TraceId": "csm-1"}
2025-02-11T20:41:45.569Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.569Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:45.569Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:45.569Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:45.569Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:45.569Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:45.569Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:45.569Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-1", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:45.569Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-1", "Name": "csm-config-params"}
2025-02-11T20:41:45.569Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:45.569Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:45.569Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "csm-controller"}
2025-02-11T20:41:45.570Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:45.570Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-1", "name": "csm-node"}
2025-02-11T20:41:45.570Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-1", "Name:": "csm-node"}
2025-02-11T20:41:45.574Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "dell-replication-controller", "Kind:": "Namespace"}
2025-02-11T20:41:45.574Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "dell-replication-controller-sa", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.574Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "dell-replication-manager-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.574Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "dell-replication-metrics-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.574Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "dell-replication-proxy-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.574Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "replication-secret", "Kind:": "Secret"}
2025-02-11T20:41:45.574Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "dell-replication-manager-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.574Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "dell-replication-proxy-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.574Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "dell-replication-controller-manager-metrics-service", "Kind:": "Service"}
2025-02-11T20:41:45.575Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "dell-replication-controller-manager", "Kind:": "Deployment"}
2025-02-11T20:41:45.575Z	INFO	controllers/csm_controller.go:925	Create/Update observability	{"TraceId": "csm-1"}
2025-02-11T20:41:45.575Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-1"}
2025-02-11T20:41:45.577Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:45.577Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.577Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:45.577Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.577Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:45.577Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.577Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:45.577Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.577Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:45.577Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:45.577Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:45.578Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:45.578Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-1"}
2025-02-11T20:41:45.580Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.580Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.580Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:45.580Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:45.580Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-1"}
2025-02-11T20:41:45.585Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.585Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.585Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.585Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:45.585Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.585Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.585Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:45.585Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:45.585Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"karavi-metrics-powerscale\" not found"}
2025-02-11T20:41:45.585Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale"}
2025-02-11T20:41:45.585Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:45.585Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-1"}
2025-02-11T20:41:45.589Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.589Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.589Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.589Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:45.589Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.589Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.589Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-1", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:45.589Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:45.589Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"karavi-metrics-powerflex\" not found"}
2025-02-11T20:41:45.589Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex"}
2025-02-11T20:41:45.589Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:45.590Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:45.590Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:45.591Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:45.591Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Failed"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:45.591Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:45Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
2025-02-11T20:41:45.592Z	INFO	controllers/csm_controller.go:511	daemonset 	{"TraceId": "csm-1", "name": "csm-node", "namespace": "test"}
2025-02-11T20:41:45.592Z	INFO	controllers/csm_controller.go:512	daemonset 	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:45.592Z	INFO	controllers/csm_controller.go:513	daemonset 	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:45.592Z	INFO	controllers/csm_controller.go:514	daemonset 	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:45.592Z	INFO	controllers/csm_controller.go:515	daemonset 	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:45.592Z	INFO	controllers/csm_controller.go:532	csm prev status 	{"TraceId": "csm-1", "state": {"controllerStatus":{"available":"0","desired":"0","failed":"0"},"nodeStatus":{"available":"0","desired":"0","failed":"0"},"state":"Succeeded"}}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.592Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	controllers/csm_controller.go:413	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "desired": 0}
2025-02-11T20:41:45.593Z	INFO	controllers/csm_controller.go:414	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "numberReady": 0}
2025-02-11T20:41:45.593Z	INFO	controllers/csm_controller.go:415	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "available": 0}
2025-02-11T20:41:45.593Z	INFO	controllers/csm_controller.go:416	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "numberUnavailable": 0}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:45.593Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	controllers/csm_controller.go:467	pod modified for driver	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:45.594Z	INFO	controllers/csm_controller.go:478	csm prev status 	{"TraceId": "csm-1", "state": {"controllerStatus":{"available":"0","desired":"0","failed":"0"},"nodeStatus":{"available":"0","desired":"0","failed":"1"},"state":"Succeeded"}}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:45.594Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:151	daemonset pod csm-controller : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:189	daemonset status failedCount pods 2	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 2} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"2"}}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:45.595Z	INFO	controllers/csm_controller.go:485	pod status 	{"TraceId": "csm-1", "state": "error message for default-source-cluster \ntest="}
2025-02-11T20:41:45.595Z	INFO	controllers/csm_controller.go:467	pod modified for driver	{"TraceId": "test-1", "name": "csm-controller"}
2025-02-11T20:41:45.595Z	ERROR	controllers/csm_controller.go:476	daemonset get csm	{"TraceId": "0", "error": "ContainerStorageModule.storage.dell.com \"test\" not found"}
2025-02-11T20:41:45.595Z	INFO	controllers/csm_controller.go:478	csm prev status 	{"TraceId": "test-1", "state": {"controllerStatus":{},"nodeStatus":{}}}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "test-1", "status": ""}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:290	update new Status: (State - )	{"TraceId": "test-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:291	Update State	{"TraceId": "test-1", "Controller": {}, "Node": {}}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "test-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:73	Not a driver instance, will not check deploymentstatus	{"TraceId": "test-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:220	instance.GetName() is 	{"TraceId": "test-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "test-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "test-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Succeeded}]	{"TraceId": "test-1"}
2025-02-11T20:41:45.595Z	INFO	utils/status.go:275	Driver State	{"TraceId": "test-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:45.595Z	ERROR	utils/status.go:320	ContainerStorageModule.storage.dell.com "" not found Failed to update CR status	{"TraceId": "test-1"}
2025-02-11T20:41:45.595Z	INFO	controllers/csm_controller.go:485	pod status 	{"TraceId": "test-1", "state": "ContainerStorageModule.storage.dell.com \"\" not found"}
2025-02-11T20:41:45.595Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:45.595Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-2"}
2025-02-11T20:41:45.595Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm", "Attempt": 2}
2025-02-11T20:41:45.596Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	modules/replication.go:327	
performing pre checks for: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-2", "desired": 0}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-2", "numberReady": 0}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-2", "available": 0}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-2", "numberUnavailable": 0}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:151	daemonset pod csm-controller : Running	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:45.597Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-2", "message": "", "Reason": "test"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:151	daemonset pod csm-pod : 	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:181	daemonset pod: csm-pod is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: error message for default-source-cluster 
test=	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-2", "newStatus.State": "Succeeded"}
2025-02-11T20:41:45.598Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-2"}
2025-02-11T20:41:45.598Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-2"}
2025-02-11T20:41:45.614Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-2", "name": "provisioner"}
2025-02-11T20:41:45.614Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-2"}
2025-02-11T20:41:45.614Z	INFO	controllers/csm_controller.go:841	Injecting CSM Replication	{"TraceId": "csm-2"}
2025-02-11T20:41:45.615Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:45.615Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-2", "Name:": "csm-node"}
2025-02-11T20:41:45.615Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-2", "Name:": "csm-controller"}
2025-02-11T20:41:45.615Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:45.615Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:45.615Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:45.616Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:45.616Z	INFO	csidriver/csidriver.go:42	Updating existing CSIDriver Object	{"TraceId": "csm-2", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:45.616Z	INFO	configmap/configmap.go:43	Updating ConfigMap	{"TraceId": "csm-2", "Name:": "csm-config-params"}
2025-02-11T20:41:45.616Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-2", "name": "csm-controller"}
2025-02-11T20:41:45.616Z	INFO	deployment/deployment.go:47	found deployment	{"TraceId": "csm-2", "image": ""}
2025-02-11T20:41:45.617Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-2", "name": "csm-controller"}
2025-02-11T20:41:45.617Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-2", "name": "csm-node"}
2025-02-11T20:41:45.617Z	INFO	daemonset/daemonset.go:41	Found DaemonSet	{"TraceId": "csm-2", "image": "dellemc/csi-isilon:v2.11.0"}
2025-02-11T20:41:45.622Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "dell-replication-controller", "Kind:": "Namespace"}
2025-02-11T20:41:45.622Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "dell-replication-controller-sa", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.622Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "dell-replication-manager-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.622Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "dell-replication-metrics-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.622Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "dell-replication-proxy-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.622Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "replication-secret", "Kind:": "Secret"}
2025-02-11T20:41:45.623Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "dell-replication-manager-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.623Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "dell-replication-proxy-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.623Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "dell-replication-controller-manager-metrics-service", "Kind:": "Service"}
2025-02-11T20:41:45.623Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "dell-replication-controller-manager", "Kind:": "Deployment"}
2025-02-11T20:41:45.624Z	INFO	controllers/csm_controller.go:925	Create/Update observability	{"TraceId": "csm-2"}
2025-02-11T20:41:45.624Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-2"}
2025-02-11T20:41:45.626Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:45.628Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.628Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:45.628Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.628Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:45.628Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.628Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:45.628Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.628Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:45.628Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:45.628Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:45.629Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:45.629Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-2"}
2025-02-11T20:41:45.631Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.631Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.631Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:45.632Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:45.632Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-2"}
2025-02-11T20:41:45.637Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.637Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.638Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.638Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:45.638Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.638Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.638Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:45.638Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-2", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:45.638Z	INFO	deployment/deployment.go:47	found deployment	{"TraceId": "csm-2", "image": "quay.io/dell/container-storage-modules/csm-metrics-powerscale:v1.7.0"}
2025-02-11T20:41:45.638Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-2", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:45.638Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-2"}
2025-02-11T20:41:45.643Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.643Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.643Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.643Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:45.643Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.643Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.643Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:45.643Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-2", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:45.643Z	INFO	deployment/deployment.go:47	found deployment	{"TraceId": "csm-2", "image": "quay.io/dell/container-storage-modules/csm-metrics-powerflex:v1.10.0"}
2025-02-11T20:41:45.644Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-2", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:45.645Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:45.645Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:45.646Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:45.646Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:45.646Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-2", "status": "Succeeded"}
2025-02-11T20:41:45.646Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-2"}
2025-02-11T20:41:45.646Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:45.646Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:45.646Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:45.646Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-2", "desired": 0}
2025-02-11T20:41:45.646Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-2", "numberReady": 0}
2025-02-11T20:41:45.646Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-2", "available": 0}
2025-02-11T20:41:45.646Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-2", "numberUnavailable": 0}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:151	daemonset pod csm-controller : Running	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-2", "message": "", "Reason": "test"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:151	daemonset pod csm-pod : 	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:181	daemonset pod: csm-pod is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-2"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-2", "desired": "0"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-2", "Available": "0"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-2", "numberUnavailable": "0"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-2", "State": "Succeeded"}
2025-02-11T20:41:45.647Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-2"}
################End Reconcile##############
2025-02-11T20:41:45.648Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:45.648Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:45.648Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:45.648Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:45.649Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:45.649Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-1"}
2025-02-11T20:41:45.649Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:45.649Z	INFO	modules/replication.go:327	
performing pre checks for: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:45.649Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-1"}
2025-02-11T20:41:45.650Z	INFO	controllers/csm_controller.go:295	Delete request	{"TraceId": "csm-1", "csm": "test", "Name": "csm"}
2025-02-11T20:41:45.650Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:45.661Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-1", "name": "provisioner"}
2025-02-11T20:41:45.662Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"TraceId": "csm-1", "ignored": "default-source-cluster"}
2025-02-11T20:41:45.662Z	INFO	controllers/csm_controller.go:1182	removing driver from	{"TraceId": "csm-1"}
2025-02-11T20:41:45.662Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.662Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.662Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.662Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.662Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.662Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.662Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.662Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csi-isilon.dellemc.com", "Kind:": "CSIDriver"}
2025-02-11T20:41:45.663Z	INFO	controllers/csm_controller.go:1281	Deleting Replication controller	{"TraceId": "csm-1"}
2025-02-11T20:41:45.669Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "dell-replication-controller", "Kind:": "Namespace"}
2025-02-11T20:41:45.669Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "dell-replication-controller-sa", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.669Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "dell-replication-manager-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.669Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "dell-replication-metrics-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.669Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "dell-replication-proxy-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.669Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "replication-secret", "Kind:": "Secret"}
2025-02-11T20:41:45.669Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "dell-replication-manager-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.669Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "dell-replication-proxy-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.669Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "dell-replication-controller-manager-metrics-service", "Kind:": "Service"}
2025-02-11T20:41:45.669Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "dell-replication-controller-manager", "Kind:": "Deployment"}
2025-02-11T20:41:45.669Z	INFO	controllers/csm_controller.go:1285	Deleting Replication configmap	{"TraceId": "csm-1"}
2025-02-11T20:41:45.669Z	INFO	controllers/csm_controller.go:1293	Deleting observability	{"TraceId": "csm-1"}
2025-02-11T20:41:45.669Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-1"}
2025-02-11T20:41:45.671Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:45.671Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.671Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:45.671Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.671Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:45.671Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.671Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:45.671Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.671Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:45.671Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:45.671Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:45.672Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:45.672Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-1"}
2025-02-11T20:41:45.674Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.674Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.674Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:45.674Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:45.674Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-1"}
2025-02-11T20:41:45.677Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.678Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.678Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.678Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:45.678Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.678Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.678Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:45.678Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-1"}
2025-02-11T20:41:45.683Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.683Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.683Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.683Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:45.683Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.683Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap", "Namespace:": "karavi"}
2025-02-11T20:41:45.683Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "csm-creds", "Kind:": "", "Namespace:": "karavi"}
2025-02-11T20:41:45.684Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:45.684Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:45.685Z	INFO	utils/utils.go:733	Object not found to delete	{"TraceId": "csm-1", "Name:": "selfsigned-issuer", "Kind:": "Issuer", "Namespace:": "karavi"}
2025-02-11T20:41:45.685Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:45Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
=== RUN   TestCustom/TestReconcileAppMob
2025-02-11T20:41:45Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:45.685Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:45.685Z	INFO	controllers/csm_controller.go:1078	Reconcile Application Mobility Controller Manager
2025-02-11T20:41:45.685Z	INFO	controllers/csm_controller.go:1045	Reconcile Application Mobility CRDS
2025-02-11T20:41:45.685Z	INFO	controllers/csm_controller.go:1100	Reconcile application mobility velero
2025-02-11T20:41:45.685Z	INFO	controllers/csm_controller.go:1100	Reconcile application mobility velero
=== RUN   TestCustom/TestReconcileAuthorization
2025-02-11T20:41:45Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:45.685Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:45.685Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager
2025-02-11T20:41:45.685Z	INFO	controllers/csm_controller.go:1063	Reconcile Authorization CRDS
2025-02-11T20:41:45.686Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager
2025-02-11T20:41:45.686Z	INFO	controllers/csm_controller.go:1017	Reconcile authorization NGINX Ingress Controller
2025-02-11T20:41:45.686Z	INFO	controllers/csm_controller.go:1032	Reconcile authorization certificates
2025-02-11T20:41:45.686Z	INFO	modules/authorization.go:1283	Authorization hostname: csm-auth.com
2025-02-11T20:41:45.686Z	INFO	modules/authorization.go:1305	using self-signed certificate for authorization
2025-02-11T20:41:45.686Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:45.686Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "karavi-auth", "Kind:": "Certificate"}
2025-02-11T20:41:45.686Z	INFO	controllers/csm_controller.go:1032	Reconcile authorization certificates
2025-02-11T20:41:45.686Z	INFO	modules/authorization.go:1283	Authorization hostname: csm-auth.com
2025-02-11T20:41:45.686Z	INFO	modules/authorization.go:1305	using self-signed certificate for authorization
2025-02-11T20:41:45.687Z	INFO	utils/utils.go:769	Updating a new Object	{"Name:": "selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:45.687Z	INFO	utils/utils.go:769	Updating a new Object	{"Name:": "karavi-auth", "Kind:": "Certificate"}
2025-02-11T20:41:45.687Z	INFO	controllers/csm_controller.go:1032	Reconcile authorization certificates
=== RUN   TestCustom/TestReconcileAuthorizationBadCert
2025-02-11T20:41:45Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:45.688Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
[TestReconcileAuthorizationBadCert] module components: [{Name:proxy-server Enabled:0xc0008d7a3f Image: ImagePullPolicy: Args:[] Envs:[] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname:csm-auth.com ProxyServerIngress:[{IngressClassName:nginx Hosts:[additional-host.com] Annotations:map[test:test]}] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:} {Name:cert-manager Enabled:0xc0008d7a40 Image: ImagePullPolicy: Args:[] Envs:[] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:} {Name:nginx Enabled:0xc0008d7a41 Image: ImagePullPolicy: Args:[] Envs:[] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:} {Name:redis Enabled:<nil> Image: ImagePullPolicy: Args:[] Envs:[] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass:test-storage Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:}]
2025-02-11T20:41:45.688Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager
2025-02-11T20:41:45.819Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "clusterissuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:45.820Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "challenges.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:45.820Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "certificaterequests.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:45.820Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "issuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "certificates.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "orders.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.821Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:45.822Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:45.823Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:45.823Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:45.823Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:45.823Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:45.823Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:45.823Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:45.823Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:45.823Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:45.823Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:45.823Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:45.823Z	INFO	controllers/csm_controller.go:1000	Reconcile authorization proxy-server
2025-02-11T20:41:45.839Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-02-11T20:41:45.839Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.839Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.839Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.839Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Deployment"}
2025-02-11T20:41:45.839Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Service"}
2025-02-11T20:41:45.839Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Deployment"}
2025-02-11T20:41:45.839Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Service"}
2025-02-11T20:41:45.839Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "role-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.839Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.839Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "role-service", "Kind:": "Deployment"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "role-service", "Kind:": "Service"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "storage-service", "Kind:": "Service"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Deployment"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Service"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "", "Kind:": "Service"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "", "Kind:": "Deployment"}
2025-02-11T20:41:45.840Z	INFO	utils/utils.go:769	Updating a new Object	{"Name:": "", "Kind:": "Service"}
2025-02-11T20:41:45.841Z	INFO	utils/utils.go:769	Updating a new Object	{"Name:": "", "Kind:": "StatefulSet"}
2025-02-11T20:41:45.841Z	INFO	utils/utils.go:769	Updating a new Object	{"Name:": "", "Kind:": "Service"}
2025-02-11T20:41:45.841Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "-svc", "Kind:": "Service"}
2025-02-11T20:41:45.841Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.841Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "system:serviceaccounts:test", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.841Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.841Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.841Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "configmap-modifier", "Kind:": "Role"}
2025-02-11T20:41:45.841Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-02-11T20:41:45.842Z	INFO	utils/utils.go:769	Updating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.843Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
2025-02-11T20:41:45.849Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "common", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.849Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.849Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "volumes-delete", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.849Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "volumes-map", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.849Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "powermax-volumes-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.849Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "volumes-unmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.849Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "sdc-approve", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.849Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "redis-csm-cm", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.849Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "snapshot-create", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.849Z	INFO	controllers/csm_controller.go:1017	Reconcile authorization NGINX Ingress Controller
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx-admission", "Kind:": "ServiceAccount"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx", "Kind:": "Role"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx-admission", "Kind:": "Role"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRole"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx", "Kind:": "RoleBinding"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx-admission", "Kind:": "RoleBinding"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx-controller", "Kind:": "ConfigMap"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx-controller", "Kind:": "Service"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx-controller-admission", "Kind:": "Service"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx-controller", "Kind:": "Deployment"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx-admission-create", "Kind:": "Job"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx-admission-patch", "Kind:": "Job"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "nginx", "Kind:": "IngressClass"}
2025-02-11T20:41:45.860Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-ingress-nginx-admission", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:45.860Z	INFO	controllers/csm_controller.go:1026	Reconcile authorization Ingresses
2025-02-11T20:41:45.861Z	INFO	utils/status.go:437	Polling status of NGINX ingress controller
=== RUN   TestCustom/TestReconcileError
2025-02-11T20:41:55Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:55.862Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:55Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:511	daemonset 	{"TraceId": "csm-1", "name": "", "namespace": ""}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:512	daemonset 	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:513	daemonset 	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:514	daemonset 	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:515	daemonset 	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:55.862Z	ERROR	controllers/csm_controller.go:529	daemonset get csmerrorContainerStorageModule.storage.dell.com "csm" not found	{"TraceId": "0"}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:532	csm prev status 	{"TraceId": "csm-1", "state": {"controllerStatus":{},"nodeStatus":{}}}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": ""}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:290	update new Status: (State - )	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {}, "Node": {}}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:73	Not a driver instance, will not check deploymentstatus	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:220	instance.GetName() is 	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:55.862Z	ERROR	utils/status.go:320	ContainerStorageModule.storage.dell.com "" not found Failed to update CR status	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:413	deployment	{"TraceId": "csm-1", "deployment name": "", "desired": 0}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:414	deployment	{"TraceId": "csm-1", "deployment name": "", "numberReady": 0}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:415	deployment	{"TraceId": "csm-1", "deployment name": "", "available": 0}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:416	deployment	{"TraceId": "csm-1", "deployment name": "", "numberUnavailable": 0}
2025-02-11T20:41:55.862Z	ERROR	controllers/csm_controller.go:430	deployment get csmerrorContainerStorageModule.storage.dell.com "csm" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": ""}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:290	update new Status: (State - )	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:73	Not a driver instance, will not check deploymentstatus	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:220	instance.GetName() is 	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:55.862Z	ERROR	utils/status.go:320	ContainerStorageModule.storage.dell.com "" not found Failed to update CR status	{"TraceId": "csm-1"}
2025-02-11T20:41:55.862Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-2"}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm", "Attempt": 2}
=== RUN   TestCustom/TestReconcileObservabilityError
2025-02-11T20:41:55Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:964	reconcile topology
2025-02-11T20:41:55.862Z	ERROR	controllers/csm_controller.go:975	failed to reconcile topology
Component name: topology
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector
2025-02-11T20:41:55.862Z	ERROR	controllers/csm_controller.go:975	failed to reconcile otel-collector
Component name: otel-collector
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale
2025-02-11T20:41:55.862Z	ERROR	controllers/csm_controller.go:975	failed to reconcile metrics-powerscale
Component name: metrics-powerscale
2025-02-11T20:41:55.862Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex
2025-02-11T20:41:55.862Z	ERROR	controllers/csm_controller.go:975	failed to reconcile metrics-powerflex
Component name: metrics-powerflex
=== RUN   TestCustom/TestReconcileObservabilityErrorBadCert
2025-02-11T20:41:55Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:55.863Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
[TestReconcileObservabilityErrorBadCert] module components: [{Name:topology Enabled:0xc0007ec72f Image: ImagePullPolicy: Args:[] Envs:[{Name:TOPOLOGY_LOG_LEVEL Value:INFO ValueFrom:nil}] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate:bad-cert PrivateKey: CertificateAuthority:} {Name:otel-collector Enabled:0xc0007ec730 Image: ImagePullPolicy: Args:[] Envs:[{Name:NGINX_PROXY_IMAGE Value:nginxinc/nginx-unprivileged:1.27 ValueFrom:nil}] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:} {Name:metrics-powerscale Enabled:0xc0007ec733 Image: ImagePullPolicy: Args:[] Envs:[{Name:POWERSCALE_MAX_CONCURRENT_QUERIES Value:10 ValueFrom:nil}] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:} {Name:metrics-powerflex Enabled:0xc0007ec734 Image: ImagePullPolicy: Args:[] Envs:[{Name:POWERFLEX_MAX_CONCURRENT_QUERIES Value:10 ValueFrom:nil}] Tolerations:[] NodeSelector:map[] ProxyService: ProxyServiceReplicas:0 TenantService: TenantServiceReplicas:0 RoleService: RoleServiceReplicas:0 StorageService: StorageServiceReplicas:0 AuthorizationController: AuthorizationControllerReplicas:0 LeaderElection:false OpenTelemetryCollectorAddress: ControllerReconcileInterval: Redis: Commander: Opa: OpaKubeMgmt: Hostname: ProxyServerIngress:[] RedisStorageClass: Vaults:[] SkipCertificateValidation:false RedisName: RedisCommander: RedisReplicas:0 Sentinel: ReplicaCount: VeleroNamespace: LicenseName: ObjectStoreSecretName: UseSnapshot:false ComponentCred:[] DeployNodeAgent:false Certificate: PrivateKey: CertificateAuthority:}]
2025-02-11T20:41:55.863Z	INFO	controllers/csm_controller.go:964	reconcile topology
2025-02-11T20:41:55.865Z	INFO	modules/observability.go:256	current topoObject is 	{"ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:55.865Z	INFO	utils/utils.go:798	Creating a new Object	{"Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.865Z	INFO	modules/observability.go:256	current topoObject is 	{"ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:55.865Z	INFO	utils/utils.go:798	Creating a new Object	{"Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:55.865Z	INFO	modules/observability.go:256	current topoObject is 	{"ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:55.865Z	INFO	utils/utils.go:798	Creating a new Object	{"Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:55.865Z	INFO	modules/observability.go:256	current topoObject is 	{"ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:55.865Z	INFO	utils/utils.go:798	Creating a new Object	{"Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:55.865Z	INFO	modules/observability.go:256	current topoObject is 	{"ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:55.865Z	INFO	utils/utils.go:798	Creating a new Object	{"Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:55.865Z	INFO	modules/observability.go:256	current topoObject is 	{"ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:55.866Z	INFO	utils/utils.go:798	Creating a new Object	{"Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:55.866Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector
2025-02-11T20:41:55.868Z	INFO	utils/utils.go:798	Creating a new Object	{"Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.868Z	INFO	utils/utils.go:798	Creating a new Object	{"Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.868Z	INFO	utils/utils.go:798	Creating a new Object	{"Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:55.868Z	INFO	utils/utils.go:798	Creating a new Object	{"Name:": "otel-collector", "Kind:": "Deployment"}
=== RUN   TestCustom/TestReconcileObservabilityErrorBadComponent
2025-02-11T20:41:55Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:55.868Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:55.868Z	INFO	controllers/csm_controller.go:964	reconcile fake-news
2025-02-11T20:41:55.868Z	ERROR	controllers/csm_controller.go:975	failed to reconcile fake-news
=== RUN   TestCustom/TestReconcileReverseProxyError
2025-02-11T20:41:55Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:55.869Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:55.869Z	INFO	controllers/csm_controller.go:1171	Reconcile reverseproxy proxy
=== RUN   TestCustom/TestReconcileReverseProxyServiceError
2025-02-11T20:41:55Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:55.869Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:55.869Z	INFO	controllers/csm_controller.go:1171	Reconcile reverseproxy proxy
=== RUN   TestCustom/TestRemoveDriver
2025-02-11T20:41:55Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:55.869Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
=== RUN   TestCustom/TestRemoveDriver/getDriverConfig_error
2025-02-11T20:41:55.869Z	INFO	controllers/csm_controller.go:1133	Getting wrongdriver CSI Driver for Dell Technologies
2025-02-11T20:41:55.869Z	ERROR	drivers/commonconfig.go:420	GetConfigMap failed	{"Error": "open ../operatorconfig/driverconfig/wrongdriver/v2.11.0/driver-config-params.yaml: no such file or directory"}
2025-02-11T20:41:55.869Z	ERROR	controllers/csm_controller.go:1264	error in getDriverConfig
=== RUN   TestCustom/TestRemoveDriver/getDriverConfig_no_driver
2025-02-11T20:41:55.869Z	INFO	controllers/csm_controller.go:1128	No driver specified in manifest
=== RUN   TestCustom/TestRemoveDriver/delete_obj_not_found
2025-02-11T20:41:55.869Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies
2025-02-11T20:41:55.884Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"ignored": "default-source-cluster"}
2025-02-11T20:41:55.884Z	INFO	controllers/csm_controller.go:1182	removing driver from
2025-02-11T20:41:55.884Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-node", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:55.884Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-controller", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:55.884Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-node", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:55.884Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-controller", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:55.884Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-node", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:55.884Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:55.884Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-config-params", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:55.884Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csi-powermax.dellemc.com", "Kind:": "CSIDriver", "Namespace:": ""}
2025-02-11T20:41:55.884Z	INFO	controllers/csm_controller.go:1237	error getting daemonset	{"daemonsetKey": "test/csm-node"}
2025-02-11T20:41:55.884Z	INFO	controllers/csm_controller.go:1252	error getting deployment	{"deploymentKey": "test/csm-controller"}
2025-02-11T20:41:55.884Z	INFO	controllers/csm_controller.go:1300	Removing CSI ReverseProxy Service
2025-02-11T20:41:55.885Z	INFO	modules/reverseproxy.go:163	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app: csm-controller,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----

2025-02-11T20:41:55.885Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csipowermax-reverseproxy", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:55.885Z	INFO	modules/reverseproxy.go:174	Create/Update reverseproxy serivce successful...
=== RUN   TestCustom/TestRemoveDriver/get_SA_error
2025-02-11T20:41:55.885Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:55.885Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:55.885Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:55.886Z	INFO	utils/utils.go:1269	Adding default component cert-manager for observability 	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:55.886Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:55.886Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:55.898Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-1", "name": "provisioner"}
2025-02-11T20:41:55.898Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-1"}
2025-02-11T20:41:55.898Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-1"}
2025-02-11T20:41:55.900Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:55.901Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:55.901Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:55.901Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:55.901Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:55.901Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:55.901Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:55.901Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-1", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:55.901Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-1", "Name": "csm-config-params"}
2025-02-11T20:41:55.901Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:55.901Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:55.901Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "csm-controller"}
2025-02-11T20:41:55.901Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:55.901Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-1", "name": "csm-node"}
2025-02-11T20:41:55.901Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-1", "Name:": "csm-node"}
2025-02-11T20:41:55.902Z	INFO	controllers/csm_controller.go:925	Create/Update observability	{"TraceId": "csm-1"}
2025-02-11T20:41:55.902Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-1"}
2025-02-11T20:41:55.904Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:55.904Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.904Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:55.904Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:55.904Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:55.904Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:55.904Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:55.904Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:55.904Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:55.904Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:55.904Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-1", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:55.904Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:55.904Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-1"}
2025-02-11T20:41:55.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:55.906Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:55.906Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-1"}
2025-02-11T20:41:55.913Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:55.913Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:55.913Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:55.913Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:55.913Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.913Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.913Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:55.914Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:55.914Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:55.914Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:55.914Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"karavi-metrics-powerscale\" not found"}
2025-02-11T20:41:55.914Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerscale"}
2025-02-11T20:41:55.914Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:55.914Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-1"}
2025-02-11T20:41:55.919Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:55.920Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:55.920Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:55.920Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:55.920Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.920Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.920Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-1", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:55.920Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-1", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:55.920Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-1", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:55.920Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:55.920Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"karavi-metrics-powerflex\" not found"}
2025-02-11T20:41:55.920Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "karavi-metrics-powerflex"}
2025-02-11T20:41:55.921Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:55.921Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:55.922Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:55.922Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-1", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:55.923Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:55.923Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Failed"}
2025-02-11T20:41:55.923Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-1"}
2025-02-11T20:41:55.923Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:55.923Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:55.923Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:55.923Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:55.923Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:55.923Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:55.923Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:55.923Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:55.924Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:55.924Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:55.924Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:55.924Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:55.924Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:55.924Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:55.924Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.924Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.924Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.924Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.924Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-1"}
2025-02-11T20:41:55.924Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:55.925Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:55.925Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:55.925Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:55.925Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:55.925Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:55.925Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:55.925Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies
2025-02-11T20:41:55.938Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"ignored": "default-source-cluster"}
2025-02-11T20:41:55.938Z	INFO	controllers/csm_controller.go:1182	removing driver from
[ShouldFail] force Get ServiceAccount error for ServiceAccount named csm-node
2025-02-11T20:41:55.939Z	ERROR	utils/utils.go:736	error to find object in deleteObj	{"Error": "unable to get ServiceAccount", "Name:": "csm-node", "Kind:": "ServiceAccount"}
2025-02-11T20:41:55.939Z	ERROR	controllers/csm_controller.go:1185	error delete node service account	{"Error": "unable to get ServiceAccount"}
=== RUN   TestCustom/TestRemoveDriver/get_CR_error
2025-02-11T20:41:55.939Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:55.939Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-2"}
2025-02-11T20:41:55.939Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm", "Attempt": 2}
2025-02-11T20:41:55.940Z	INFO	utils/utils.go:1269	Adding default component cert-manager for observability 	{"TraceId": "csm-2"}
2025-02-11T20:41:55.940Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-2"}
2025-02-11T20:41:55.940Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-2"}
2025-02-11T20:41:55.940Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-2"}
2025-02-11T20:41:55.940Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.941Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:55.942Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-2"}
2025-02-11T20:41:55.942Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-2"}
2025-02-11T20:41:55.942Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-2", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:55.942Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-2"}
2025-02-11T20:41:55.954Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-2", "name": "provisioner"}
2025-02-11T20:41:55.954Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-2"}
2025-02-11T20:41:55.954Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-2"}
2025-02-11T20:41:55.956Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:55.956Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:55.956Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:55.956Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:55.956Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:55.956Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:55.956Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:55.956Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-2", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:55.956Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-2", "Name": "csm-config-params"}
2025-02-11T20:41:55.956Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-2", "name": "csm-controller"}
2025-02-11T20:41:55.956Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-2", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:55.956Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-2", "Name:": "csm-controller"}
2025-02-11T20:41:55.956Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-2", "name": "csm-controller"}
2025-02-11T20:41:55.956Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-2", "name": "csm-node"}
2025-02-11T20:41:55.956Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-2", "Name:": "csm-node"}
2025-02-11T20:41:55.957Z	INFO	controllers/csm_controller.go:925	Create/Update observability	{"TraceId": "csm-2"}
2025-02-11T20:41:55.957Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-2"}
2025-02-11T20:41:55.959Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:55.959Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.959Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:55.959Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:55.959Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:55.959Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:55.959Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:55.959Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:55.959Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:55.959Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:55.959Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-2", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:55.959Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:55.959Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-2"}
2025-02-11T20:41:55.961Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.961Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.961Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:55.961Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:55.961Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-2"}
2025-02-11T20:41:55.967Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:55.967Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:55.967Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:55.967Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:55.967Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.967Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.967Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:55.967Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:55.968Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:55.968Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-2", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:55.968Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-2", "Error": "Deployment.apps \"karavi-metrics-powerscale\" not found"}
2025-02-11T20:41:55.968Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerscale"}
2025-02-11T20:41:55.968Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-2", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:55.968Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-2"}
2025-02-11T20:41:55.973Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:55.973Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:55.973Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:55.973Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:55.973Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.974Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:55.974Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:55.974Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:55.974Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-2", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:55.974Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-2", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:55.974Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-2", "Error": "Deployment.apps \"karavi-metrics-powerflex\" not found"}
2025-02-11T20:41:55.974Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-2", "Name:": "karavi-metrics-powerflex"}
2025-02-11T20:41:55.974Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-2", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:55.975Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-2", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:55.975Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-2", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:55.976Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:55.976Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-2", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:55.976Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-2", "status": "Failed"}
2025-02-11T20:41:55.976Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-2"}
2025-02-11T20:41:55.976Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:55.977Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:55.977Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:55.977Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-2", "desired": 0}
2025-02-11T20:41:55.977Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-2", "numberReady": 0}
2025-02-11T20:41:55.977Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-2", "available": 0}
2025-02-11T20:41:55.977Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-2", "numberUnavailable": 0}
2025-02-11T20:41:55.977Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:55.977Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:55.977Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:55.978Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:55.978Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:55.978Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:55.978Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:55.978Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.978Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.978Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.978Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.978Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-2"}
2025-02-11T20:41:55.978Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-2"}
2025-02-11T20:41:55.978Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:55.979Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-2", "desired": "0"}
2025-02-11T20:41:55.979Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-2", "Available": "0"}
2025-02-11T20:41:55.979Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-2", "numberUnavailable": "0"}
2025-02-11T20:41:55.979Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-2", "State": "Succeeded"}
2025-02-11T20:41:55.979Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-2"}
################End Reconcile##############
2025-02-11T20:41:55.979Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies
2025-02-11T20:41:55.992Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"ignored": "default-source-cluster"}
2025-02-11T20:41:55.992Z	INFO	controllers/csm_controller.go:1182	removing driver from
2025-02-11T20:41:55.992Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ServiceAccount"}
2025-02-11T20:41:55.992Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ServiceAccount"}
[ShouldFail] force Get ClusterRole error for ClusterRole named csm-node
2025-02-11T20:41:55.992Z	ERROR	utils/utils.go:736	error to find object in deleteObj	{"Error": "unable to get Clusterrole", "Name:": "csm-node", "Kind:": "ClusterRole"}
2025-02-11T20:41:55.992Z	ERROR	controllers/csm_controller.go:1195	error delete node cluster role	{"Error": "unable to get Clusterrole"}
=== RUN   TestCustom/TestRemoveDriver/get_CRB_error
2025-02-11T20:41:55.992Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-3"}
2025-02-11T20:41:55.992Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-3"}
2025-02-11T20:41:55.992Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-3", "Namespace": "test", "Name": "csm", "Attempt": 3}
2025-02-11T20:41:55.993Z	INFO	utils/utils.go:1269	Adding default component cert-manager for observability 	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-3", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-3"}
2025-02-11T20:41:55.993Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-3", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:55.993Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-3"}
2025-02-11T20:41:56.006Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-3", "name": "provisioner"}
2025-02-11T20:41:56.006Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-3"}
2025-02-11T20:41:56.006Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-3"}
2025-02-11T20:41:56.008Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-3"}
2025-02-11T20:41:56.008Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-3", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:56.008Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-3", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:56.008Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-3"}
2025-02-11T20:41:56.008Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-3"}
2025-02-11T20:41:56.008Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-3"}
2025-02-11T20:41:56.008Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-3"}
2025-02-11T20:41:56.008Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-3", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:56.008Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-3", "Name": "csm-config-params"}
2025-02-11T20:41:56.008Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-3", "name": "csm-controller"}
2025-02-11T20:41:56.008Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-3", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:56.008Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-3", "Name:": "csm-controller"}
2025-02-11T20:41:56.009Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-3", "name": "csm-controller"}
2025-02-11T20:41:56.009Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-3", "name": "csm-node"}
2025-02-11T20:41:56.009Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-3", "Name:": "csm-node"}
2025-02-11T20:41:56.009Z	INFO	controllers/csm_controller.go:925	Create/Update observability	{"TraceId": "csm-3"}
2025-02-11T20:41:56.009Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-3"}
2025-02-11T20:41:56.011Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-3", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:56.011Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.011Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-3", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:56.011Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.011Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-3", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:56.011Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.011Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-3", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:56.012Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.012Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-3", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:56.012Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:56.012Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-3", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:56.012Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:56.012Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-3"}
2025-02-11T20:41:56.015Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.015Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.015Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:56.015Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:56.015Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-3"}
2025-02-11T20:41:56.021Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.021Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.021Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.021Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:56.021Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.021Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.021Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:56.021Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:56.021Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:56.021Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-3", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.021Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-3", "Error": "Deployment.apps \"karavi-metrics-powerscale\" not found"}
2025-02-11T20:41:56.021Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-3", "Name:": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.021Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-3", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.021Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-3"}
2025-02-11T20:41:56.025Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.025Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.025Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.025Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:56.026Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.026Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-3", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.026Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-3", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:56.026Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-3", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:56.026Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-3", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:56.026Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-3", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.026Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-3", "Error": "Deployment.apps \"karavi-metrics-powerflex\" not found"}
2025-02-11T20:41:56.026Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-3", "Name:": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.026Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-3", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.027Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-3", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:56.027Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-3", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:56.027Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-3", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:56.028Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-3", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-3", "status": "Failed"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-3", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-3", "desired": 0}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-3", "numberReady": 0}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-3", "available": 0}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-3", "numberUnavailable": 0}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-3"}
2025-02-11T20:41:56.028Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-3", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.029Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-3", "desired": "0"}
2025-02-11T20:41:56.029Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-3", "Available": "0"}
2025-02-11T20:41:56.029Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-3", "numberUnavailable": "0"}
2025-02-11T20:41:56.029Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-3", "State": "Succeeded"}
2025-02-11T20:41:56.029Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-3"}
################End Reconcile##############
2025-02-11T20:41:56.029Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies
2025-02-11T20:41:56.042Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"ignored": "default-source-cluster"}
2025-02-11T20:41:56.042Z	INFO	controllers/csm_controller.go:1182	removing driver from
2025-02-11T20:41:56.042Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.042Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.043Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.043Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ClusterRole"}
[ShouldFail] force Get ClusterRoleBinding error for ClusterRoleBinding named csm-node
2025-02-11T20:41:56.043Z	ERROR	utils/utils.go:736	error to find object in deleteObj	{"Error": "unable to get ClusterroleBinding", "Name:": "csm-node", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.043Z	ERROR	controllers/csm_controller.go:1205	error delete node cluster role binding	{"Error": "unable to get ClusterroleBinding"}
=== RUN   TestCustom/TestRemoveDriver/get_CM_error
2025-02-11T20:41:56.043Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-4"}
2025-02-11T20:41:56.043Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-4"}
2025-02-11T20:41:56.043Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-4", "Namespace": "test", "Name": "csm", "Attempt": 4}
2025-02-11T20:41:56.044Z	INFO	utils/utils.go:1269	Adding default component cert-manager for observability 	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-4", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-4"}
2025-02-11T20:41:56.044Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-4", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:56.045Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-4"}
2025-02-11T20:41:56.058Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-4", "name": "provisioner"}
2025-02-11T20:41:56.058Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-4"}
2025-02-11T20:41:56.058Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-4"}
2025-02-11T20:41:56.061Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-4"}
2025-02-11T20:41:56.061Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-4", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:56.061Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-4", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:56.061Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-4"}
2025-02-11T20:41:56.061Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-4"}
2025-02-11T20:41:56.061Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-4"}
2025-02-11T20:41:56.061Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-4"}
2025-02-11T20:41:56.061Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-4", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:56.061Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-4", "Name": "csm-config-params"}
2025-02-11T20:41:56.061Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-4", "name": "csm-controller"}
2025-02-11T20:41:56.061Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-4", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:56.061Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-4", "Name:": "csm-controller"}
2025-02-11T20:41:56.062Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-4", "name": "csm-controller"}
2025-02-11T20:41:56.062Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-4", "name": "csm-node"}
2025-02-11T20:41:56.062Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-4", "Name:": "csm-node"}
2025-02-11T20:41:56.062Z	INFO	controllers/csm_controller.go:925	Create/Update observability	{"TraceId": "csm-4"}
2025-02-11T20:41:56.062Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-4"}
2025-02-11T20:41:56.064Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-4", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:56.064Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.064Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-4", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:56.064Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.064Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-4", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:56.064Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.064Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-4", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:56.064Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.064Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-4", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:56.064Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:56.064Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-4", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:56.064Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:56.064Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-4"}
2025-02-11T20:41:56.066Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.066Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.066Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:56.066Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:56.066Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-4"}
2025-02-11T20:41:56.072Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.072Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.072Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.072Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:56.072Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.072Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.072Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:56.072Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:56.072Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:56.072Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-4", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.072Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-4", "Error": "Deployment.apps \"karavi-metrics-powerscale\" not found"}
2025-02-11T20:41:56.072Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-4", "Name:": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.072Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-4", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.072Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-4"}
2025-02-11T20:41:56.077Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.077Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.077Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.077Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:56.077Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.077Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-4", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.077Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-4", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:56.077Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-4", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:56.077Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-4", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:56.077Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-4", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.077Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-4", "Error": "Deployment.apps \"karavi-metrics-powerflex\" not found"}
2025-02-11T20:41:56.077Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-4", "Name:": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.077Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-4", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.078Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-4", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:56.078Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-4", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:56.079Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-4", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:56.079Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-4", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-4", "status": "Failed"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-4", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-4", "desired": 0}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-4", "numberReady": 0}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-4", "available": 0}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-4", "numberUnavailable": 0}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.079Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-4"}
2025-02-11T20:41:56.080Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-4"}
2025-02-11T20:41:56.080Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-4", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.080Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-4", "desired": "0"}
2025-02-11T20:41:56.080Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-4", "Available": "0"}
2025-02-11T20:41:56.080Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-4", "numberUnavailable": "0"}
2025-02-11T20:41:56.080Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-4", "State": "Succeeded"}
2025-02-11T20:41:56.080Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-4"}
################End Reconcile##############
2025-02-11T20:41:56.080Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies
2025-02-11T20:41:56.092Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"ignored": "default-source-cluster"}
2025-02-11T20:41:56.092Z	INFO	controllers/csm_controller.go:1182	removing driver from
2025-02-11T20:41:56.092Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.092Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.093Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.093Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.093Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.093Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ClusterRoleBinding"}
[ShouldFail] force Get Configmap error for configmap named csm-config-params
[ShouldFail] force Get Configmap error for configmap named &ConfigMap{ObjectMeta:{csm-config-params  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{driver-config-params.yaml: ,},BinaryData:map[string][]byte{},Immutable:nil,}
2025-02-11T20:41:56.093Z	ERROR	utils/utils.go:736	error to find object in deleteObj	{"Error": "unable to get ConfigMap", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.093Z	ERROR	controllers/csm_controller.go:1215	error delete configmap	{"Error": "unable to get ConfigMap"}
=== RUN   TestCustom/TestRemoveDriver/get_Driver_error
2025-02-11T20:41:56.093Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-5"}
2025-02-11T20:41:56.093Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-5"}
2025-02-11T20:41:56.093Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-5", "Namespace": "test", "Name": "csm", "Attempt": 5}
2025-02-11T20:41:56.094Z	INFO	utils/utils.go:1269	Adding default component cert-manager for observability 	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-5", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-5"}
2025-02-11T20:41:56.094Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-5", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:56.094Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-5"}
2025-02-11T20:41:56.107Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-5", "name": "provisioner"}
2025-02-11T20:41:56.107Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-5"}
2025-02-11T20:41:56.107Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-5"}
2025-02-11T20:41:56.109Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-5"}
2025-02-11T20:41:56.109Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-5", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:56.109Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-5", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:56.109Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-5"}
2025-02-11T20:41:56.109Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-5"}
2025-02-11T20:41:56.109Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-5"}
2025-02-11T20:41:56.109Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-5"}
2025-02-11T20:41:56.109Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-5", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:56.110Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-5", "Name": "csm-config-params"}
2025-02-11T20:41:56.110Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-5", "name": "csm-controller"}
2025-02-11T20:41:56.110Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-5", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:56.110Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-5", "Name:": "csm-controller"}
2025-02-11T20:41:56.110Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-5", "name": "csm-controller"}
2025-02-11T20:41:56.110Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-5", "name": "csm-node"}
2025-02-11T20:41:56.110Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-5", "Name:": "csm-node"}
2025-02-11T20:41:56.110Z	INFO	controllers/csm_controller.go:925	Create/Update observability	{"TraceId": "csm-5"}
2025-02-11T20:41:56.110Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-5"}
2025-02-11T20:41:56.113Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-5", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:56.114Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.114Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-5", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:56.114Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.114Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-5", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:56.114Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.114Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-5", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:56.114Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.114Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-5", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:56.114Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:56.114Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-5", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:56.114Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:56.114Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-5"}
2025-02-11T20:41:56.116Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.116Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.116Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:56.116Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:56.116Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-5"}
2025-02-11T20:41:56.121Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.121Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.121Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.121Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:56.121Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.121Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.121Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:56.121Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:56.121Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:56.121Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-5", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.121Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-5", "Error": "Deployment.apps \"karavi-metrics-powerscale\" not found"}
2025-02-11T20:41:56.121Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-5", "Name:": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.121Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-5", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.121Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-5"}
2025-02-11T20:41:56.127Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.127Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.127Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.127Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:56.127Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.127Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-5", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.127Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-5", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:56.127Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-5", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:56.127Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-5", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:56.127Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-5", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.127Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-5", "Error": "Deployment.apps \"karavi-metrics-powerflex\" not found"}
2025-02-11T20:41:56.127Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-5", "Name:": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.127Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-5", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.128Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-5", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:56.128Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-5", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:56.129Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-5", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:56.129Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-5", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:56.129Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-5", "status": "Failed"}
2025-02-11T20:41:56.129Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-5"}
2025-02-11T20:41:56.129Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-5", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.129Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-5"}
2025-02-11T20:41:56.129Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-5"}
2025-02-11T20:41:56.129Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-5", "desired": 0}
2025-02-11T20:41:56.129Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-5", "numberReady": 0}
2025-02-11T20:41:56.129Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-5", "available": 0}
2025-02-11T20:41:56.129Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-5", "numberUnavailable": 0}
2025-02-11T20:41:56.129Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-5"}
2025-02-11T20:41:56.129Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-5"}
2025-02-11T20:41:56.129Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-5"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-5"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-5"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-5"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-5"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-5"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-5"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-5", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-5", "desired": "0"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-5", "Available": "0"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-5", "numberUnavailable": "0"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-5", "State": "Succeeded"}
2025-02-11T20:41:56.130Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-5"}
################End Reconcile##############
2025-02-11T20:41:56.130Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies
2025-02-11T20:41:56.144Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"ignored": "default-source-cluster"}
2025-02-11T20:41:56.144Z	INFO	controllers/csm_controller.go:1182	removing driver from
2025-02-11T20:41:56.144Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.144Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.145Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.145Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.145Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.145Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.145Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-config-params", "Kind:": "ConfigMap"}
[ShouldFail] force Get Csidriver error for csidriver named csi-powermax.dellemc.com
2025-02-11T20:41:56.145Z	ERROR	utils/utils.go:736	error to find object in deleteObj	{"Error": "unable to get Csidriver", "Name:": "csi-powermax.dellemc.com", "Kind:": "CSIDriver"}
2025-02-11T20:41:56.145Z	ERROR	controllers/csm_controller.go:1220	error delete csi driver	{"Error": "unable to get Csidriver"}
=== RUN   TestCustom/TestRemoveDriver/delete_SA_error
2025-02-11T20:41:56.145Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-6"}
2025-02-11T20:41:56.145Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-6"}
2025-02-11T20:41:56.145Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-6", "Namespace": "test", "Name": "csm", "Attempt": 6}
2025-02-11T20:41:56.146Z	INFO	utils/utils.go:1269	Adding default component cert-manager for observability 	{"TraceId": "csm-6"}
2025-02-11T20:41:56.146Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-6"}
2025-02-11T20:41:56.146Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-6"}
2025-02-11T20:41:56.146Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-6"}
2025-02-11T20:41:56.146Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-6", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.147Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-6"}
2025-02-11T20:41:56.148Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-6"}
2025-02-11T20:41:56.148Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-6", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:56.148Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-6"}
2025-02-11T20:41:56.161Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-6", "name": "provisioner"}
2025-02-11T20:41:56.162Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-6"}
2025-02-11T20:41:56.162Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-6"}
2025-02-11T20:41:56.164Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-6"}
2025-02-11T20:41:56.164Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-6", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:56.164Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-6", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:56.164Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-6"}
2025-02-11T20:41:56.164Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-6"}
2025-02-11T20:41:56.165Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-6"}
2025-02-11T20:41:56.165Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-6"}
2025-02-11T20:41:56.165Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-6", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:56.165Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-6", "Name": "csm-config-params"}
2025-02-11T20:41:56.165Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-6", "name": "csm-controller"}
2025-02-11T20:41:56.165Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-6", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:56.165Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-6", "Name:": "csm-controller"}
2025-02-11T20:41:56.165Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-6", "name": "csm-controller"}
2025-02-11T20:41:56.165Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-6", "name": "csm-node"}
2025-02-11T20:41:56.165Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-6", "Name:": "csm-node"}
2025-02-11T20:41:56.165Z	INFO	controllers/csm_controller.go:925	Create/Update observability	{"TraceId": "csm-6"}
2025-02-11T20:41:56.165Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-6"}
2025-02-11T20:41:56.168Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-6", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:56.168Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.168Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-6", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:56.168Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.168Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-6", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:56.168Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.168Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-6", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:56.168Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.168Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-6", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:56.168Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:56.168Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-6", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:56.168Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:56.168Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-6"}
2025-02-11T20:41:56.171Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.171Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.171Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:56.171Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:56.171Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-6"}
2025-02-11T20:41:56.177Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.177Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.177Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.177Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:56.177Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.177Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.177Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:56.177Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:56.177Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:56.177Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-6", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.177Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-6", "Error": "Deployment.apps \"karavi-metrics-powerscale\" not found"}
2025-02-11T20:41:56.177Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-6", "Name:": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.177Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-6", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.177Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-6"}
2025-02-11T20:41:56.184Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.184Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.184Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.184Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:56.184Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.184Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-6", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.184Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-6", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:56.184Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-6", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:56.184Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-6", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:56.184Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-6", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.184Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-6", "Error": "Deployment.apps \"karavi-metrics-powerflex\" not found"}
2025-02-11T20:41:56.184Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-6", "Name:": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.185Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-6", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.186Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-6", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:56.188Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-6", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:56.190Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-6", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:56.190Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-6", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:56.190Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-6", "status": "Failed"}
2025-02-11T20:41:56.190Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-6"}
2025-02-11T20:41:56.190Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-6", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.190Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-6"}
2025-02-11T20:41:56.190Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-6", "desired": 0}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-6", "numberReady": 0}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-6", "available": 0}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-6", "numberUnavailable": 0}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-6"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-6", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-6", "desired": "0"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-6", "Available": "0"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-6", "numberUnavailable": "0"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-6", "State": "Succeeded"}
2025-02-11T20:41:56.191Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-6"}
################End Reconcile##############
2025-02-11T20:41:56.191Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies
2025-02-11T20:41:56.206Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"ignored": "default-source-cluster"}
2025-02-11T20:41:56.206Z	INFO	controllers/csm_controller.go:1182	removing driver from
2025-02-11T20:41:56.207Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ServiceAccount"}
[ShouldFail] force Delete ServiceAccount error for ServiceAccount named csm-node
2025-02-11T20:41:56.207Z	ERROR	controllers/csm_controller.go:1185	error delete node service account	{"Error": "unable to delete ServiceAccount"}
=== RUN   TestCustom/TestRemoveDriver/delete_Daemonset_error
2025-02-11T20:41:56.207Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-7"}
2025-02-11T20:41:56.207Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-7"}
2025-02-11T20:41:56.207Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-7", "Namespace": "test", "Name": "csm", "Attempt": 7}
2025-02-11T20:41:56.207Z	INFO	utils/utils.go:1269	Adding default component cert-manager for observability 	{"TraceId": "csm-7"}
2025-02-11T20:41:56.207Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-7"}
2025-02-11T20:41:56.207Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-7"}
2025-02-11T20:41:56.207Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-7", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-7"}
2025-02-11T20:41:56.208Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-7", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:56.208Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-7"}
2025-02-11T20:41:56.221Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-7", "name": "provisioner"}
2025-02-11T20:41:56.222Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-7"}
2025-02-11T20:41:56.222Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-7"}
2025-02-11T20:41:56.224Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-7"}
2025-02-11T20:41:56.225Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-7", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:56.225Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-7", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:56.225Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-7"}
2025-02-11T20:41:56.225Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-7"}
2025-02-11T20:41:56.225Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-7"}
2025-02-11T20:41:56.225Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-7"}
2025-02-11T20:41:56.225Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-7", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:56.225Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-7", "Name": "csm-config-params"}
2025-02-11T20:41:56.225Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-7", "name": "csm-controller"}
2025-02-11T20:41:56.225Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-7", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:56.225Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-7", "Name:": "csm-controller"}
2025-02-11T20:41:56.226Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-7", "name": "csm-controller"}
2025-02-11T20:41:56.226Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-7", "name": "csm-node"}
2025-02-11T20:41:56.226Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-7", "Name:": "csm-node"}
2025-02-11T20:41:56.226Z	INFO	controllers/csm_controller.go:925	Create/Update observability	{"TraceId": "csm-7"}
2025-02-11T20:41:56.226Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-7"}
2025-02-11T20:41:56.230Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-7", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:56.230Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.230Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-7", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:56.230Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.230Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-7", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:56.230Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.230Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-7", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:56.230Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.230Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-7", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:56.230Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:56.230Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-7", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:56.230Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:56.230Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-7"}
2025-02-11T20:41:56.234Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.234Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.234Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:56.234Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:56.234Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-7"}
2025-02-11T20:41:56.243Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.243Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.243Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.243Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:56.243Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.243Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.243Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:56.243Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:56.243Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:56.243Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-7", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.243Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-7", "Error": "Deployment.apps \"karavi-metrics-powerscale\" not found"}
2025-02-11T20:41:56.243Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-7", "Name:": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.243Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-7", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.243Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-7"}
2025-02-11T20:41:56.251Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.251Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.251Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.251Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:56.251Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.251Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-7", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.251Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-7", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:56.251Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-7", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:56.251Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-7", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:56.251Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-7", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.251Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-7", "Error": "Deployment.apps \"karavi-metrics-powerflex\" not found"}
2025-02-11T20:41:56.251Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-7", "Name:": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.252Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-7", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.253Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-7", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:56.253Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-7", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:56.254Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-7", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:56.254Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-7", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:56.254Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-7", "status": "Failed"}
2025-02-11T20:41:56.254Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-7"}
2025-02-11T20:41:56.254Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-7", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.254Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-7"}
2025-02-11T20:41:56.254Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-7"}
2025-02-11T20:41:56.254Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-7", "desired": 0}
2025-02-11T20:41:56.254Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-7", "numberReady": 0}
2025-02-11T20:41:56.254Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-7", "available": 0}
2025-02-11T20:41:56.254Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-7", "numberUnavailable": 0}
2025-02-11T20:41:56.254Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-7"}
2025-02-11T20:41:56.254Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-7"}
2025-02-11T20:41:56.254Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-7"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-7"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-7"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-7"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-7"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-7"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-7"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-7", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-7", "desired": "0"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-7", "Available": "0"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-7", "numberUnavailable": "0"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-7", "State": "Succeeded"}
2025-02-11T20:41:56.255Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-7"}
################End Reconcile##############
2025-02-11T20:41:56.255Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies
2025-02-11T20:41:56.270Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"ignored": "default-source-cluster"}
2025-02-11T20:41:56.270Z	INFO	controllers/csm_controller.go:1182	removing driver from
2025-02-11T20:41:56.270Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.270Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.270Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.270Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.270Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.271Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.271Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.271Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csi-powermax.dellemc.com", "Kind:": "CSIDriver", "Namespace:": ""}
[ShouldFail] force delete DaemonSet error for DaemonSet named csm-node
2025-02-11T20:41:56.271Z	ERROR	controllers/csm_controller.go:1233	error delete daemonset	{"Error": "unable to delete Daemonset"}
=== RUN   TestCustom/TestRemoveDriver/delete_Deployment_error
2025-02-11T20:41:56.271Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-8"}
2025-02-11T20:41:56.271Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-8"}
2025-02-11T20:41:56.271Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-8", "Namespace": "test", "Name": "csm", "Attempt": 8}
2025-02-11T20:41:56.272Z	INFO	utils/utils.go:1269	Adding default component cert-manager for observability 	{"TraceId": "csm-8"}
2025-02-11T20:41:56.272Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-8"}
2025-02-11T20:41:56.272Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-8"}
2025-02-11T20:41:56.272Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	modules/authorization.go:523	preformed pre-checks for authorization	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	modules/observability.go:243	
performed pre checks for: observability	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-8", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-8"}
2025-02-11T20:41:56.273Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-8", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:56.273Z	INFO	controllers/csm_controller.go:1133	Getting isilon CSI Driver for Dell Technologies	{"TraceId": "csm-8"}
2025-02-11T20:41:56.288Z	INFO	drivers/commonconfig.go:145	Container to be enabled	{"TraceId": "csm-8", "name": "provisioner"}
2025-02-11T20:41:56.288Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-8"}
2025-02-11T20:41:56.288Z	INFO	controllers/csm_controller.go:795	Injecting CSM Authorization	{"TraceId": "csm-8"}
2025-02-11T20:41:56.290Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-8"}
2025-02-11T20:41:56.290Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-8", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:56.290Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-8", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:56.290Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-8"}
2025-02-11T20:41:56.291Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-8"}
2025-02-11T20:41:56.291Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-8"}
2025-02-11T20:41:56.291Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-8"}
2025-02-11T20:41:56.291Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-8", "Name:": "csi-isilon.dellemc.com"}
2025-02-11T20:41:56.291Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-8", "Name": "csm-config-params"}
2025-02-11T20:41:56.291Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-8", "name": "csm-controller"}
2025-02-11T20:41:56.291Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-8", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:56.291Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-8", "Name:": "csm-controller"}
2025-02-11T20:41:56.291Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-8", "name": "csm-controller"}
2025-02-11T20:41:56.292Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-8", "name": "csm-node"}
2025-02-11T20:41:56.292Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-8", "Name:": "csm-node"}
2025-02-11T20:41:56.292Z	INFO	controllers/csm_controller.go:925	Create/Update observability	{"TraceId": "csm-8"}
2025-02-11T20:41:56.292Z	INFO	controllers/csm_controller.go:964	reconcile topology	{"TraceId": "csm-8"}
2025-02-11T20:41:56.299Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-8", "ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com, csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-02-11T20:41:56.299Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.299Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-8", "ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-02-11T20:41:56.299Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.299Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-8", "ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-02-11T20:41:56.299Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.299Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-8", "ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:karavi,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-02-11T20:41:56.299Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.299Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-8", "ctrlObj": "&Service{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-02-11T20:41:56.300Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-topology", "Kind:": "Service"}
2025-02-11T20:41:56.300Z	INFO	modules/observability.go:256	current topoObject is 	{"TraceId": "csm-8", "ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  karavi    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:csm csmNamespace:test] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:v1.10.0 [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},}"}
2025-02-11T20:41:56.300Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-topology", "Kind:": "Deployment"}
2025-02-11T20:41:56.300Z	INFO	controllers/csm_controller.go:964	reconcile otel-collector	{"TraceId": "csm-8"}
2025-02-11T20:41:56.304Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.304Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.304Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "otel-collector", "Kind:": "Service"}
2025-02-11T20:41:56.304Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "otel-collector", "Kind:": "Deployment"}
2025-02-11T20:41:56.304Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerscale	{"TraceId": "csm-8"}
2025-02-11T20:41:56.309Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.309Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.309Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.309Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-02-11T20:41:56.309Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.309Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.309Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:56.309Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:56.309Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:56.309Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-8", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.309Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-8", "Error": "Deployment.apps \"karavi-metrics-powerscale\" not found"}
2025-02-11T20:41:56.309Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-8", "Name:": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.309Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-8", "name": "karavi-metrics-powerscale"}
2025-02-11T20:41:56.309Z	INFO	controllers/csm_controller.go:964	reconcile metrics-powerflex	{"TraceId": "csm-8"}
2025-02-11T20:41:56.320Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.320Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.320Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.320Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-02-11T20:41:56.320Z	INFO	utils/utils.go:798	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.320Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-8", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.320Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-8", "Name:": "csm-creds", "Kind:": ""}
2025-02-11T20:41:56.320Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-8", "Name:": "isilon-karavi-authorization-config", "Kind:": ""}
2025-02-11T20:41:56.320Z	INFO	utils/utils.go:808	Updating a new Object	{"TraceId": "csm-8", "Name:": "isilon-proxy-authz-tokens", "Kind:": ""}
2025-02-11T20:41:56.320Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-8", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.320Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-8", "Error": "Deployment.apps \"karavi-metrics-powerflex\" not found"}
2025-02-11T20:41:56.320Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-8", "Name:": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.320Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-8", "name": "karavi-metrics-powerflex"}
2025-02-11T20:41:56.321Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-8", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:56.321Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-8", "Name:": "karavi-topology", "Kind:": "Certificate"}
2025-02-11T20:41:56.322Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-8", "Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:56.322Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-8", "Name:": "otel-collector", "Kind:": "Certificate"}
2025-02-11T20:41:56.322Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-8", "status": "Failed"}
2025-02-11T20:41:56.322Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-8"}
2025-02-11T20:41:56.322Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-8", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.322Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-8"}
2025-02-11T20:41:56.322Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-8"}
2025-02-11T20:41:56.322Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-8", "desired": 0}
2025-02-11T20:41:56.322Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-8", "numberReady": 0}
2025-02-11T20:41:56.322Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-8", "available": 0}
2025-02-11T20:41:56.322Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-8", "numberUnavailable": 0}
2025-02-11T20:41:56.322Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-8"}
2025-02-11T20:41:56.322Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-8"}
2025-02-11T20:41:56.322Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-8"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-8"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-8"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-8"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-8"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:254	observability module running	{"TraceId": "csm-8"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-8"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-8", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-8", "desired": "0"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-8", "Available": "0"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-8", "numberUnavailable": "0"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-8", "State": "Succeeded"}
2025-02-11T20:41:56.323Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-8"}
################End Reconcile##############
2025-02-11T20:41:56.323Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies
2025-02-11T20:41:56.338Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"ignored": "default-source-cluster"}
2025-02-11T20:41:56.338Z	INFO	controllers/csm_controller.go:1182	removing driver from
2025-02-11T20:41:56.338Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.338Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.338Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.338Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.338Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-node", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.338Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.338Z	INFO	utils/utils.go:740	Deleting object	{"Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.338Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csi-powermax.dellemc.com", "Kind:": "CSIDriver", "Namespace:": ""}
[ShouldFail] force Deployment error for Deployment named csm-controller
2025-02-11T20:41:56.339Z	ERROR	controllers/csm_controller.go:1248	error delete deployment	{"Error": "unable to delete Deployment"}
=== RUN   TestCustom/TestRemoveModule
2025-02-11T20:41:56Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:56.339Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
=== RUN   TestCustom/TestRemoveModule/csm
2025-02-11T20:41:56.339Z	INFO	controllers/csm_controller.go:1315	Deleting Authorization Proxy Server
2025-02-11T20:41:56.339Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager", "Kind:": "Namespace", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-view", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-edit", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role", "Namespace:": "kube-system"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager:leaderelection", "Kind:": "Role", "Namespace:": "kube-system"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role", "Namespace:": "test"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding", "Namespace:": "kube-system"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding", "Namespace:": "kube-system"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding", "Namespace:": "test"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration", "Namespace:": ""}
2025-02-11T20:41:56.482Z	INFO	controllers/csm_controller.go:1000	Reconcile authorization proxy-server
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "redis-csm-secret", "Kind:": "Secret", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "proxy-server", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "proxy-server", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "proxy-server", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "tenant-service", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "tenant-service", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "role-service", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-auth-role-service", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "role-service", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "role-service", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "role-service", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "storage-service", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-auth-storage-service", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "storage-service", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "storage-service", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "storage-service-selfsigned", "Kind:": "Issuer", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "storage-service-selfsigned", "Kind:": "Certificate", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "authorization-controller", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "authorization-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "authorization-controller", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "authorization-controller", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "", "Kind:": "StatefulSet", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "", "Kind:": "StatefulSet", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "-svc", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "system:serviceaccounts:test", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "csm-auth-view", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "opa-viewer", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "configmap-modifier", "Kind:": "Role", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "opa-configmap-modifier", "Kind:": "RoleBinding", "Namespace:": "test"}
2025-02-11T20:41:56.505Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.506Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "storage-service", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.512Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "common", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:56.512Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "volumes-create", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:56.512Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "volumes-delete", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:56.512Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "volumes-map", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:56.512Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "powermax-volumes-create", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:56.512Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "volumes-unmap", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:56.512Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "sdc-approve", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:56.512Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "redis-csm-cm", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:56.512Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "snapshot-create", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:56.512Z	INFO	controllers/csm_controller.go:1017	Reconcile authorization NGINX Ingress Controller
2025-02-11T20:41:56.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:56.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx-admission", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:56.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx", "Kind:": "Role", "Namespace:": "test"}
2025-02-11T20:41:56.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx-admission", "Kind:": "Role", "Namespace:": "test"}
2025-02-11T20:41:56.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx", "Kind:": "RoleBinding", "Namespace:": "test"}
2025-02-11T20:41:56.522Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx-admission", "Kind:": "RoleBinding", "Namespace:": "test"}
2025-02-11T20:41:56.523Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.523Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx-admission", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.523Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx-controller", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:56.523Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx-controller", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.523Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx-controller-admission", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.523Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx-controller", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.523Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx-admission-create", "Kind:": "Job", "Namespace:": "test"}
2025-02-11T20:41:56.523Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx-admission-patch", "Kind:": "Job", "Namespace:": "test"}
2025-02-11T20:41:56.523Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "nginx", "Kind:": "IngressClass", "Namespace:": ""}
2025-02-11T20:41:56.523Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "test-ingress-nginx-admission", "Kind:": "ValidatingWebhookConfiguration", "Namespace:": ""}
2025-02-11T20:41:56.523Z	INFO	controllers/csm_controller.go:1026	Reconcile authorization Ingresses
2025-02-11T20:41:56.525Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "proxy-server", "Kind:": "Ingress", "Namespace:": "test"}
2025-02-11T20:41:56.525Z	INFO	controllers/csm_controller.go:1032	Reconcile authorization certificates
2025-02-11T20:41:56.525Z	INFO	modules/authorization.go:1283	Authorization hostname: csm-auth.com
2025-02-11T20:41:56.525Z	INFO	modules/authorization.go:1305	using self-signed certificate for authorization
2025-02-11T20:41:56.525Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "selfsigned", "Kind:": "Issuer", "Namespace:": "test"}
2025-02-11T20:41:56.526Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "karavi-auth", "Kind:": "Certificate", "Namespace:": "test"}
=== RUN   TestCustom/TestRemoveModule/csm#01
2025-02-11T20:41:56.526Z	INFO	controllers/csm_controller.go:1315	Deleting Authorization Proxy Server
2025-02-11T20:41:56.526Z	INFO	controllers/csm_controller.go:993	Reconcile authorization cert-manager
2025-02-11T20:41:56.667Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager", "Kind:": "Namespace", "Namespace:": ""}
2025-02-11T20:41:56.667Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:56.667Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:56.667Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "ServiceAccount", "Namespace:": "test"}
2025-02-11T20:41:56.667Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "ConfigMap", "Namespace:": "test"}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-view", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-edit", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole", "Namespace:": ""}
2025-02-11T20:41:56.668Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.669Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.669Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.669Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.669Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.669Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.669Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.669Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.669Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.669Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-02-11T20:41:56.669Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role", "Namespace:": "kube-system"}
2025-02-11T20:41:56.669Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager:leaderelection", "Kind:": "Role", "Namespace:": "kube-system"}
2025-02-11T20:41:56.669Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role", "Namespace:": "test"}
2025-02-11T20:41:56.670Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding", "Namespace:": "kube-system"}
2025-02-11T20:41:56.670Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding", "Namespace:": "kube-system"}
2025-02-11T20:41:56.670Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding", "Namespace:": "test"}
2025-02-11T20:41:56.670Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.670Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "Service", "Namespace:": "test"}
2025-02-11T20:41:56.670Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.670Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.670Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "Deployment", "Namespace:": "test"}
2025-02-11T20:41:56.670Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration", "Namespace:": ""}
2025-02-11T20:41:56.670Z	INFO	utils/utils.go:733	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration", "Namespace:": ""}
2025-02-11T20:41:56.670Z	INFO	controllers/csm_controller.go:1000	Reconcile authorization proxy-server
=== RUN   TestCustom/TestRemoveModule/csm#02
2025-02-11T20:41:56.672Z	INFO	controllers/csm_controller.go:1328	Deleting ReverseProxy
2025-02-11T20:41:56.672Z	INFO	controllers/csm_controller.go:1171	Reconcile reverseproxy proxy
=== RUN   TestCustom/TestResiliencyReconcile
2025-02-11T20:41:56Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:56.672Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:56.672Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:56.672Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:56.672Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:56.673Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	modules/resiliency.go:91	
performed pre checks for: resiliency	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	modules/resiliency.go:91	
performed pre checks for: resiliency	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:56.673Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:56.673Z	INFO	controllers/csm_controller.go:1133	Getting powerstore CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:56.684Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-1"}
2025-02-11T20:41:56.685Z	INFO	controllers/csm_controller.go:809	Injecting CSM Resiliency	{"TraceId": "csm-1"}
2025-02-11T20:41:56.686Z	INFO	controllers/csm_controller.go:809	Injecting CSM Resiliency	{"TraceId": "csm-1"}
2025-02-11T20:41:56.688Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.688Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:56.688Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:56.688Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.688Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.688Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.688Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.688Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-1", "Name:": "csi-powerstore.dellemc.com"}
2025-02-11T20:41:56.688Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-1", "Name": "csm-config-params"}
2025-02-11T20:41:56.688Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:56.688Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:56.688Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "csm-controller"}
2025-02-11T20:41:56.689Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:56.689Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-1", "name": "csm-node"}
2025-02-11T20:41:56.689Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-1", "Name:": "csm-node"}
2025-02-11T20:41:56.689Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Failed"}
2025-02-11T20:41:56.689Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-1"}
2025-02-11T20:41:56.689Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.689Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.690Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.690Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.690Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.690Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.690Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.690Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.691Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.691Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.691Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.692Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.692Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.692Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.692Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.692Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.692Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.692Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.692Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.692Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.692Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:56.692Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:56.692Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:56.693Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:56.693Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:56Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
2025-02-11T20:41:56.693Z	INFO	controllers/csm_controller.go:511	daemonset 	{"TraceId": "csm-1", "name": "csm-node", "namespace": "test"}
2025-02-11T20:41:56.693Z	INFO	controllers/csm_controller.go:512	daemonset 	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.693Z	INFO	controllers/csm_controller.go:513	daemonset 	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.693Z	INFO	controllers/csm_controller.go:514	daemonset 	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.693Z	INFO	controllers/csm_controller.go:515	daemonset 	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.694Z	INFO	controllers/csm_controller.go:532	csm prev status 	{"TraceId": "csm-1", "state": {"controllerStatus":{"available":"0","desired":"0","failed":"0"},"nodeStatus":{"available":"0","desired":"0","failed":"0"},"state":"Succeeded"}}
2025-02-11T20:41:56.694Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:56.694Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:56.694Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.694Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.694Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.694Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.695Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.695Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.695Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.695Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.695Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.695Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.695Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.695Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:56.696Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:56.697Z	INFO	controllers/csm_controller.go:413	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "desired": 0}
2025-02-11T20:41:56.697Z	INFO	controllers/csm_controller.go:414	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "numberReady": 0}
2025-02-11T20:41:56.697Z	INFO	controllers/csm_controller.go:415	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "available": 0}
2025-02-11T20:41:56.697Z	INFO	controllers/csm_controller.go:416	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "numberUnavailable": 0}
2025-02-11T20:41:56.697Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:56.697Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:56.697Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.697Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.698Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.698Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.698Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.698Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.698Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.698Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.698Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.698Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.699Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.700Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:56.700Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:56.700Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:56.700Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:56.700Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:56.701Z	INFO	controllers/csm_controller.go:467	pod modified for driver	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:56.702Z	INFO	controllers/csm_controller.go:478	csm prev status 	{"TraceId": "csm-1", "state": {"controllerStatus":{"available":"0","desired":"0","failed":"0"},"nodeStatus":{"available":"0","desired":"0","failed":"1"},"state":"Succeeded"}}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:151	daemonset pod csm-controller : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:189	daemonset status failedCount pods 2	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 2} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.702Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"2"}}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:56.703Z	INFO	controllers/csm_controller.go:485	pod status 	{"TraceId": "csm-1", "state": "error message for default-source-cluster \ntest="}
2025-02-11T20:41:56.703Z	INFO	controllers/csm_controller.go:467	pod modified for driver	{"TraceId": "test-1", "name": "csm-controller"}
2025-02-11T20:41:56.703Z	ERROR	controllers/csm_controller.go:476	daemonset get csm	{"TraceId": "0", "error": "ContainerStorageModule.storage.dell.com \"test\" not found"}
2025-02-11T20:41:56.703Z	INFO	controllers/csm_controller.go:478	csm prev status 	{"TraceId": "test-1", "state": {"controllerStatus":{},"nodeStatus":{}}}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "test-1", "status": ""}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:290	update new Status: (State - )	{"TraceId": "test-1"}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:291	Update State	{"TraceId": "test-1", "Controller": {}, "Node": {}}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "test-1"}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:73	Not a driver instance, will not check deploymentstatus	{"TraceId": "test-1"}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:220	instance.GetName() is 	{"TraceId": "test-1"}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "test-1"}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "test-1"}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Succeeded}]	{"TraceId": "test-1"}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:275	Driver State	{"TraceId": "test-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.703Z	ERROR	utils/status.go:320	ContainerStorageModule.storage.dell.com "" not found Failed to update CR status	{"TraceId": "test-1"}
2025-02-11T20:41:56.703Z	INFO	controllers/csm_controller.go:485	pod status 	{"TraceId": "test-1", "state": "ContainerStorageModule.storage.dell.com \"\" not found"}
2025-02-11T20:41:56.703Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:56.703Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-2"}
2025-02-11T20:41:56.703Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm", "Attempt": 2}
2025-02-11T20:41:56.703Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-2"}
2025-02-11T20:41:56.703Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-2"}
2025-02-11T20:41:56.703Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-2"}
2025-02-11T20:41:56.703Z	INFO	modules/resiliency.go:91	
performed pre checks for: resiliency	{"TraceId": "csm-2"}
2025-02-11T20:41:56.703Z	INFO	modules/resiliency.go:91	
performed pre checks for: resiliency	{"TraceId": "csm-2"}
2025-02-11T20:41:56.703Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:56.703Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-2", "desired": 0}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-2", "numberReady": 0}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-2", "available": 0}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-2", "numberUnavailable": 0}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-2", "message": "", "Reason": "test"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:151	daemonset pod csm-controller : Running	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:151	daemonset pod csm-pod : 	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:181	daemonset pod: csm-pod is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: error message for default-source-cluster 
test=	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-2", "newStatus.State": "Succeeded"}
2025-02-11T20:41:56.704Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-2"}
2025-02-11T20:41:56.704Z	INFO	controllers/csm_controller.go:1133	Getting powerstore CSI Driver for Dell Technologies	{"TraceId": "csm-2"}
2025-02-11T20:41:56.716Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-2"}
2025-02-11T20:41:56.716Z	INFO	controllers/csm_controller.go:809	Injecting CSM Resiliency	{"TraceId": "csm-2"}
2025-02-11T20:41:56.718Z	INFO	controllers/csm_controller.go:809	Injecting CSM Resiliency	{"TraceId": "csm-2"}
2025-02-11T20:41:56.719Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.719Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-2", "Name:": "csm-node"}
2025-02-11T20:41:56.719Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-2", "Name:": "csm-controller"}
2025-02-11T20:41:56.719Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:56.719Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:56.719Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:56.719Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:56.719Z	INFO	csidriver/csidriver.go:42	Updating existing CSIDriver Object	{"TraceId": "csm-2", "Name:": "csi-powerstore.dellemc.com"}
2025-02-11T20:41:56.719Z	INFO	configmap/configmap.go:43	Updating ConfigMap	{"TraceId": "csm-2", "Name:": "csm-config-params"}
2025-02-11T20:41:56.719Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-2", "name": "csm-controller"}
2025-02-11T20:41:56.720Z	INFO	deployment/deployment.go:47	found deployment	{"TraceId": "csm-2", "image": "quay.io/dell/container-storage-modules/podmon:v1.11.0"}
2025-02-11T20:41:56.720Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-2", "name": "csm-controller"}
2025-02-11T20:41:56.720Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-2", "name": "csm-node"}
2025-02-11T20:41:56.721Z	INFO	daemonset/daemonset.go:41	Found DaemonSet	{"TraceId": "csm-2", "image": "quay.io/dell/container-storage-modules/podmon:v1.11.0"}
2025-02-11T20:41:56.721Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-2", "status": "Succeeded"}
2025-02-11T20:41:56.721Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-2"}
2025-02-11T20:41:56.721Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.721Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-2", "desired": 0}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-2", "numberReady": 0}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-2", "available": 0}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-2", "numberUnavailable": 0}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:151	daemonset pod csm-pod : 	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:181	daemonset pod: csm-pod is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-2", "message": "", "Reason": "test"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:151	daemonset pod csm-controller : Running	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-2", "desired": "0"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-2", "Available": "0"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-2", "numberUnavailable": "0"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-2", "State": "Succeeded"}
2025-02-11T20:41:56.722Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-2"}
################End Reconcile##############
2025-02-11T20:41:56.722Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:56.722Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:56.722Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:56.722Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:56.723Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:56.723Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-1"}
2025-02-11T20:41:56.723Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:56.723Z	INFO	modules/resiliency.go:91	
performed pre checks for: resiliency	{"TraceId": "csm-1"}
2025-02-11T20:41:56.723Z	INFO	modules/resiliency.go:91	
performed pre checks for: resiliency	{"TraceId": "csm-1"}
2025-02-11T20:41:56.723Z	INFO	controllers/csm_controller.go:295	Delete request	{"TraceId": "csm-1", "csm": "test", "Name": "csm"}
2025-02-11T20:41:56.723Z	INFO	controllers/csm_controller.go:1133	Getting powerstore CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:56.735Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"TraceId": "csm-1", "ignored": "default-source-cluster"}
2025-02-11T20:41:56.735Z	INFO	controllers/csm_controller.go:1182	removing driver from	{"TraceId": "csm-1"}
2025-02-11T20:41:56.735Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.735Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.735Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.736Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.736Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.736Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.736Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.736Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csi-powerstore.dellemc.com", "Kind:": "CSIDriver"}
2025-02-11T20:41:56Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
=== RUN   TestCustom/TestResiliencyReconcileError
2025-02-11T20:41:56Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:56.737Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:56.737Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:56.737Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:56.737Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:56.737Z	ERROR	utils/status.go:348	unsupported driver type unsupported-driver *************Create/Update unsupported-driver failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:56Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
=== RUN   TestCustom/TestReverseProxyPreCheckError
2025-02-11T20:41:56Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:56.737Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:56.737Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:56.737Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:56.737Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:56.737Z	INFO	controllers/csm_controller.go:1492	proceeding with fresh driver install	{"TraceId": "csm-1"}
2025-02-11T20:41:56.737Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:56.737Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	ERROR	utils/status.go:348	failed reverseproxy validation: CSM csireverseproxy does not have v2.4.0 version. The following are supported versions: v2.10.0,v2.11.0,v2.12.0 *************Create/Update powermax failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:56Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
=== RUN   TestCustom/TestReverseProxyReconcile
2025-02-11T20:41:56Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:56.738Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:56.738Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:56.738Z	INFO	controllers/csm_controller.go:1492	proceeding with fresh driver install	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	modules/reverseproxy.go:117	
performed pre checks for: csireverseproxy	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	controllers/csm_controller.go:1518	Installing csm component csm with config Version v2.12.0. Updating Annotations with Config Version	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:56.738Z	INFO	controllers/csm_controller.go:740	Trying Create/Update reverseproxy...	{"TraceId": "csm-1"}
2025-02-11T20:41:56.738Z	INFO	controllers/csm_controller.go:1171	Reconcile reverseproxy proxy	{"TraceId": "csm-1"}
2025-02-11T20:41:56.740Z	INFO	modules/reverseproxy.go:134	Object: &ServiceAccount{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,} -----
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.740Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csipowermax-reverseproxy", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.740Z	INFO	modules/reverseproxy.go:134	Object: &Role{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list watch get],APIGroups:[],Resources:[secrets],ResourceNames:[],NonResourceURLs:[],},},} -----
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.740Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csipowermax-reverseproxy", "Kind:": "Role"}
2025-02-11T20:41:56.740Z	INFO	modules/reverseproxy.go:134	Object: &RoleBinding{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:csipowermax-reverseproxy,Namespace:test,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:Role,Name:csipowermax-reverseproxy,},} -----
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.740Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csipowermax-reverseproxy", "Kind:": "RoleBinding"}
2025-02-11T20:41:56.740Z	INFO	modules/reverseproxy.go:134	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{name: csipowermax-reverseproxy,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.740Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-02-11T20:41:56.741Z	INFO	modules/reverseproxy.go:134	Object: &Deployment{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{name: csipowermax-reverseproxy,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[csmNamespace:test name:csipowermax-reverseproxy] map[] [] [] []} {[{configmap-volume {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:powermax-reverseproxy-config,},Items:[]KeyToPath{},DefaultMode:nil,Optional:*true,} nil nil nil nil nil nil nil nil nil nil nil}} {tls-secret {nil nil nil nil nil &SecretVolumeSource{SecretName:csirevproxy-tls-secret,Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {cert-dir {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}}] [] [{csipowermax-reverseproxy  [] []  [] [] [{X_CSI_REVPROXY_CONFIG_DIR /etc/config/configmap nil} {X_CSI_REVPROXY_CONFIG_FILE_NAME config.yaml nil} {X_CSI_REVRPOXY_IN_CLUSTER true nil} {X_CSI_REVPROXY_TLS_CERT_DIR /app/tls nil} {X_CSI_REVPROXY_WATCH_NAMESPACE test nil}] {map[] map[] []} [] <nil> [{configmap-volume false <nil> /etc/config/configmap  <nil> } {tls-secret false <nil> /app/tls  <nil> } {cert-dir false <nil> /app/certs  <nil> }] [] nil nil nil nil   Always nil false false false}] []  <nil> <nil>  map[] csipowermax-reverseproxy  <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},} -----
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.741Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csipowermax-reverseproxy", "Kind:": "Deployment"}
2025-02-11T20:41:56.741Z	INFO	modules/reverseproxy.go:145	Create/Update reverseproxy successful...	{"TraceId": "csm-1"}
2025-02-11T20:41:56.741Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:56.757Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-1"}
2025-02-11T20:41:56.757Z	INFO	controllers/csm_controller.go:769	DeployAsSidar is false...csi-reverseproxy should be present as deployement
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.757Z	INFO	controllers/csm_controller.go:770	adding proxy service name...
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.757Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.757Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:56.757Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:56.757Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.757Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.758Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.758Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.758Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-1", "Name:": "csi-powermax.dellemc.com"}
2025-02-11T20:41:56.758Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-1", "Name": "csm-config-params"}
2025-02-11T20:41:56.758Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:56.758Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:56.758Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "csm-controller"}
2025-02-11T20:41:56.758Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:56.758Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-1", "name": "csm-node"}
2025-02-11T20:41:56.758Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-1", "Name:": "csm-node"}
2025-02-11T20:41:56.759Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Failed"}
2025-02-11T20:41:56.759Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-1"}
2025-02-11T20:41:56.759Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.759Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:56.760Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:56Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
2025-02-11T20:41:56.761Z	INFO	controllers/csm_controller.go:511	daemonset 	{"TraceId": "csm-1", "name": "csm-node", "namespace": "test"}
2025-02-11T20:41:56.761Z	INFO	controllers/csm_controller.go:512	daemonset 	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.761Z	INFO	controllers/csm_controller.go:513	daemonset 	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.761Z	INFO	controllers/csm_controller.go:514	daemonset 	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.761Z	INFO	controllers/csm_controller.go:515	daemonset 	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.761Z	INFO	controllers/csm_controller.go:532	csm prev status 	{"TraceId": "csm-1", "state": {"controllerStatus":{"available":"0","desired":"0","failed":"0"},"nodeStatus":{"available":"0","desired":"0","failed":"0"},"state":"Succeeded"}}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:56.761Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:56.762Z	INFO	controllers/csm_controller.go:413	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "desired": 0}
2025-02-11T20:41:56.762Z	INFO	controllers/csm_controller.go:414	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "numberReady": 0}
2025-02-11T20:41:56.762Z	INFO	controllers/csm_controller.go:415	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "available": 0}
2025-02-11T20:41:56.762Z	INFO	controllers/csm_controller.go:416	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "numberUnavailable": 0}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:56.762Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	controllers/csm_controller.go:467	pod modified for driver	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:56.763Z	INFO	controllers/csm_controller.go:478	csm prev status 	{"TraceId": "csm-1", "state": {"controllerStatus":{"available":"0","desired":"0","failed":"0"},"nodeStatus":{"available":"0","desired":"0","failed":"1"},"state":"Succeeded"}}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:151	daemonset pod csm-controller : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:56.763Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:189	daemonset status failedCount pods 2	{"TraceId": "csm-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 2} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"2"}}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:56.764Z	INFO	controllers/csm_controller.go:485	pod status 	{"TraceId": "csm-1", "state": "error message for default-source-cluster \ntest="}
2025-02-11T20:41:56.764Z	INFO	controllers/csm_controller.go:467	pod modified for driver	{"TraceId": "test-1", "name": "csm-controller"}
2025-02-11T20:41:56.764Z	ERROR	controllers/csm_controller.go:476	daemonset get csm	{"TraceId": "0", "error": "ContainerStorageModule.storage.dell.com \"test\" not found"}
2025-02-11T20:41:56.764Z	INFO	controllers/csm_controller.go:478	csm prev status 	{"TraceId": "test-1", "state": {"controllerStatus":{},"nodeStatus":{}}}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "test-1", "status": ""}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:290	update new Status: (State - )	{"TraceId": "test-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:291	Update State	{"TraceId": "test-1", "Controller": {}, "Node": {}}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "test-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:73	Not a driver instance, will not check deploymentstatus	{"TraceId": "test-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:220	instance.GetName() is 	{"TraceId": "test-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "test-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "test-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Succeeded}]	{"TraceId": "test-1"}
2025-02-11T20:41:56.764Z	INFO	utils/status.go:275	Driver State	{"TraceId": "test-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.764Z	ERROR	utils/status.go:320	ContainerStorageModule.storage.dell.com "" not found Failed to update CR status	{"TraceId": "test-1"}
2025-02-11T20:41:56.764Z	INFO	controllers/csm_controller.go:485	pod status 	{"TraceId": "test-1", "state": "ContainerStorageModule.storage.dell.com \"\" not found"}
2025-02-11T20:41:56.764Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:56.764Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-2"}
2025-02-11T20:41:56.764Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm", "Attempt": 2}
2025-02-11T20:41:56.764Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-2"}
2025-02-11T20:41:56.764Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-2"}
2025-02-11T20:41:56.764Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	modules/reverseproxy.go:117	
performed pre checks for: csireverseproxy	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-2", "desired": 0}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-2", "numberReady": 0}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-2", "available": 0}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-2", "numberUnavailable": 0}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:151	daemonset pod csm-controller : Running	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:151	daemonset pod csm-pod : 	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:181	daemonset pod: csm-pod is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-2", "message": "", "Reason": "test"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: error message for default-source-cluster 
test=	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-2", "newStatus.State": "Succeeded"}
2025-02-11T20:41:56.765Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	controllers/csm_controller.go:740	Trying Create/Update reverseproxy...	{"TraceId": "csm-2"}
2025-02-11T20:41:56.765Z	INFO	controllers/csm_controller.go:1171	Reconcile reverseproxy proxy	{"TraceId": "csm-2"}
2025-02-11T20:41:56.767Z	INFO	modules/reverseproxy.go:134	Object: &ServiceAccount{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,} -----
	{"TraceId": "csm-2"}
2025-02-11T20:41:56.767Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csipowermax-reverseproxy", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.767Z	INFO	modules/reverseproxy.go:134	Object: &Role{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list watch get],APIGroups:[],Resources:[secrets],ResourceNames:[],NonResourceURLs:[],},},} -----
	{"TraceId": "csm-2"}
2025-02-11T20:41:56.767Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csipowermax-reverseproxy", "Kind:": "Role"}
2025-02-11T20:41:56.767Z	INFO	modules/reverseproxy.go:134	Object: &RoleBinding{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:csipowermax-reverseproxy,Namespace:test,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:Role,Name:csipowermax-reverseproxy,},} -----
	{"TraceId": "csm-2"}
2025-02-11T20:41:56.767Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csipowermax-reverseproxy", "Kind:": "RoleBinding"}
2025-02-11T20:41:56.767Z	INFO	modules/reverseproxy.go:134	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{name: csipowermax-reverseproxy,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----
	{"TraceId": "csm-2"}
2025-02-11T20:41:56.767Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-02-11T20:41:56.768Z	INFO	modules/reverseproxy.go:134	Object: &Deployment{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{name: csipowermax-reverseproxy,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[csmNamespace:test name:csipowermax-reverseproxy] map[] [] [] []} {[{configmap-volume {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:powermax-reverseproxy-config,},Items:[]KeyToPath{},DefaultMode:nil,Optional:*true,} nil nil nil nil nil nil nil nil nil nil nil}} {tls-secret {nil nil nil nil nil &SecretVolumeSource{SecretName:csirevproxy-tls-secret,Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {cert-dir {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}}] [] [{csipowermax-reverseproxy  [] []  [] [] [{X_CSI_REVPROXY_CONFIG_DIR /etc/config/configmap nil} {X_CSI_REVPROXY_CONFIG_FILE_NAME config.yaml nil} {X_CSI_REVRPOXY_IN_CLUSTER true nil} {X_CSI_REVPROXY_TLS_CERT_DIR /app/tls nil} {X_CSI_REVPROXY_WATCH_NAMESPACE test nil}] {map[] map[] []} [] <nil> [{configmap-volume false <nil> /etc/config/configmap  <nil> } {tls-secret false <nil> /app/tls  <nil> } {cert-dir false <nil> /app/certs  <nil> }] [] nil nil nil nil   Always nil false false false}] []  <nil> <nil>  map[] csipowermax-reverseproxy  <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},} -----
	{"TraceId": "csm-2"}
2025-02-11T20:41:56.768Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csipowermax-reverseproxy", "Kind:": "Deployment"}
2025-02-11T20:41:56.768Z	INFO	modules/reverseproxy.go:145	Create/Update reverseproxy successful...	{"TraceId": "csm-2"}
2025-02-11T20:41:56.768Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies	{"TraceId": "csm-2"}
2025-02-11T20:41:56.781Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-2"}
2025-02-11T20:41:56.781Z	INFO	controllers/csm_controller.go:769	DeployAsSidar is false...csi-reverseproxy should be present as deployement
	{"TraceId": "csm-2"}
2025-02-11T20:41:56.781Z	INFO	controllers/csm_controller.go:770	adding proxy service name...
	{"TraceId": "csm-2"}
2025-02-11T20:41:56.781Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.781Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-2", "Name:": "csm-node"}
2025-02-11T20:41:56.781Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-2", "Name:": "csm-controller"}
2025-02-11T20:41:56.781Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:56.781Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:56.781Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:56.781Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:56.781Z	INFO	csidriver/csidriver.go:42	Updating existing CSIDriver Object	{"TraceId": "csm-2", "Name:": "csi-powermax.dellemc.com"}
2025-02-11T20:41:56.781Z	INFO	configmap/configmap.go:43	Updating ConfigMap	{"TraceId": "csm-2", "Name:": "csm-config-params"}
2025-02-11T20:41:56.782Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-2", "name": "csm-controller"}
2025-02-11T20:41:56.782Z	INFO	deployment/deployment.go:47	found deployment	{"TraceId": "csm-2", "image": ""}
2025-02-11T20:41:56.783Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-2", "name": "csm-controller"}
2025-02-11T20:41:56.783Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-2", "name": "csm-node"}
2025-02-11T20:41:56.783Z	INFO	daemonset/daemonset.go:41	Found DaemonSet	{"TraceId": "csm-2", "image": "quay.io/dell/container-storage-modules/csi-powermax:v2.12.0"}
2025-02-11T20:41:56.783Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-2", "status": "Succeeded"}
2025-02-11T20:41:56.783Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-2"}
2025-02-11T20:41:56.783Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.783Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-2", "desired": 0}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-2", "numberReady": 0}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-2", "available": 0}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-2", "numberUnavailable": 0}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:151	daemonset pod csm-controller : Running	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:151	daemonset pod csm-pod : 	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:181	daemonset pod: csm-pod is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-2", "message": "", "Reason": "test"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-2", "desired": "0"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-2", "Available": "0"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-2", "numberUnavailable": "0"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-2", "State": "Succeeded"}
2025-02-11T20:41:56.784Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-2"}
################End Reconcile##############
2025-02-11T20:41:56.784Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:56.784Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:56.784Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:56.784Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:56.785Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:56.785Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-1"}
2025-02-11T20:41:56.785Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:56.785Z	INFO	modules/reverseproxy.go:117	
performed pre checks for: csireverseproxy	{"TraceId": "csm-1"}
2025-02-11T20:41:56.785Z	INFO	controllers/csm_controller.go:295	Delete request	{"TraceId": "csm-1", "csm": "test", "Name": "csm"}
2025-02-11T20:41:56.785Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:56.799Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"TraceId": "csm-1", "ignored": "default-source-cluster"}
2025-02-11T20:41:56.799Z	INFO	controllers/csm_controller.go:1182	removing driver from	{"TraceId": "csm-1"}
2025-02-11T20:41:56.799Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.799Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.799Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.799Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.799Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.800Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.800Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.800Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csi-powermax.dellemc.com", "Kind:": "CSIDriver"}
2025-02-11T20:41:56.800Z	INFO	controllers/csm_controller.go:1328	Deleting ReverseProxy	{"TraceId": "csm-1"}
2025-02-11T20:41:56.800Z	INFO	controllers/csm_controller.go:1171	Reconcile reverseproxy proxy	{"TraceId": "csm-1"}
2025-02-11T20:41:56.806Z	INFO	modules/reverseproxy.go:134	Object: &ServiceAccount{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,} -----
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.806Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csipowermax-reverseproxy", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.806Z	INFO	modules/reverseproxy.go:134	Object: &Role{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list watch get],APIGroups:[],Resources:[secrets],ResourceNames:[],NonResourceURLs:[],},},} -----
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.806Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csipowermax-reverseproxy", "Kind:": "Role"}
2025-02-11T20:41:56.806Z	INFO	modules/reverseproxy.go:134	Object: &RoleBinding{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:csipowermax-reverseproxy,Namespace:test,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:Role,Name:csipowermax-reverseproxy,},} -----
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.806Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csipowermax-reverseproxy", "Kind:": "RoleBinding"}
2025-02-11T20:41:56.806Z	INFO	modules/reverseproxy.go:134	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{name: csipowermax-reverseproxy,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.806Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-02-11T20:41:56.806Z	INFO	modules/reverseproxy.go:134	Object: &Deployment{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{name: csipowermax-reverseproxy,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[csmNamespace:test name:csipowermax-reverseproxy] map[] [] [] []} {[{configmap-volume {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:powermax-reverseproxy-config,},Items:[]KeyToPath{},DefaultMode:nil,Optional:*true,} nil nil nil nil nil nil nil nil nil nil nil}} {tls-secret {nil nil nil nil nil &SecretVolumeSource{SecretName:csirevproxy-tls-secret,Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {cert-dir {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}}] [] [{csipowermax-reverseproxy  [] []  [] [] [{X_CSI_REVPROXY_CONFIG_DIR /etc/config/configmap nil} {X_CSI_REVPROXY_CONFIG_FILE_NAME config.yaml nil} {X_CSI_REVRPOXY_IN_CLUSTER true nil} {X_CSI_REVPROXY_TLS_CERT_DIR /app/tls nil} {X_CSI_REVPROXY_WATCH_NAMESPACE test nil}] {map[] map[] []} [] <nil> [{configmap-volume false <nil> /etc/config/configmap  <nil> } {tls-secret false <nil> /app/tls  <nil> } {cert-dir false <nil> /app/certs  <nil> }] [] nil nil nil nil   Always nil false false false}] []  <nil> <nil>  map[] csipowermax-reverseproxy  <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,},} -----
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.806Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csipowermax-reverseproxy", "Kind:": "Deployment"}
2025-02-11T20:41:56.806Z	INFO	modules/reverseproxy.go:145	Create/Update reverseproxy successful...	{"TraceId": "csm-1"}
2025-02-11T20:41:56Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
=== RUN   TestCustom/TestReverseProxySidecarReconcile
2025-02-11T20:41:56Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:56.807Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:56.807Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:56.807Z	INFO	controllers/csm_controller.go:1492	proceeding with fresh driver install	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	controllers/csm_controller.go:1394	Driver not installed yet	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	modules/reverseproxy.go:117	
performed pre checks for: csireverseproxy	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	controllers/csm_controller.go:1518	Installing csm component csm with config Version v2.12.0. Updating Annotations with Config Version	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:215	error from getDeploymentStatus: Deployment.apps "csm-controller" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:226	calculate Daemonseterror msg [DaemonSet.apps "csm-node" not found]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:230	daemonset nodeStatus.Available []	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:258	deployment or daemonset did not have enough available pods	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:259	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:260	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:261	daemonset healthy: [false]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Failed}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:366	calculateState returns running: false	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: DaemonSet.apps "csm-node" not found	{"TraceId": "csm-1"}
2025-02-11T20:41:56.807Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-1", "newStatus.State": "Failed"}
################End Reconcile##############
2025-02-11T20:41:56.807Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:56.824Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-1"}
2025-02-11T20:41:56.824Z	INFO	controllers/csm_controller.go:773	Starting CSI ReverseProxy Service	{"TraceId": "csm-1"}
2025-02-11T20:41:56.825Z	INFO	modules/reverseproxy.go:163	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app: csm-controller,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.825Z	INFO	utils/utils.go:759	Creating a new Object	{"TraceId": "csm-1", "Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-02-11T20:41:56.825Z	INFO	modules/reverseproxy.go:174	Create/Update reverseproxy serivce successful...	{"TraceId": "csm-1"}
2025-02-11T20:41:56.825Z	INFO	controllers/csm_controller.go:777	Injecting CSI ReverseProxy	{"TraceId": "csm-1"}
2025-02-11T20:41:56.825Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.825Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-node"}
2025-02-11T20:41:56.825Z	INFO	serviceaccount/serviceaccount.go:33	Creating a new ServiceAccount	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm-controller"}
2025-02-11T20:41:56.825Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.825Z	INFO	rbac/clusterrole.go:31	Creating a new ClusterRoleNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.825Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.825Z	INFO	rbac/rolebindings.go:31	Creating a new ClusterRoleBindingNamespaceNamecsm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.825Z	INFO	csidriver/csidriver.go:33	Creating a new CSIDriver	{"TraceId": "csm-1", "Name:": "csi-powermax.dellemc.com"}
2025-02-11T20:41:56.825Z	INFO	configmap/configmap.go:34	Creating a new ConfigMap	{"TraceId": "csm-1", "Name": "csm-config-params"}
2025-02-11T20:41:56.825Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:56.825Z	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"TraceId": "csm-1", "Error": "Deployment.apps \"csm-controller\" not found"}
2025-02-11T20:41:56.825Z	INFO	deployment/deployment.go:45	No existing Deployment	{"TraceId": "csm-1", "Name:": "csm-controller"}
2025-02-11T20:41:56.826Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:56.826Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-1", "name": "csm-node"}
2025-02-11T20:41:56.826Z	INFO	daemonset/daemonset.go:36	No existing DaemonSet	{"TraceId": "csm-1", "Name:": "csm-node"}
2025-02-11T20:41:56.826Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Failed"}
2025-02-11T20:41:56.826Z	INFO	utils/status.go:290	update new Status: (State - Failed)	{"TraceId": "csm-1"}
2025-02-11T20:41:56.826Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.826Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.826Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.826Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.826Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.826Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.826Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.826Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:56.827Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
################End Reconcile##############
2025-02-11T20:41:56Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
2025-02-11T20:41:56.827Z	INFO	controllers/csm_controller.go:511	daemonset 	{"TraceId": "csm-1", "name": "csm-node", "namespace": "test"}
2025-02-11T20:41:56.828Z	INFO	controllers/csm_controller.go:512	daemonset 	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.828Z	INFO	controllers/csm_controller.go:513	daemonset 	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.828Z	INFO	controllers/csm_controller.go:514	daemonset 	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.828Z	INFO	controllers/csm_controller.go:515	daemonset 	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.828Z	INFO	controllers/csm_controller.go:532	csm prev status 	{"TraceId": "csm-1", "state": {"controllerStatus":{"available":"0","desired":"0","failed":"0"},"nodeStatus":{"available":"0","desired":"0","failed":"0"},"state":"Succeeded"}}
2025-02-11T20:41:56.828Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:56.828Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:56.828Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.828Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.828Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.828Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.828Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.828Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.828Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.828Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.828Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.828Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:189	daemonset status failedCount pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 0} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:56.829Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:56.830Z	INFO	controllers/csm_controller.go:413	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "desired": 0}
2025-02-11T20:41:56.830Z	INFO	controllers/csm_controller.go:414	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "numberReady": 0}
2025-02-11T20:41:56.830Z	INFO	controllers/csm_controller.go:415	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "available": 0}
2025-02-11T20:41:56.830Z	INFO	controllers/csm_controller.go:416	deployment	{"TraceId": "csm-1", "deployment name": "csm-controller", "numberUnavailable": 0}
2025-02-11T20:41:56.830Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:56.830Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:56.830Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"0"}}
2025-02-11T20:41:56.830Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.830Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.830Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.830Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.830Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.830Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.830Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.830Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.830Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	controllers/csm_controller.go:467	pod modified for driver	{"TraceId": "csm-1", "name": "csm-controller"}
2025-02-11T20:41:56.831Z	INFO	controllers/csm_controller.go:478	csm prev status 	{"TraceId": "csm-1", "state": {"controllerStatus":{"available":"0","desired":"0","failed":"0"},"nodeStatus":{"available":"0","desired":"0","failed":"1"},"state":"Succeeded"}}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-1", "status": "Succeeded"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-1"}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.831Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-1", "desired": 0}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-1", "numberReady": 0}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-1", "available": 0}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-1", "numberUnavailable": 0}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:151	daemonset pod csm-controller : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-1", "message": "", "Reason": "test"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:189	daemonset status failedCount pods 2	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 2} Succeeded}]	{"TraceId": "csm-1"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"2"}}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-1", "desired": "0"}
2025-02-11T20:41:56.832Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-1", "Available": "0"}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-1", "numberUnavailable": "0"}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-1", "State": "Succeeded"}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-1"}
2025-02-11T20:41:56.833Z	INFO	controllers/csm_controller.go:485	pod status 	{"TraceId": "csm-1", "state": "error message for default-source-cluster \ntest="}
2025-02-11T20:41:56.833Z	INFO	controllers/csm_controller.go:467	pod modified for driver	{"TraceId": "test-1", "name": "csm-controller"}
2025-02-11T20:41:56.833Z	ERROR	controllers/csm_controller.go:476	daemonset get csm	{"TraceId": "0", "error": "ContainerStorageModule.storage.dell.com \"test\" not found"}
2025-02-11T20:41:56.833Z	INFO	controllers/csm_controller.go:478	csm prev status 	{"TraceId": "test-1", "state": {"controllerStatus":{},"nodeStatus":{}}}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "test-1", "status": ""}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:290	update new Status: (State - )	{"TraceId": "test-1"}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:291	Update State	{"TraceId": "test-1", "Controller": {}, "Node": {}}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "test-1"}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:73	Not a driver instance, will not check deploymentstatus	{"TraceId": "test-1"}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:220	instance.GetName() is 	{"TraceId": "test-1"}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "test-1"}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "test-1"}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {  } Succeeded}]	{"TraceId": "test-1"}
2025-02-11T20:41:56.833Z	INFO	utils/status.go:275	Driver State	{"TraceId": "test-1", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {}}
2025-02-11T20:41:56.833Z	ERROR	utils/status.go:320	ContainerStorageModule.storage.dell.com "" not found Failed to update CR status	{"TraceId": "test-1"}
2025-02-11T20:41:56.833Z	INFO	controllers/csm_controller.go:485	pod status 	{"TraceId": "test-1", "state": "ContainerStorageModule.storage.dell.com \"\" not found"}
2025-02-11T20:41:56.833Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:56.833Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-2"}
2025-02-11T20:41:56.833Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-2", "Namespace": "test", "Name": "csm", "Attempt": 2}
2025-02-11T20:41:56.833Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-2"}
2025-02-11T20:41:56.833Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-2"}
2025-02-11T20:41:56.833Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	modules/reverseproxy.go:117	
performed pre checks for: csireverseproxy	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-2", "desired": 0}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-2", "numberReady": 0}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-2", "available": 0}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-2", "numberUnavailable": 0}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:151	daemonset pod csm-controller : Running	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-2", "message": "", "Reason": "test"}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.834Z	INFO	utils/status.go:151	daemonset pod csm-pod : 	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:181	daemonset pod: csm-pod is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:366	calculateState returns running: true	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	ERROR	utils/status.go:368	HandleSuccess Driver status error: error message for default-source-cluster 
test=	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:381	HandleSuccess Driver state 	{"TraceId": "csm-2", "newStatus.State": "Succeeded"}
2025-02-11T20:41:56.835Z	INFO	utils/status.go:385	HandleSuccess Driver state didn't change from Succeeded	{"TraceId": "csm-2"}
2025-02-11T20:41:56.835Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies	{"TraceId": "csm-2"}
2025-02-11T20:41:56.847Z	INFO	controllers/csm_controller.go:610	Checking if standalone modules need clean up	{"TraceId": "csm-2"}
2025-02-11T20:41:56.847Z	INFO	controllers/csm_controller.go:773	Starting CSI ReverseProxy Service	{"TraceId": "csm-2"}
2025-02-11T20:41:56.848Z	INFO	modules/reverseproxy.go:163	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app: csm-controller,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----
	{"TraceId": "csm-2"}
2025-02-11T20:41:56.848Z	INFO	utils/utils.go:769	Updating a new Object	{"TraceId": "csm-2", "Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-02-11T20:41:56.848Z	INFO	modules/reverseproxy.go:174	Create/Update reverseproxy serivce successful...	{"TraceId": "csm-2"}
2025-02-11T20:41:56.848Z	INFO	controllers/csm_controller.go:777	Injecting CSI ReverseProxy	{"TraceId": "csm-2"}
2025-02-11T20:41:56.849Z	INFO	controllers/csm_controller.go:859	Starting SYNC for default-source-cluster cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.849Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-2", "Name:": "csm-node"}
2025-02-11T20:41:56.849Z	INFO	serviceaccount/serviceaccount.go:47	ServiceAccount already exists	{"TraceId": "csm-2", "Name:": "csm-controller"}
2025-02-11T20:41:56.849Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:56.849Z	INFO	rbac/clusterrole.go:45	Updating ClusterRoleName:csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:56.849Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:56.849Z	INFO	rbac/rolebindings.go:40	Updating ClusterRoleBindingName:csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:56.849Z	INFO	csidriver/csidriver.go:42	Updating existing CSIDriver Object	{"TraceId": "csm-2", "Name:": "csi-powermax.dellemc.com"}
2025-02-11T20:41:56.849Z	INFO	configmap/configmap.go:43	Updating ConfigMap	{"TraceId": "csm-2", "Name:": "csm-config-params"}
2025-02-11T20:41:56.849Z	INFO	deployment/deployment.go:35	Sync Deployment:	{"TraceId": "csm-2", "name": "csm-controller"}
2025-02-11T20:41:56.850Z	INFO	deployment/deployment.go:47	found deployment	{"TraceId": "csm-2", "image": ""}
2025-02-11T20:41:56.850Z	INFO	deployment/deployment.go:56	deployment apply done	{"TraceId": "csm-2", "name": "csm-controller"}
2025-02-11T20:41:56.850Z	INFO	daemonset/daemonset.go:29	Sync DaemonSet:	{"TraceId": "csm-2", "name": "csm-node"}
2025-02-11T20:41:56.850Z	INFO	daemonset/daemonset.go:41	Found DaemonSet	{"TraceId": "csm-2", "image": "quay.io/dell/container-storage-modules/csi-powermax:v2.12.0"}
2025-02-11T20:41:56.851Z	INFO	utils/status.go:287	update current csm status	{"TraceId": "csm-2", "status": "Succeeded"}
2025-02-11T20:41:56.851Z	INFO	utils/status.go:290	update new Status: (State - Succeeded)	{"TraceId": "csm-2"}
2025-02-11T20:41:56.851Z	INFO	utils/status.go:291	Update State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.851Z	INFO	utils/status.go:69	getting deployment status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.851Z	INFO	utils/status.go:84	Calculating status for deployment: csm-controller	{"TraceId": "csm-2"}
2025-02-11T20:41:56.851Z	INFO	utils/status.go:90	deployment	{"TraceId": "csm-2", "desired": 0}
2025-02-11T20:41:56.851Z	INFO	utils/status.go:91	deployment	{"TraceId": "csm-2", "numberReady": 0}
2025-02-11T20:41:56.851Z	INFO	utils/status.go:92	deployment	{"TraceId": "csm-2", "available": 0}
2025-02-11T20:41:56.851Z	INFO	utils/status.go:93	deployment	{"TraceId": "csm-2", "numberUnavailable": 0}
2025-02-11T20:41:56.851Z	INFO	utils/status.go:220	instance.GetName() is csm	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:120	
getting daemonset status for cluster: default-source-cluster	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:127	nodeName: csm-node, namespace: test 	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:143	Label is csm-node	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:151	daemonset pod csm-controller : Running	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:181	daemonset pod: csm-controller is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:151	daemonset pod csm-node : Pending	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:158	daemonset pod container	{"TraceId": "csm-2", "message": "", "Reason": "test"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:181	daemonset pod: csm-node is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:151	daemonset pod csm-pod : 	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:181	daemonset pod: csm-pod is running, but is not ready	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:188	daemonset status available pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:189	daemonset status failedCount pods 1	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:190	daemonset status desired pods 0	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:226	calculate Daemonseterror msg [error message for default-source-cluster 
test=]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:229	daemonset expected [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:230	daemonset nodeStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:236	deployment controllerStatus.Desired [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:237	deployment controllerStatus.Available [0]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:266	setting new status to [&{{0 0 0} {0 0 1} Succeeded}]	{"TraceId": "csm-2"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:275	Driver State	{"TraceId": "csm-2", "Controller": {"available":"0","desired":"0","failed":"0"}, "Node": {"available":"0","desired":"0","failed":"1"}}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:308	instance - new controller Status	{"TraceId": "csm-2", "desired": "0"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:309	instance - new controller Status	{"TraceId": "csm-2", "Available": "0"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:310	instance - new controller Status	{"TraceId": "csm-2", "numberUnavailable": "0"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:311	instance - new controller Status	{"TraceId": "csm-2", "State": "Succeeded"}
2025-02-11T20:41:56.852Z	INFO	utils/status.go:324	Update done	{"TraceId": "csm-2"}
################End Reconcile##############
2025-02-11T20:41:56.853Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:56.853Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:56.853Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:56.853Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:56.853Z	INFO	utils/utils.go:1156	proceeding with modification of driver/module install	{"TraceId": "csm-1"}
2025-02-11T20:41:56.853Z	INFO	controllers/csm_controller.go:1401	Owner reference is found and matches	{"TraceId": "csm-1"}
2025-02-11T20:41:56.853Z	INFO	controllers/csm_controller.go:1413	Starting prechecks for modules	{"TraceId": "csm-1"}
2025-02-11T20:41:56.853Z	INFO	modules/reverseproxy.go:117	
performed pre checks for: csireverseproxy	{"TraceId": "csm-1"}
2025-02-11T20:41:56.853Z	INFO	controllers/csm_controller.go:295	Delete request	{"TraceId": "csm-1", "csm": "test", "Name": "csm"}
2025-02-11T20:41:56.853Z	INFO	controllers/csm_controller.go:1133	Getting powermax CSI Driver for Dell Technologies	{"TraceId": "csm-1"}
2025-02-11T20:41:56.868Z	ERROR	zap@v1.27.0/sugar.go:257	Ignored key without a value.	{"TraceId": "csm-1", "ignored": "default-source-cluster"}
2025-02-11T20:41:56.868Z	INFO	controllers/csm_controller.go:1182	removing driver from	{"TraceId": "csm-1"}
2025-02-11T20:41:56.868Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.868Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ServiceAccount"}
2025-02-11T20:41:56.868Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.869Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ClusterRole"}
2025-02-11T20:41:56.869Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-node", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.869Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-controller", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:56.869Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csm-config-params", "Kind:": "ConfigMap"}
2025-02-11T20:41:56.869Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csi-powermax.dellemc.com", "Kind:": "CSIDriver"}
2025-02-11T20:41:56.870Z	INFO	controllers/csm_controller.go:1300	Removing CSI ReverseProxy Service	{"TraceId": "csm-1"}
2025-02-11T20:41:56.871Z	INFO	modules/reverseproxy.go:163	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  test    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app: csm-controller,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----
	{"TraceId": "csm-1"}
2025-02-11T20:41:56.871Z	INFO	utils/utils.go:740	Deleting object	{"TraceId": "csm-1", "Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-02-11T20:41:56.871Z	INFO	modules/reverseproxy.go:174	Create/Update reverseproxy serivce successful...	{"TraceId": "csm-1"}
2025-02-11T20:41:56Z	INFO	controllers.unit-test	reconcile response	{"res is: ": {"Requeue":false,"RequeueAfter":0}}
=== RUN   TestCustom/TestSyncCSM
2025-02-11T20:41:56Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:56.871Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
=== RUN   TestCustom/TestSyncCSM/auth_proxy_server_bad_op_conf
2025-02-11T20:41:56.872Z	INFO	controllers/csm_controller.go:718	Create/Update authorization
2025-02-11T20:41:56.872Z	INFO	controllers/csm_controller.go:1063	Reconcile Authorization CRDS
=== RUN   TestCustom/TestSyncCSM/app_mobility_happy_path
2025-02-11T20:41:56.872Z	INFO	controllers/csm_controller.go:729	Create/Update application mobility
2025-02-11T20:41:56.872Z	INFO	controllers/csm_controller.go:1045	Reconcile Application Mobility CRDS
2025-02-11T20:41:56.885Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "backups.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.886Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "clusterconfigs.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.886Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "podvolumebackups.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.886Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "podvolumerestores.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.886Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "restores.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.886Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "schedules.mobility.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.938Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "backuprepositories.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.938Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "backups.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.938Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "backupstoragelocations.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.938Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "datadownloads.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.938Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "datauploads.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.938Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "deletebackuprequests.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.938Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "downloadrequests.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.938Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "podvolumebackups.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.938Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "podvolumerestores.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.939Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "restores.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.939Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "schedules.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.939Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "serverstatusrequests.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.939Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "volumesnapshotlocations.velero.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:56.939Z	INFO	controllers/csm_controller.go:1078	Reconcile Application Mobility Controller Manager
2025-02-11T20:41:56.940Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-webhook-service", "Kind:": "Service"}
2025-02-11T20:41:56.941Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-mutating-webhook-configuration", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:56.941Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-validating-webhook-configuration", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:56.941Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "application-mobility-controller-manager-metrics-service", "Kind:": "Service"}
2025-02-11T20:41:56.941Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-metrics-reader", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.069Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "clusterissuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:57.069Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "challenges.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:57.069Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "certificaterequests.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:57.072Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "issuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:57.072Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "certificates.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:57.072Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "orders.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-02-11T20:41:57.072Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager", "Kind:": "Namespace"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.073Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager", "Kind:": "Service"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager", "Kind:": "Deployment"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-02-11T20:41:57.074Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
2025-02-11T20:41:57.075Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-selfsigned-issuer", "Kind:": "Issuer"}
2025-02-11T20:41:57.075Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-serving-cert", "Kind:": "Certificate"}
2025-02-11T20:41:57.084Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "application-mobility-controller-manager", "Kind:": "Deployment"}
2025-02-11T20:41:57.084Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-controller-manager", "Kind:": "ServiceAccount"}
2025-02-11T20:41:57.084Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-manager-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.084Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-leader-election-role", "Kind:": "Role"}
2025-02-11T20:41:57.084Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-manager-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.084Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-manager-role", "Kind:": "Role"}
2025-02-11T20:41:57.084Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-leader-election-rolebinding", "Kind:": "RoleBinding"}
2025-02-11T20:41:57.084Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-proxy-role", "Kind:": "ClusterRole"}
2025-02-11T20:41:57.084Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-proxy-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.084Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-manager-config", "Kind:": "ConfigMap"}
2025-02-11T20:41:57.084Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "test-manager-rolebinding", "Kind:": "RoleBinding"}
2025-02-11T20:41:57.084Z	INFO	controllers/csm_controller.go:1100	Reconcile application mobility velero
2025-02-11T20:41:57.088Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "application-mobility-velero-server", "Kind:": "ClusterRoleBinding"}
2025-02-11T20:41:57.088Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "application-mobility-velero-server", "Kind:": "Role"}
2025-02-11T20:41:57.088Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "application-mobility-velero-server", "Kind:": "RoleBinding"}
2025-02-11T20:41:57.088Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "application-mobility-velero-server-service-account", "Kind:": "ServiceAccount"}
2025-02-11T20:41:57.088Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "application-mobility-velero-server", "Kind:": "Service"}
2025-02-11T20:41:57.088Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "application-mobility-velero", "Kind:": "Deployment"}
2025-02-11T20:41:57.089Z	INFO	utils/utils.go:759	Creating a new Object	{"Name:": "default", "Kind:": "BackupStorageLocation"}
2025-02-11T20:41:57.089Z	INFO	controllers/csm_controller.go:1128	No driver specified in manifest
=== RUN   TestCustom/TestSyncCSM/app_mobility_bad_op_conf
2025-02-11T20:41:57.089Z	INFO	controllers/csm_controller.go:729	Create/Update application mobility
2025-02-11T20:41:57.089Z	INFO	controllers/csm_controller.go:1045	Reconcile Application Mobility CRDS
=== RUN   TestCustom/TestSyncCSM/reverse_proxy_server_bad_op_conf
2025-02-11T20:41:57.089Z	INFO	controllers/csm_controller.go:740	Trying Create/Update reverseproxy...
2025-02-11T20:41:57.089Z	INFO	controllers/csm_controller.go:1171	Reconcile reverseproxy proxy
=== RUN   TestCustom/TestSyncCSM/getDriverConfig_bad_op_config
2025-02-11T20:41:57.089Z	INFO	controllers/csm_controller.go:1128	No driver specified in manifest
=== RUN   TestCustom/TestSyncCSM/getDriverConfig_error
2025-02-11T20:41:57.090Z	INFO	controllers/csm_controller.go:1133	Getting wrongdriver CSI Driver for Dell Technologies
2025-02-11T20:41:57.090Z	ERROR	drivers/commonconfig.go:420	GetConfigMap failed	{"Error": "open ../in-valid-path/driverconfig/wrongdriver/v2.11.0/driver-config-params.yaml: no such file or directory"}
=== RUN   TestCustom/TestUnityAnnotation
2025-02-11T20:41:57Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:57.090Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:57.090Z	INFO	utils/utils.go:1143	Running in unit tests mode	{"TraceId": "csm-1"}
2025-02-11T20:41:57.090Z	INFO	controllers/csm_controller.go:250	################Starting Reconcile##############	{"TraceId": "csm-1"}
2025-02-11T20:41:57.090Z	INFO	controllers/csm_controller.go:253	reconcile for	{"TraceId": "csm-1", "Namespace": "test", "Name": "csm", "Attempt": 1}
2025-02-11T20:41:57.090Z	ERROR	drivers/unity.go:107	Secret "csm-creds" not found Failed query for secret csm-credsNamespacetest	{"TraceId": "csm-1"}
[ShouldFail] force Update csm error for obj of type &{TypeMeta:{Kind: APIVersion:} ObjectMeta:{Name:csm GenerateName: Namespace:test SelfLink: UID: ResourceVersion: Generation:0 CreationTimestamp:0001-01-01 00:00:00 +0000 UTC DeletionTimestamp:<nil> DeletionGracePeriodSeconds:<nil> Labels:map[] Annotations:map[] OwnerReferences:[] Finalizers:[finalizer.dell.emc.com] ManagedFields:[]} Spec:{Driver:{CSIDriverType:unity CSIDriverSpec:<nil> ConfigVersion:v2.11.0 Replicas:0 DNSPolicy: Common:0xc0002718c8 Controller:<nil> Node:<nil> SideCars:[] InitContainers:[] SnapshotClass:[] AuthSecret: TLSCertSecret: ForceRemoveDriver:0xc000c8cf05} Modules:[]} Status:{ControllerStatus:{Available: Desired: Failed:} NodeStatus:{Available: Desired: Failed:} State:Failed}}
2025-02-11T20:41:57.090Z	ERROR	utils/status.go:346	unable to get CSMFailed to update CR status HandleValidationError	{"TraceId": "csm-1"}
2025-02-11T20:41:57.090Z	ERROR	utils/status.go:348	failed unity validation: failed to find secret csm-creds *************Create/Update unity failed ********	{"TraceId": "csm-1"}
################End Reconcile##############
=== RUN   TestCustom/TestZoneValidation
2025-02-11T20:41:57Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:57.091Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:57.091Z	INFO	drivers/powerflex.go:407	Zone is not specified for SystemID: 2b11bb111111bb1b
2025-02-11T20:41:57.091Z	INFO	drivers/powerflex.go:431	found 1 arrays zoning on 0
2025-02-11T20:41:57.091Z	INFO	drivers/powerflex.go:435	Zoning information not found in the array secret. Continue with topology-unaware driver installation mode
=== RUN   TestCustom/TestZoneValidation2
2025-02-11T20:41:57Z	INFO	controllers.unit-test	Init unit test...
2025-02-11T20:41:57.091Z	INFO	controllers/csm_controller_test.go:1236	Version : DEVELOPMENT	{"TraceId": "0"}
2025-02-11T20:41:57.092Z	INFO	drivers/powerflex.go:407	Zone is not specified for SystemID: 2b11bb111111bb1b
2025-02-11T20:41:57.092Z	INFO	drivers/powerflex.go:409	Zone is specified for SystemID: 2b11bb111111bb1b
2025-02-11T20:41:57.092Z	INFO	drivers/powerflex.go:431	found 2 arrays zoning on 1
--- PASS: TestCustom (54.98s)
    --- PASS: TestCustom/TestAppMobPreCheckError (0.00s)
    --- PASS: TestCustom/TestAppMobReconcile (0.68s)
    --- PASS: TestCustom/TestAuthorizationServerPreCheck (20.70s)
    --- PASS: TestCustom/TestAuthorizationServerReconcile (20.74s)
    --- PASS: TestCustom/TestAuthorizationServerReconcileOCP (0.55s)
    --- PASS: TestCustom/TestContentWatch (0.00s)
    --- PASS: TestCustom/TestCsmDowngrade (0.02s)
    --- PASS: TestCustom/TestCsmDowngradePathInvalid (0.00s)
    --- PASS: TestCustom/TestCsmDowngradeSkipVersion (0.02s)
    --- PASS: TestCustom/TestCsmDowngradeVersionTooOld (0.00s)
    --- PASS: TestCustom/TestCsmFinalizerError (0.00s)
    --- PASS: TestCustom/TestCsmPreCheckModuleError (0.00s)
    --- PASS: TestCustom/TestCsmPreCheckModuleUnsupportedVersion (0.00s)
    --- PASS: TestCustom/TestCsmPreCheckTypeError (0.00s)
    --- PASS: TestCustom/TestCsmPreCheckVersionError (0.00s)
    --- PASS: TestCustom/TestCsmUpgrade (0.02s)
    --- PASS: TestCustom/TestCsmUpgradePathInvalid (0.00s)
    --- PASS: TestCustom/TestCsmUpgradeSkipVersion (0.02s)
    --- PASS: TestCustom/TestCsmUpgradeVersionTooOld (0.00s)
    --- PASS: TestCustom/TestDeleteErrorReconcile (0.13s)
    --- PASS: TestCustom/TestErrorInjection (0.32s)
    --- PASS: TestCustom/TestIgnoreUpdatePredicate (0.00s)
    --- PASS: TestCustom/TestOldStandAloneModuleCleanup (0.22s)
        --- PASS: TestCustom/TestOldStandAloneModuleCleanup/Fail_-_unmarshalling_annotations (0.01s)
        --- PASS: TestCustom/TestOldStandAloneModuleCleanup/Success_-_Enable_all_modules (0.01s)
        --- PASS: TestCustom/TestOldStandAloneModuleCleanup/Success_-_Disable_all_modules (0.18s)
        --- PASS: TestCustom/TestOldStandAloneModuleCleanup/Success_-_Disable_Components (0.01s)
    --- PASS: TestCustom/TestPowerFlexAnnotation (0.00s)
    --- PASS: TestCustom/TestPowerScaleAnnotation (0.00s)
    --- PASS: TestCustom/TestPowerStoreAnnotation (0.00s)
    --- PASS: TestCustom/TestPowermaxAnnotation (0.00s)
    --- PASS: TestCustom/TestPowermaxReconcileError (0.00s)
    --- PASS: TestCustom/TestReconcile (0.13s)
    --- PASS: TestCustom/TestReconcileAppMob (0.00s)
    --- PASS: TestCustom/TestReconcileAuthorization (0.00s)
    --- PASS: TestCustom/TestReconcileAuthorizationBadCert (10.17s)
    --- PASS: TestCustom/TestReconcileError (0.00s)
    --- PASS: TestCustom/TestReconcileObservabilityError (0.00s)
    --- PASS: TestCustom/TestReconcileObservabilityErrorBadCert (0.01s)
    --- PASS: TestCustom/TestReconcileObservabilityErrorBadComponent (0.00s)
    --- PASS: TestCustom/TestReconcileReverseProxyError (0.00s)
    --- PASS: TestCustom/TestReconcileReverseProxyServiceError (0.00s)
    --- PASS: TestCustom/TestRemoveDriver (0.47s)
        --- PASS: TestCustom/TestRemoveDriver/getDriverConfig_error (0.00s)
        --- PASS: TestCustom/TestRemoveDriver/getDriverConfig_no_driver (0.00s)
        --- PASS: TestCustom/TestRemoveDriver/delete_obj_not_found (0.02s)
        --- PASS: TestCustom/TestRemoveDriver/get_SA_error (0.05s)
        --- PASS: TestCustom/TestRemoveDriver/get_CR_error (0.05s)
        --- PASS: TestCustom/TestRemoveDriver/get_CRB_error (0.05s)
        --- PASS: TestCustom/TestRemoveDriver/get_CM_error (0.05s)
        --- PASS: TestCustom/TestRemoveDriver/get_Driver_error (0.05s)
        --- PASS: TestCustom/TestRemoveDriver/delete_SA_error (0.06s)
        --- PASS: TestCustom/TestRemoveDriver/delete_Daemonset_error (0.06s)
        --- PASS: TestCustom/TestRemoveDriver/delete_Deployment_error (0.07s)
    --- PASS: TestCustom/TestRemoveModule (0.33s)
        --- PASS: TestCustom/TestRemoveModule/csm (0.19s)
        --- PASS: TestCustom/TestRemoveModule/csm#01 (0.15s)
        --- PASS: TestCustom/TestRemoveModule/csm#02 (0.00s)
    --- PASS: TestCustom/TestResiliencyReconcile (0.06s)
    --- PASS: TestCustom/TestResiliencyReconcileError (0.00s)
    --- PASS: TestCustom/TestReverseProxyPreCheckError (0.00s)
    --- PASS: TestCustom/TestReverseProxyReconcile (0.07s)
    --- PASS: TestCustom/TestReverseProxySidecarReconcile (0.06s)
    --- PASS: TestCustom/TestSyncCSM (0.22s)
        --- PASS: TestCustom/TestSyncCSM/auth_proxy_server_bad_op_conf (0.00s)
        --- PASS: TestCustom/TestSyncCSM/app_mobility_happy_path (0.22s)
        --- PASS: TestCustom/TestSyncCSM/app_mobility_bad_op_conf (0.00s)
        --- PASS: TestCustom/TestSyncCSM/reverse_proxy_server_bad_op_conf (0.00s)
        --- PASS: TestCustom/TestSyncCSM/getDriverConfig_bad_op_config (0.00s)
        --- PASS: TestCustom/TestSyncCSM/getDriverConfig_error (0.00s)
    --- PASS: TestCustom/TestUnityAnnotation (0.00s)
    --- PASS: TestCustom/TestZoneValidation (0.00s)
    --- PASS: TestCustom/TestZoneValidation2 (0.00s)
PASS
ok  	github.com/dell/csm-operator/controllers	55.002s
