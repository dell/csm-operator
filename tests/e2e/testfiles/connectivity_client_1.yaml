apiVersion: storage.dell.com/v1
kind: ApexConnectivityClient
metadata:
  name: dell-connectivity-client
  namespace: dell-connectivity-client
spec:
  client:
    csmClientType: "apexConnectivityClient"
    configVersion: v1.1.0
    forceRemoveClient: true
    connectionTarget: connect-p3.dell.com
    usePrivateCaCerts: true
    common:
      name: connectivity-client-docker-k8s
      image: amaas-eos-mw1.cec.lab.emc.com:5106/dcm/connectivity-client-docker-k8s:1.12.0
      imagePullPolicy: IfNotPresent
    initContainers:
      - name: connectivity-client-init
        image: amaas-eos-mw1.cec.lab.emc.com:5106/dcm/connectivity-client-docker-k8s:1.12.0
        imagePullPolicy: IfNotPresent
    sideCars:
      - name: kubernetes-proxy
        image: bitnami/kubectl:latest
        imagePullPolicy: Always
      - name: cert-persister
        image: amaas-eos-drm2.cec.lab.emc.com:5074/csm/connectivity-cert-persister-k8s:latest
        imagePullPolicy: Always