VERSION is: v1.10.0
go clean -cache && go test -v -coverprofile=c.out github.com/dell/csm-operator/pkg/modules
=== RUN   TestCheckAnnotationAuth
=== RUN   TestCheckAnnotationAuth/it_handles_an_empty_annotation
=== RUN   TestCheckAnnotationAuth/it_handles_an_incorrect_auth_annotation
map[annotation:test.proxy]
=== RUN   TestCheckAnnotationAuth/it_handles_an_invalid_annotation
map[com.dell.karavi-authorization-proxy:false]
--- PASS: TestCheckAnnotationAuth (0.00s)
    --- PASS: TestCheckAnnotationAuth/it_handles_an_empty_annotation (0.00s)
    --- PASS: TestCheckAnnotationAuth/it_handles_an_incorrect_auth_annotation (0.00s)
    --- PASS: TestCheckAnnotationAuth/it_handles_an_invalid_annotation (0.00s)
=== RUN   TestCheckApplyVolumesAuth
--- PASS: TestCheckApplyVolumesAuth (0.00s)
=== RUN   TestCheckApplyContainersAuth
=== RUN   TestCheckApplyContainersAuth/it_handles_no_volume_mount
=== RUN   TestCheckApplyContainersAuth/it_handles_an_empty_container
=== RUN   TestCheckApplyContainersAuth/it_validates_env_malformed_variable_values
=== RUN   TestCheckApplyContainersAuth/it_validates_conflicting_cert_configuration
=== RUN   TestCheckApplyContainersAuth/it_validates_empty_proxy_host_value
--- PASS: TestCheckApplyContainersAuth (0.00s)
    --- PASS: TestCheckApplyContainersAuth/it_handles_no_volume_mount (0.00s)
    --- PASS: TestCheckApplyContainersAuth/it_handles_an_empty_container (0.00s)
    --- PASS: TestCheckApplyContainersAuth/it_validates_env_malformed_variable_values (0.00s)
    --- PASS: TestCheckApplyContainersAuth/it_validates_conflicting_cert_configuration (0.00s)
    --- PASS: TestCheckApplyContainersAuth/it_validates_empty_proxy_host_value (0.00s)
=== RUN   TestAuthInjectDaemonset
=== RUN   TestAuthInjectDaemonset/success_-_greenfield_injection
map[com.dell.karavi-authorization-proxy:true]
=== RUN   TestAuthInjectDaemonset/success_-_brownfield_injection
map[com.dell.karavi-authorization-proxy:true]
=== RUN   TestAuthInjectDaemonset/success_-_validate_certificate
map[com.dell.karavi-authorization-proxy:true]
=== RUN   TestAuthInjectDaemonset/fail_-_bad_config_path
--- PASS: TestAuthInjectDaemonset (0.04s)
    --- PASS: TestAuthInjectDaemonset/success_-_greenfield_injection (0.01s)
    --- PASS: TestAuthInjectDaemonset/success_-_brownfield_injection (0.01s)
    --- PASS: TestAuthInjectDaemonset/success_-_validate_certificate (0.01s)
    --- PASS: TestAuthInjectDaemonset/fail_-_bad_config_path (0.01s)
=== RUN   TestAuthInjectDeployment
=== RUN   TestAuthInjectDeployment/success_-_brownfield_injection
map[com.dell.karavi-authorization-proxy:true]
=== RUN   TestAuthInjectDeployment/success_-_validate_certificate
map[com.dell.karavi-authorization-proxy:true]
=== RUN   TestAuthInjectDeployment/fail_-_bad_config_path
=== RUN   TestAuthInjectDeployment/success_-_greenfield_injection
map[com.dell.karavi-authorization-proxy:true]
=== RUN   TestAuthInjectDeployment/success_-_greenfield_injection_missing_skip_certificate_validation_env
map[com.dell.karavi-authorization-proxy:true]
--- PASS: TestAuthInjectDeployment (0.05s)
    --- PASS: TestAuthInjectDeployment/success_-_brownfield_injection (0.01s)
    --- PASS: TestAuthInjectDeployment/success_-_validate_certificate (0.01s)
    --- PASS: TestAuthInjectDeployment/fail_-_bad_config_path (0.01s)
    --- PASS: TestAuthInjectDeployment/success_-_greenfield_injection (0.01s)
    --- PASS: TestAuthInjectDeployment/success_-_greenfield_injection_missing_skip_certificate_validation_env (0.01s)
=== RUN   TestAuthorizationPreCheck
=== RUN   TestAuthorizationPreCheck/fail_-_unsupported_auth_version
=== RUN   TestAuthorizationPreCheck/success
2025-07-22T13:32:20.222-0400	INFO	modules/authorization.go:525	preformed pre-checks for authorization
=== RUN   TestAuthorizationPreCheck/success_-_version_provided
2025-07-22T13:32:20.223-0400	INFO	modules/authorization.go:525	preformed pre-checks for authorization
=== RUN   TestAuthorizationPreCheck/fail_-_SKIP_CERTIFICATE_VALIDATION_is_false_but_no_cert
=== RUN   TestAuthorizationPreCheck/fail_-_invalid_SKIP_CERTIFICATE_VALIDATION_value
=== RUN   TestAuthorizationPreCheck/fail_-_empty_proxy_host
=== RUN   TestAuthorizationPreCheck/fail_-_unsupported_driver
--- PASS: TestAuthorizationPreCheck (0.00s)
    --- PASS: TestAuthorizationPreCheck/fail_-_unsupported_auth_version (0.00s)
    --- PASS: TestAuthorizationPreCheck/success (0.00s)
    --- PASS: TestAuthorizationPreCheck/success_-_version_provided (0.00s)
    --- PASS: TestAuthorizationPreCheck/fail_-_SKIP_CERTIFICATE_VALIDATION_is_false_but_no_cert (0.00s)
    --- PASS: TestAuthorizationPreCheck/fail_-_invalid_SKIP_CERTIFICATE_VALIDATION_value (0.00s)
    --- PASS: TestAuthorizationPreCheck/fail_-_empty_proxy_host (0.00s)
    --- PASS: TestAuthorizationPreCheck/fail_-_unsupported_driver (0.00s)
=== RUN   TestAuthorizationServerPreCheck
=== RUN   TestAuthorizationServerPreCheck/success_v2
2025-07-22T13:32:20.226-0400	INFO	modules/authorization.go:560	preformed pre-checks for authorization-proxy-server proxy server
=== RUN   TestAuthorizationServerPreCheck/success_-_version_provided
2025-07-22T13:32:20.227-0400	INFO	modules/authorization.go:560	preformed pre-checks for authorization-proxy-server proxy server
=== RUN   TestAuthorizationServerPreCheck/fail_-_unsupported_authorization_version
=== RUN   TestAuthorizationServerPreCheck/fail_v1_-_karavi-config-secret_not_found
=== RUN   TestAuthorizationServerPreCheck/fail_v1_-_karavi-storage-secret_not_found
=== RUN   TestAuthorizationServerPreCheck/fail_v2_-_karavi-config-secret_not_found
=== RUN   TestAuthorizationServerPreCheck/success_v1
2025-07-22T13:32:20.230-0400	INFO	modules/authorization.go:560	preformed pre-checks for authorization-proxy-server proxy server
--- PASS: TestAuthorizationServerPreCheck (0.01s)
    --- PASS: TestAuthorizationServerPreCheck/success_v2 (0.00s)
    --- PASS: TestAuthorizationServerPreCheck/success_-_version_provided (0.00s)
    --- PASS: TestAuthorizationServerPreCheck/fail_-_unsupported_authorization_version (0.00s)
    --- PASS: TestAuthorizationServerPreCheck/fail_v1_-_karavi-config-secret_not_found (0.00s)
    --- PASS: TestAuthorizationServerPreCheck/fail_v1_-_karavi-storage-secret_not_found (0.00s)
    --- PASS: TestAuthorizationServerPreCheck/fail_v2_-_karavi-config-secret_not_found (0.00s)
    --- PASS: TestAuthorizationServerPreCheck/success_v1 (0.00s)
=== RUN   TestAuthorizationServerDeployment
=== RUN   TestAuthorizationServerDeployment/fail_-_corrupt_vault_client_key
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Deployment"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Service"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Service"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Service"}
2025-07-22T13:32:20.253-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Service"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Deployment"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Service"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "Service"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "rediscommander", "Kind:": "Deployment"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "rediscommander", "Kind:": "Service"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "Service"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel-svc", "Kind:": "Service"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "system:serviceaccounts:authorization", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "configmap-modifier", "Kind:": "Role"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:765	Updating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.254-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "vault-certificate-authority-vault0", "Kind:": "Secret"}
applying/deleting vault certificates: decoding vault private key: illegal base64 data at input byte 12
=== RUN   TestAuthorizationServerDeployment/success_-_deleting
2025-07-22T13:32:20.257-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csm-authorization-local-storage", "Kind:": "StorageClass", "Namespace:": ""}
2025-07-22T13:32:20.257-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csm-authorization-redis", "Kind:": "PersistentVolume", "Namespace:": ""}
2025-07-22T13:32:20.276-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "redis-csm-secret", "Kind:": "Secret", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "proxy-server", "Kind:": "ServiceAccount", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "proxy-server", "Kind:": "Deployment", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "proxy-server", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "tenant-service", "Kind:": "Deployment", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "tenant-service", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "role-service", "Kind:": "ServiceAccount", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csm-auth-role-service", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "role-service", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "role-service", "Kind:": "Deployment", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "role-service", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "storage-service", "Kind:": "ServiceAccount", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csm-auth-storage-service", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "storage-service", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csm-auth-storage-service", "Kind:": "Role", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "storage-service", "Kind:": "RoleBinding", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "storage-service", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "storage-service-selfsigned", "Kind:": "Issuer", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "storage-service-selfsigned", "Kind:": "Certificate", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-controller", "Kind:": "ServiceAccount", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-controller", "Kind:": "Role", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-controller", "Kind:": "RoleBinding", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-controller", "Kind:": "Deployment", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-controller", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "redis-csm", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "redis-csm", "Kind:": "StatefulSet", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "rediscommander", "Kind:": "Deployment", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "rediscommander", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "sentinel", "Kind:": "StatefulSet", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "sentinel", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "sentinel-svc", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "system:serviceaccounts:authorization", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csm-auth-view", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "opa-viewer", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "configmap-modifier", "Kind:": "Role", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "opa-configmap-modifier", "Kind:": "RoleBinding", "Namespace:": "authorization"}
2025-07-22T13:32:20.277-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.278-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "storage-service-selfsigned-vault0", "Kind:": "Issuer", "Namespace:": "authorization"}
2025-07-22T13:32:20.279-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "storage-service-selfsigned-vault0", "Kind:": "Certificate", "Namespace:": "authorization"}
2025-07-22T13:32:20.281-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "storage-service", "Kind:": "Deployment", "Namespace:": "authorization"}
=== RUN   TestAuthorizationServerDeployment/success_-_creating
2025-07-22T13:32:20.282-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-authorization-local-storage", "Kind:": "StorageClass"}
2025-07-22T13:32:20.282-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-authorization-redis", "Kind:": "PersistentVolume"}
2025-07-22T13:32:20.299-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-07-22T13:32:20.299-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Deployment"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Service"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Service"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Service"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-storage-service", "Kind:": "Role"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Service"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Role"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Deployment"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Service"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "Service"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "rediscommander", "Kind:": "Deployment"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "rediscommander", "Kind:": "Service"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "Service"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel-svc", "Kind:": "Service"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "system:serviceaccounts:authorization", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "configmap-modifier", "Kind:": "Role"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:765	Updating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.300-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned-vault0", "Kind:": "Issuer"}
2025-07-22T13:32:20.302-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned-vault0", "Kind:": "Certificate"}
2025-07-22T13:32:20.304-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
=== RUN   TestAuthorizationServerDeployment/success_-_creating_with_vault_client_certificates
2025-07-22T13:32:20.321-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-07-22T13:32:20.321-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.321-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.321-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.321-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Deployment"}
2025-07-22T13:32:20.321-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Service"}
2025-07-22T13:32:20.321-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.321-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Service"}
2025-07-22T13:32:20.321-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.321-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.321-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.321-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Service"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Service"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Deployment"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Service"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "Service"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "rediscommander", "Kind:": "Deployment"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "rediscommander", "Kind:": "Service"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "Service"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel-svc", "Kind:": "Service"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "system:serviceaccounts:authorization", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "configmap-modifier", "Kind:": "Role"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:765	Updating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.322-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "vault-certificate-authority-vault0", "Kind:": "Secret"}
2025-07-22T13:32:20.323-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "vault-client-certificate-vault0", "Kind:": "Secret"}
2025-07-22T13:32:20.326-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
=== RUN   TestAuthorizationServerDeployment/success_-_creating_v1
2025-07-22T13:32:20.328-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-authorization-local-storage", "Kind:": "StorageClass"}
2025-07-22T13:32:20.328-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-authorization-redis", "Kind:": "PersistentVolume"}
2025-07-22T13:32:20.338-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Deployment"}
2025-07-22T13:32:20.338-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Service"}
2025-07-22T13:32:20.338-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.338-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Service"}
2025-07-22T13:32:20.338-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.338-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.338-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.338-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.339-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Service"}
2025-07-22T13:32:20.339-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.339-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.339-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.339-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Service"}
2025-07-22T13:32:20.339-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-primary", "Kind:": "Deployment"}
2025-07-22T13:32:20.339-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-primary-pv-claim", "Kind:": "PersistentVolumeClaim"}
2025-07-22T13:32:20.339-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-commander", "Kind:": "Deployment"}
2025-07-22T13:32:20.339-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis", "Kind:": "Service"}
2025-07-22T13:32:20.339-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-commander", "Kind:": "Service"}
2025-07-22T13:32:20.339-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "auth-resource-reader", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.339-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "system:serviceaccounts:authorization", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.340-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "view", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.340-0400	INFO	operatorutils/utils.go:765	Updating a new Object	{"Name:": "view", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.340-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.340-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "configmap-modifier", "Kind:": "Role"}
2025-07-22T13:32:20.340-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.342-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
=== RUN   TestAuthorizationServerDeployment/success_-_creating_with_default_redis_storage_class
2025-07-22T13:32:20.345-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-authorization-local-storage", "Kind:": "StorageClass"}
2025-07-22T13:32:20.345-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-authorization-redis", "Kind:": "PersistentVolume"}
2025-07-22T13:32:20.363-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-07-22T13:32:20.363-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.363-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.363-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.363-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Deployment"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Service"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Service"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Service"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Service"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Deployment"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Service"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "Service"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "rediscommander", "Kind:": "Deployment"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "rediscommander", "Kind:": "Service"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "Service"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel-svc", "Kind:": "Service"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "system:serviceaccounts:authorization", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "configmap-modifier", "Kind:": "Role"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:765	Updating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.364-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "vault-certificate-authority-vault0", "Kind:": "Secret"}
2025-07-22T13:32:20.366-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "vault-client-certificate-vault0", "Kind:": "Secret"}
2025-07-22T13:32:20.368-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
=== RUN   TestAuthorizationServerDeployment/fail_-_authorization_module_not_found
authorization module not found
=== RUN   TestAuthorizationServerDeployment/fail_-_corrupt_vault_ca
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Deployment"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Service"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Service"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Service"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.389-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Service"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Deployment"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Service"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "Service"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redicommander", "Kind:": "Deployment"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redicommander", "Kind:": "Service"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "Service"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel-svc", "Kind:": "Service"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "system:serviceaccounts:authorization", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "configmap-modifier", "Kind:": "Role"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.390-0400	INFO	operatorutils/utils.go:765	Updating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
applying/deleting vault certificates: decoding vault certificate authority: illegal base64 data at input byte 12
=== RUN   TestAuthorizationServerDeployment/fail_-_corrupt_vault_client_cert
2025-07-22T13:32:20.411-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-07-22T13:32:20.411-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.411-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.411-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Deployment"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Service"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Service"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Service"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.412-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Service"}
2025-07-22T13:32:20.413-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-07-22T13:32:20.413-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-07-22T13:32:20.413-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.413-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.413-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.413-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Deployment"}
2025-07-22T13:32:20.413-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Service"}
2025-07-22T13:32:20.413-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "Service"}
2025-07-22T13:32:20.413-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.413-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "rediscommander", "Kind:": "Deployment"}
2025-07-22T13:32:20.413-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "rediscommander", "Kind:": "Service"}
2025-07-22T13:32:20.413-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.414-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "Service"}
2025-07-22T13:32:20.414-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel-svc", "Kind:": "Service"}
2025-07-22T13:32:20.414-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.414-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "system:serviceaccounts:authorization", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.414-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.414-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.414-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "configmap-modifier", "Kind:": "Role"}
2025-07-22T13:32:20.414-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.414-0400	INFO	operatorutils/utils.go:765	Updating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.415-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "vault-certificate-authority-vault0", "Kind:": "Secret"}
applying/deleting vault certificates: decoding vault certificate: illegal base64 data at input byte 12
--- PASS: TestAuthorizationServerDeployment (0.18s)
    --- PASS: TestAuthorizationServerDeployment/fail_-_corrupt_vault_client_key (0.02s)
    --- PASS: TestAuthorizationServerDeployment/success_-_deleting (0.03s)
    --- PASS: TestAuthorizationServerDeployment/success_-_creating (0.02s)
    --- PASS: TestAuthorizationServerDeployment/success_-_creating_with_vault_client_certificates (0.02s)
    --- PASS: TestAuthorizationServerDeployment/success_-_creating_v1 (0.02s)
    --- PASS: TestAuthorizationServerDeployment/success_-_creating_with_default_redis_storage_class (0.03s)
    --- PASS: TestAuthorizationServerDeployment/fail_-_authorization_module_not_found (0.00s)
    --- PASS: TestAuthorizationServerDeployment/fail_-_corrupt_vault_ca (0.02s)
    --- PASS: TestAuthorizationServerDeployment/fail_-_corrupt_vault_client_cert (0.02s)
=== RUN   TestAuthorizationOpenTelemetry
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm-secret", "Kind:": "Secret"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-proxy-server", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Deployment"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "proxy-server", "Kind:": "Service"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "tenant-service", "Kind:": "Service"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-role-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Deployment"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "role-service", "Kind:": "Service"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-storage-service", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-tokenreview-binding", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Service"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Issuer"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned", "Kind:": "Certificate"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-authorization-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Deployment"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-controller", "Kind:": "Service"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "Service"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "rediscommander", "Kind:": "Deployment"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "rediscommander", "Kind:": "Service"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "StatefulSet"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel", "Kind:": "Service"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sentinel-svc", "Kind:": "Service"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-resource-reader", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "system:serviceaccounts:authorization", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csm-auth-view", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-viewer", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "configmap-modifier", "Kind:": "Role"}
2025-07-22T13:32:20.441-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "opa-configmap-modifier", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.442-0400	INFO	operatorutils/utils.go:765	Updating a new Object	{"Name:": "proxy-server", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.442-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned-vault0", "Kind:": "Issuer"}
2025-07-22T13:32:20.443-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned-vault0", "Kind:": "Certificate"}
2025-07-22T13:32:20.444-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
--- PASS: TestAuthorizationOpenTelemetry (0.03s)
=== RUN   TestAuthorizationStorageServiceVault
=== RUN   TestAuthorizationStorageServiceVault/success_-_self-signed_certificate
2025-07-22T13:32:20.447-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned-vault0", "Kind:": "Issuer"}
2025-07-22T13:32:20.447-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned-vault0", "Kind:": "Certificate"}
2025-07-22T13:32:20.449-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
=== RUN   TestAuthorizationStorageServiceVault/success_-_vault_certificate_authority
2025-07-22T13:32:20.454-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "vault-certificate-authority-vault0", "Kind:": "Secret"}
2025-07-22T13:32:20.454-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned-vault0", "Kind:": "Issuer"}
2025-07-22T13:32:20.455-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned-vault0", "Kind:": "Certificate"}
2025-07-22T13:32:20.457-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
=== RUN   TestAuthorizationStorageServiceVault/success_-_all_vault_certificates
2025-07-22T13:32:20.458-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "vault-certificate-authority-vault0", "Kind:": "Secret"}
2025-07-22T13:32:20.459-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "vault-client-certificate-vault0", "Kind:": "Secret"}
2025-07-22T13:32:20.461-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
=== RUN   TestAuthorizationStorageServiceVault/success_-_multiple_vaults
2025-07-22T13:32:20.464-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned-vault0", "Kind:": "Issuer"}
2025-07-22T13:32:20.465-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned-vault0", "Kind:": "Certificate"}
2025-07-22T13:32:20.466-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned-vault1", "Kind:": "Issuer"}
2025-07-22T13:32:20.466-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service-selfsigned-vault1", "Kind:": "Certificate"}
2025-07-22T13:32:20.469-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
--- PASS: TestAuthorizationStorageServiceVault (0.02s)
    --- PASS: TestAuthorizationStorageServiceVault/success_-_self-signed_certificate (0.01s)
    --- PASS: TestAuthorizationStorageServiceVault/success_-_vault_certificate_authority (0.01s)
    --- PASS: TestAuthorizationStorageServiceVault/success_-_all_vault_certificates (0.00s)
    --- PASS: TestAuthorizationStorageServiceVault/success_-_multiple_vaults (0.01s)
=== RUN   TestAuthorizationStorageServiceSecretProviderClass
=== RUN   TestAuthorizationStorageServiceSecretProviderClass/vault_configurations_ignored_for_v2.3.0
2025-07-22T13:32:20.473-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
=== RUN   TestAuthorizationStorageServiceSecretProviderClass/mounts_added_for_secret_provider_classes_with_v2.3.0
2025-07-22T13:32:20.476-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
--- PASS: TestAuthorizationStorageServiceSecretProviderClass (0.01s)
    --- PASS: TestAuthorizationStorageServiceSecretProviderClass/vault_configurations_ignored_for_v2.3.0 (0.00s)
    --- PASS: TestAuthorizationStorageServiceSecretProviderClass/mounts_added_for_secret_provider_classes_with_v2.3.0 (0.00s)
=== RUN   TestAuthorizationStorageServiceSecret
=== RUN   TestAuthorizationStorageServiceSecret/mounts_added_for_kubernetes_secrets_with_v2.3.0
2025-07-22T13:32:20.480-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storage-service", "Kind:": "Deployment"}
--- PASS: TestAuthorizationStorageServiceSecret (0.00s)
    --- PASS: TestAuthorizationStorageServiceSecret/mounts_added_for_kubernetes_secrets_with_v2.3.0 (0.00s)
=== RUN   TestAuthorizationStorageServiceSecretAndSecretProviderClass
=== RUN   TestAuthorizationStorageServiceSecretAndSecretProviderClass/not_allowed_to_use_secrets_AND_secret_provider_classes_with_v2.3.0
=== RUN   TestAuthorizationStorageServiceSecretAndSecretProviderClass/need_exactly_one_of_secrets_or_secret_provider_classes_with_v2.3.0
--- PASS: TestAuthorizationStorageServiceSecretAndSecretProviderClass (0.00s)
    --- PASS: TestAuthorizationStorageServiceSecretAndSecretProviderClass/not_allowed_to_use_secrets_AND_secret_provider_classes_with_v2.3.0 (0.00s)
    --- PASS: TestAuthorizationStorageServiceSecretAndSecretProviderClass/need_exactly_one_of_secrets_or_secret_provider_classes_with_v2.3.0 (0.00s)
=== RUN   TestAuthorizationIngress
=== RUN   TestAuthorizationIngress/success_-_creating
2025-07-22T13:32:20.483-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "proxy-server", "Kind:": "Ingress", "Namespace:": "authorization"}
=== RUN   TestAuthorizationIngress/success_-_creating_with_certs
2025-07-22T13:32:20.486-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "proxy-server", "Kind:": "Ingress", "Namespace:": "authorization"}
=== RUN   TestAuthorizationIngress/success_-_creating_with_openshift_and_other_annotations
2025-07-22T13:32:20.490-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "proxy-server", "Kind:": "Ingress", "Namespace:": "authorization"}
=== RUN   TestAuthorizationIngress/success_-_creating_v1.10.0
2025-07-22T13:32:20.493-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "proxy-server", "Kind:": "Ingress", "Namespace:": "authorization"}
=== RUN   TestAuthorizationIngress/success_-_creating_v1.12.0
2025-07-22T13:32:20.494-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "proxy-server", "Kind:": "Ingress", "Namespace:": "authorization"}
=== RUN   TestAuthorizationIngress/fail_-_wrong_module_name
=== RUN   TestAuthorizationIngress/fail_-_NGINX_ingress_creation_failure
2025-07-22T13:32:20.495-0400	INFO	operatorutils/status.go:428	Polling status of NGINX ingress controller
=== RUN   TestAuthorizationIngress/success_-_deleting
2025-07-22T13:32:20.497-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "proxy-server", "Kind:": "Ingress", "Namespace:": "authorization"}
--- PASS: TestAuthorizationIngress (0.01s)
    --- PASS: TestAuthorizationIngress/success_-_creating (0.00s)
    --- PASS: TestAuthorizationIngress/success_-_creating_with_certs (0.00s)
    --- PASS: TestAuthorizationIngress/success_-_creating_with_openshift_and_other_annotations (0.00s)
    --- PASS: TestAuthorizationIngress/success_-_creating_v1.10.0 (0.00s)
    --- PASS: TestAuthorizationIngress/success_-_creating_v1.12.0 (0.00s)
    --- PASS: TestAuthorizationIngress/fail_-_wrong_module_name (0.00s)
    --- PASS: TestAuthorizationIngress/fail_-_NGINX_ingress_creation_failure (0.00s)
    --- PASS: TestAuthorizationIngress/success_-_deleting (0.00s)
=== RUN   TestInstallPolicies
=== RUN   TestInstallPolicies/success_-_creating
2025-07-22T13:32:20.501-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "common", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.501-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "volumes-create", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.501-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "volumes-delete", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.501-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "volumes-map", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.501-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "powermax-volumes-create", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.501-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "volumes-unmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.501-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "sdc-approve", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.501-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "redis-csm-cm", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.501-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "snapshot-create", "Kind:": "ConfigMap"}
=== RUN   TestInstallPolicies/fail_-_wrong_module_name
=== RUN   TestInstallPolicies/success_-_deleting
2025-07-22T13:32:20.505-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "common", "Kind:": "ConfigMap", "Namespace:": "authorization"}
2025-07-22T13:32:20.505-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "volumes-create", "Kind:": "ConfigMap", "Namespace:": "authorization"}
2025-07-22T13:32:20.505-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "volumes-delete", "Kind:": "ConfigMap", "Namespace:": "authorization"}
2025-07-22T13:32:20.505-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "volumes-map", "Kind:": "ConfigMap", "Namespace:": "authorization"}
2025-07-22T13:32:20.505-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "powermax-volumes-create", "Kind:": "ConfigMap", "Namespace:": "authorization"}
2025-07-22T13:32:20.505-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "volumes-unmap", "Kind:": "ConfigMap", "Namespace:": "authorization"}
2025-07-22T13:32:20.505-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "sdc-approve", "Kind:": "ConfigMap", "Namespace:": "authorization"}
2025-07-22T13:32:20.505-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "redis-csm-cm", "Kind:": "ConfigMap", "Namespace:": "authorization"}
2025-07-22T13:32:20.505-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "snapshot-create", "Kind:": "ConfigMap", "Namespace:": "authorization"}
--- PASS: TestInstallPolicies (0.01s)
    --- PASS: TestInstallPolicies/success_-_creating (0.00s)
    --- PASS: TestInstallPolicies/fail_-_wrong_module_name (0.00s)
    --- PASS: TestInstallPolicies/success_-_deleting (0.00s)
=== RUN   TestNginxIngressController
=== RUN   TestNginxIngressController/success_-_deleting
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx", "Kind:": "ServiceAccount", "Namespace:": "authorization"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx-admission", "Kind:": "ServiceAccount", "Namespace:": "authorization"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx", "Kind:": "Role", "Namespace:": "authorization"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx-admission", "Kind:": "Role", "Namespace:": "authorization"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx-admission", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx", "Kind:": "RoleBinding", "Namespace:": "authorization"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx-admission", "Kind:": "RoleBinding", "Namespace:": "authorization"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx-admission", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx-controller", "Kind:": "ConfigMap", "Namespace:": "authorization"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx-controller", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx-controller-admission", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx-controller", "Kind:": "Deployment", "Namespace:": "authorization"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx-admission-create", "Kind:": "Job", "Namespace:": "authorization"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx-admission-patch", "Kind:": "Job", "Namespace:": "authorization"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "nginx", "Kind:": "IngressClass"}
2025-07-22T13:32:20.519-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "authorization-ingress-nginx-admission", "Kind:": "ValidatingWebhookConfiguration", "Namespace:": ""}
=== RUN   TestNginxIngressController/success_-_creating
2025-07-22T13:32:20.533-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.533-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx-admission", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.533-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx", "Kind:": "Role"}
2025-07-22T13:32:20.533-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx-admission", "Kind:": "Role"}
2025-07-22T13:32:20.533-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.533-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx-admission", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.533-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.533-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx-admission", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.533-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.533-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx-admission", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.533-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx-controller", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.534-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx-controller", "Kind:": "Service"}
2025-07-22T13:32:20.534-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx-controller-admission", "Kind:": "Service"}
2025-07-22T13:32:20.534-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx-controller", "Kind:": "Deployment"}
2025-07-22T13:32:20.534-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx-admission-create", "Kind:": "Job"}
2025-07-22T13:32:20.534-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx-admission-patch", "Kind:": "Job"}
2025-07-22T13:32:20.534-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "nginx", "Kind:": "IngressClass"}
2025-07-22T13:32:20.534-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "authorization-ingress-nginx-admission", "Kind:": "ValidatingWebhookConfiguration"}
=== RUN   TestNginxIngressController/fail_-_wrong_module_name
--- PASS: TestNginxIngressController (0.03s)
    --- PASS: TestNginxIngressController/success_-_deleting (0.01s)
    --- PASS: TestNginxIngressController/success_-_creating (0.01s)
    --- PASS: TestNginxIngressController/fail_-_wrong_module_name (0.00s)
=== RUN   TestAuthorizationCertificates
=== RUN   TestAuthorizationCertificates/success_-_using_custom_tls_secret
2025-07-22T13:32:20.536-0400	INFO	modules/authorization.go:1385	Authorization hostname: csm-authorization.com
2025-07-22T13:32:20.536-0400	INFO	modules/authorization.go:1392	using user provided certificate and key for authorization
2025-07-22T13:32:20.538-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "user-provided-tls", "Kind:": "Secret"}
=== RUN   TestAuthorizationCertificates/fail_-_using_partial_custom_cert
2025-07-22T13:32:20.539-0400	INFO	modules/authorization.go:1385	Authorization hostname: csm-authorization.com
=== RUN   TestAuthorizationCertificates/success_-_using_self-signed_certificate
2025-07-22T13:32:20.540-0400	INFO	modules/authorization.go:1385	Authorization hostname: csm-authorization.com
2025-07-22T13:32:20.541-0400	INFO	modules/authorization.go:1407	using self-signed certificate for authorization
2025-07-22T13:32:20.541-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "selfsigned", "Kind:": "Issuer", "Namespace:": "authorization"}
2025-07-22T13:32:20.541-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-auth", "Kind:": "Certificate", "Namespace:": "authorization"}
--- PASS: TestAuthorizationCertificates (0.01s)
    --- PASS: TestAuthorizationCertificates/success_-_using_custom_tls_secret (0.00s)
    --- PASS: TestAuthorizationCertificates/fail_-_using_partial_custom_cert (0.00s)
    --- PASS: TestAuthorizationCertificates/success_-_using_self-signed_certificate (0.00s)
=== RUN   TestAuthorizationCrdDeploy
=== RUN   TestAuthorizationCrdDeploy/fail_-_auth_config_file_not_found
=== RUN   TestAuthorizationCrdDeploy/fail_-_auth_module_not_found
=== RUN   TestAuthorizationCrdDeploy/success_-_deleting
2025-07-22T13:32:20.569-0400	INFO	operatorutils/utils.go:765	Updating a new Object	{"Name:": "csmroles.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:20.570-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csmtenants.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:20.570-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storages.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
=== RUN   TestAuthorizationCrdDeploy/success_-_creating
2025-07-22T13:32:20.579-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csmroles.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:20.579-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csmtenants.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:20.579-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "storages.csm-authorization.storage.dell.com", "Kind:": "CustomResourceDefinition"}
=== RUN   TestAuthorizationCrdDeploy/success_-_creating_v1
=== RUN   TestAuthorizationCrdDeploy/fail_-_auth_deployment_file_bad_yaml
--- PASS: TestAuthorizationCrdDeploy (0.04s)
    --- PASS: TestAuthorizationCrdDeploy/fail_-_auth_config_file_not_found (0.00s)
    --- PASS: TestAuthorizationCrdDeploy/fail_-_auth_module_not_found (0.02s)
    --- PASS: TestAuthorizationCrdDeploy/success_-_deleting (0.01s)
    --- PASS: TestAuthorizationCrdDeploy/success_-_creating (0.01s)
    --- PASS: TestAuthorizationCrdDeploy/success_-_creating_v1 (0.00s)
    --- PASS: TestAuthorizationCrdDeploy/fail_-_auth_deployment_file_bad_yaml (0.00s)
=== RUN   TestCommonCertManager
=== RUN   TestCommonCertManager/fail_-_wrong_module_name
=== RUN   TestCommonCertManager/success_-_deleting
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager", "Kind:": "Namespace", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount", "Namespace:": "authorization"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager", "Kind:": "ServiceAccount", "Namespace:": "authorization"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "ServiceAccount", "Namespace:": "authorization"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "ConfigMap", "Namespace:": "authorization"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-view", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-edit", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role", "Namespace:": "kube-system"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager:leaderelection", "Kind:": "Role", "Namespace:": "kube-system"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role", "Namespace:": "authorization"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding", "Namespace:": "kube-system"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding", "Namespace:": "kube-system"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding", "Namespace:": "authorization"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "Service", "Namespace:": "authorization"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-cainjector", "Kind:": "Deployment", "Namespace:": "authorization"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager", "Kind:": "Deployment", "Namespace:": "authorization"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "Deployment", "Namespace:": "authorization"}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration", "Namespace:": ""}
2025-07-22T13:32:20.712-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration", "Namespace:": ""}
=== RUN   TestCommonCertManager/success_-_creating
2025-07-22T13:32:20.831-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "clusterissuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:20.831-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "challenges.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:20.832-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "certificaterequests.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:20.832-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "issuers.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:20.834-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "certificates.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "orders.acme.cert-manager.io", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager", "Kind:": "Namespace"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-cainjector", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-view", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-edit", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-cainjector", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-issuers", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.835-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-clusterissuers", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-certificates", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-orders", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-challenges", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-ingress-shim", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-approve:cert-manager-io", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-controller-certificatesigningrequests", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-webhook:subjectaccessreviews", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "Role"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager:leaderelection", "Kind:": "Role"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "Role"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-cainjector:leaderelection", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager:leaderelection", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-webhook:dynamic-serving", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager", "Kind:": "Service"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "Service"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-cainjector", "Kind:": "Deployment"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager", "Kind:": "Deployment"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "Deployment"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "MutatingWebhookConfiguration"}
2025-07-22T13:32:20.836-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "cert-manager-webhook", "Kind:": "ValidatingWebhookConfiguration"}
--- PASS: TestCommonCertManager (0.26s)
    --- PASS: TestCommonCertManager/fail_-_wrong_module_name (0.00s)
    --- PASS: TestCommonCertManager/success_-_deleting (0.13s)
    --- PASS: TestCommonCertManager/success_-_creating (0.12s)
=== RUN   TestObservabilityPrecheck
=== RUN   TestObservabilityPrecheck/success_-_driver_type_Powermax
2025-07-22T13:32:20.854-0400	INFO	modules/observability.go:287	
performed pre checks for: observability
=== RUN   TestObservabilityPrecheck/success_-_version_provided
2025-07-22T13:32:20.872-0400	INFO	modules/observability.go:287	
performed pre checks for: observability
=== RUN   TestObservabilityPrecheck/success_-_auth_injected
2025-07-22T13:32:20.873-0400	INFO	modules/observability.go:287	
performed pre checks for: observability
=== RUN   TestObservabilityPrecheck/Fail_-_unsupported_observability_version
=== RUN   TestObservabilityPrecheck/Fail_-_unsupported_driver
=== RUN   TestObservabilityPrecheck/success
2025-07-22T13:32:20.875-0400	INFO	modules/observability.go:287	
performed pre checks for: observability
=== RUN   TestObservabilityPrecheck/success_-_driver_type_PowerScale
2025-07-22T13:32:20.876-0400	INFO	modules/observability.go:287	
performed pre checks for: observability
=== RUN   TestObservabilityPrecheck/success_-_driver_type_PowerFlex
2025-07-22T13:32:20.878-0400	INFO	modules/observability.go:287	
performed pre checks for: observability
--- PASS: TestObservabilityPrecheck (0.04s)
    --- PASS: TestObservabilityPrecheck/success_-_driver_type_Powermax (0.02s)
    --- PASS: TestObservabilityPrecheck/success_-_version_provided (0.02s)
    --- PASS: TestObservabilityPrecheck/success_-_auth_injected (0.00s)
    --- PASS: TestObservabilityPrecheck/Fail_-_unsupported_observability_version (0.00s)
    --- PASS: TestObservabilityPrecheck/Fail_-_unsupported_driver (0.00s)
    --- PASS: TestObservabilityPrecheck/success (0.00s)
    --- PASS: TestObservabilityPrecheck/success_-_driver_type_PowerScale (0.00s)
    --- PASS: TestObservabilityPrecheck/success_-_driver_type_PowerFlex (0.00s)
=== RUN   TestObservabilityTopologyController
=== RUN   TestObservabilityTopologyController/success_-_deleting
2025-07-22T13:32:20.882-0400	INFO	modules/observability.go:300	current topoObject is 	{"ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  isilon    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com,csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-07-22T13:32:20.882-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-topology-configmap", "Kind:": "ConfigMap", "Namespace:": "isilon"}
2025-07-22T13:32:20.882-0400	INFO	modules/observability.go:300	current topoObject is 	{"ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  isilon    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-07-22T13:32:20.882-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount", "Namespace:": "isilon"}
2025-07-22T13:32:20.882-0400	INFO	modules/observability.go:300	current topoObject is 	{"ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-07-22T13:32:20.882-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.882-0400	INFO	modules/observability.go:300	current topoObject is 	{"ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:isilon,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-07-22T13:32:20.882-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.882-0400	INFO	modules/observability.go:300	current topoObject is 	{"ctrlObj": "&Service{ObjectMeta:{karavi-topology  isilon    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-07-22T13:32:20.882-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-topology", "Kind:": "Service", "Namespace:": "isilon"}
2025-07-22T13:32:20.882-0400	INFO	modules/observability.go:300	current topoObject is 	{"ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  isilon    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:isilon csmNamespace:isilon] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:nightly [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,TerminatingReplicas:nil,},}"}
2025-07-22T13:32:20.883-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-topology", "Kind:": "Deployment", "Namespace:": "isilon"}
=== RUN   TestObservabilityTopologyController/success_-_creating
2025-07-22T13:32:20.885-0400	INFO	modules/observability.go:300	current topoObject is 	{"ctrlObj": "&ConfigMap{ObjectMeta:{karavi-topology-configmap  isilon    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Data:map[string]string{karavi-topology.yaml: PROVISIONER_NAMES: csi-isilon.dellemc.com,csi-vxflexos.dellemc.com,csi-powermax.dellemc.com\nLOG_LEVEL: INFO\nLOG_FORMAT: text\nZIPKIN_URI: \"\"\nZIPKIN_SERVICE_NAME: karavi-topology\nZIPKIN_PROBABILITY: 0.0\n,},BinaryData:map[string][]byte{},Immutable:nil,}"}
2025-07-22T13:32:20.885-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-topology-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.885-0400	INFO	modules/observability.go:300	current topoObject is 	{"ctrlObj": "&ServiceAccount{ObjectMeta:{karavi-observability-topology-controller  isilon    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,}"}
2025-07-22T13:32:20.885-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-observability-topology-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.885-0400	INFO	modules/observability.go:300	current topoObject is 	{"ctrlObj": "&ClusterRole{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list],APIGroups:[],Resources:[persistentvolumes],ResourceNames:[],NonResourceURLs:[],},},AggregationRule:nil,}"}
2025-07-22T13:32:20.885-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.885-0400	INFO	modules/observability.go:300	current topoObject is 	{"ctrlObj": "&ClusterRoleBinding{ObjectMeta:{karavi-observability-topology-controller      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:karavi-observability-topology-controller,Namespace:isilon,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:ClusterRole,Name:karavi-observability-topology-controller,},}"}
2025-07-22T13:32:20.886-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-observability-topology-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.886-0400	INFO	modules/observability.go:300	current topoObject is 	{"ctrlObj": "&Service{ObjectMeta:{karavi-topology  isilon    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:karavi-topology,Protocol:,Port:8443,TargetPort:{0 8443 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},}"}
2025-07-22T13:32:20.886-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-topology", "Kind:": "Service"}
2025-07-22T13:32:20.886-0400	INFO	modules/observability.go:300	current topoObject is 	{"ctrlObj": "&Deployment{ObjectMeta:{karavi-topology  isilon    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{app.kubernetes.io/instance: karavi-observability,app.kubernetes.io/name: karavi-topology,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[app.kubernetes.io/instance:karavi-observability app.kubernetes.io/name:karavi-topology csm:isilon csmNamespace:isilon] map[] [] [] []} {[{karavi-topology-secret-volume {nil nil nil nil nil SecretVolumeSource{SecretName:karavi-topology-tls,Items:[]KeyToPath{KeyToPath{Key:tls.crt,Path:localhost.crt,Mode:nil,},KeyToPath{Key:tls.key,Path:localhost.key,Mode:nil,},},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {karavi-topology-configmap {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil &ConfigMapVolumeSource{LocalObjectReference:LocalObjectReference{Name:karavi-topology-configmap,},Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil}}] [] [{karavi-topology quay.io/dell/container-storage-modules/csm-topology:nightly [] []  [] [] [{PORT 8443 nil} {DEBUG false nil}] {map[] map[] []} [] <nil> [{karavi-topology-secret-volume false <nil> /certs  <nil> } {karavi-topology-configmap false <nil> /etc/config  <nil> }] [] nil nil nil nil    nil false false false}] [] Always <nil> <nil>  map[]  karavi-observability-topology-controller <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,TerminatingReplicas:nil,},}"}
2025-07-22T13:32:20.886-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-topology", "Kind:": "Deployment"}
=== RUN   TestObservabilityTopologyController/Fail_-_observability_module_not_found
--- PASS: TestObservabilityTopologyController (0.01s)
    --- PASS: TestObservabilityTopologyController/success_-_deleting (0.00s)
    --- PASS: TestObservabilityTopologyController/success_-_creating (0.00s)
    --- PASS: TestObservabilityTopologyController/Fail_-_observability_module_not_found (0.00s)
=== RUN   TestPowerScaleMetrics
=== RUN   TestPowerScaleMetrics/success_-_creating
2025-07-22T13:32:20.895-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.895-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.895-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.895-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "Role"}
2025-07-22T13:32:20.895-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.895-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-07-22T13:32:20.895-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.895-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "isilon-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.895-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powerscale"}
2025-07-22T13:32:20.896-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powerscale\" not found"}
2025-07-22T13:32:20.896-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powerscale"}
2025-07-22T13:32:20.896-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powerscale"}
=== RUN   TestPowerScaleMetrics/success_-_creating_with_auth
2025-07-22T13:32:20.902-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.902-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.902-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.902-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "Role"}
2025-07-22T13:32:20.902-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.902-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-07-22T13:32:20.902-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.902-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "isilon-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.902-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powerscale"}
2025-07-22T13:32:20.902-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powerscale\" not found"}
2025-07-22T13:32:20.902-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powerscale"}
2025-07-22T13:32:20.902-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powerscale"}
=== RUN   TestPowerScaleMetrics/success_-_update_objects
2025-07-22T13:32:20.910-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.910-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.910-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.910-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "Role"}
2025-07-22T13:32:20.910-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.910-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-07-22T13:32:20.910-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.910-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "isilon-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.910-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powerscale"}
2025-07-22T13:32:20.910-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "Deployment.apps \"karavi-metrics-powerscale\" not found"}
2025-07-22T13:32:20.910-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powerscale"}
2025-07-22T13:32:20.910-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powerscale"}
2025-07-22T13:32:20.915-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.915-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.916-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.916-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "Role"}
2025-07-22T13:32:20.916-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.916-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-07-22T13:32:20.916-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.916-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "isilon-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.916-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powerscale"}
2025-07-22T13:32:20.916-0400	INFO	deployment/deployment.go:47	found deployment	{"image": "quay.io/dell/container-storage-modules/csm-metrics-powerscale:v1.9.0"}
2025-07-22T13:32:20.916-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powerscale"}
=== RUN   TestPowerScaleMetrics/Fail_-_wrong_module_name
=== RUN   TestPowerScaleMetrics/success_-_deleting
2025-07-22T13:32:20.922-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount", "Namespace:": "isilon"}
2025-07-22T13:32:20.923-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.923-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.923-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "Role", "Namespace:": "isilon"}
2025-07-22T13:32:20.923-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "RoleBinding", "Namespace:": "isilon"}
2025-07-22T13:32:20.923-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerscale", "Kind:": "Service", "Namespace:": "isilon"}
2025-07-22T13:32:20.923-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap", "Namespace:": "isilon"}
2025-07-22T13:32:20.923-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "isilon-config-params", "Kind:": "ConfigMap", "Namespace:": "isilon"}
2025-07-22T13:32:20.923-0400	INFO	modules/observability.go:481	error getting deployment	{"deploymentKey": "isilon/karavi-metrics-powerscale"}
=== RUN   TestPowerScaleMetrics/success_-_deleting_with_auth
2025-07-22T13:32:20.930-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount", "Namespace:": "isilon"}
2025-07-22T13:32:20.930-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.930-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.930-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "Role", "Namespace:": "isilon"}
2025-07-22T13:32:20.930-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "RoleBinding", "Namespace:": "isilon"}
2025-07-22T13:32:20.930-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerscale", "Kind:": "Service", "Namespace:": "isilon"}
2025-07-22T13:32:20.930-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap", "Namespace:": "isilon"}
2025-07-22T13:32:20.930-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "isilon-config-params", "Kind:": "ConfigMap", "Namespace:": "isilon"}
2025-07-22T13:32:20.930-0400	INFO	modules/observability.go:481	error getting deployment	{"deploymentKey": "isilon/karavi-metrics-powerscale"}
=== RUN   TestPowerScaleMetrics/success_-_deleting_with_auth_after_one_cycle
2025-07-22T13:32:20.935-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.935-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.935-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.935-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "Role"}
2025-07-22T13:32:20.935-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.935-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-07-22T13:32:20.935-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.935-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "isilon-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.935-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powerscale"}
2025-07-22T13:32:20.935-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powerscale\" not found"}
2025-07-22T13:32:20.935-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powerscale"}
2025-07-22T13:32:20.935-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powerscale"}
2025-07-22T13:32:20.942-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.942-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.942-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.942-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "Role"}
2025-07-22T13:32:20.943-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerscale-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.943-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerscale", "Kind:": "Service"}
2025-07-22T13:32:20.943-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerscale-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.943-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "isilon-config-params", "Kind:": "ConfigMap"}
--- PASS: TestPowerScaleMetrics (0.06s)
    --- PASS: TestPowerScaleMetrics/success_-_creating (0.01s)
    --- PASS: TestPowerScaleMetrics/success_-_creating_with_auth (0.01s)
    --- PASS: TestPowerScaleMetrics/success_-_update_objects (0.01s)
    --- PASS: TestPowerScaleMetrics/Fail_-_wrong_module_name (0.00s)
    --- PASS: TestPowerScaleMetrics/success_-_deleting (0.01s)
    --- PASS: TestPowerScaleMetrics/success_-_deleting_with_auth (0.01s)
    --- PASS: TestPowerScaleMetrics/success_-_deleting_with_auth_after_one_cycle (0.01s)
=== RUN   TestOtelCollector
=== RUN   TestOtelCollector/success_-_with_older_otel_image
2025-07-22T13:32:20.947-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.947-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.947-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "otel-collector", "Kind:": "Service"}
2025-07-22T13:32:20.947-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "otel-collector", "Kind:": "Deployment"}
=== RUN   TestOtelCollector/Fail_-_wrong_module_name
=== RUN   TestOtelCollector/success_-_deleting
2025-07-22T13:32:20.950-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "otel-collector-config", "Kind:": "ConfigMap", "Namespace:": "isilon"}
2025-07-22T13:32:20.951-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "nginx-config", "Kind:": "ConfigMap", "Namespace:": "isilon"}
2025-07-22T13:32:20.951-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "otel-collector", "Kind:": "Service", "Namespace:": "isilon"}
2025-07-22T13:32:20.951-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "otel-collector", "Kind:": "Deployment", "Namespace:": "isilon"}
=== RUN   TestOtelCollector/success_-_creating
2025-07-22T13:32:20.954-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "otel-collector-config", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.955-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "nginx-config", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.955-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "otel-collector", "Kind:": "Service"}
2025-07-22T13:32:20.955-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "otel-collector", "Kind:": "Deployment"}
--- PASS: TestOtelCollector (0.01s)
    --- PASS: TestOtelCollector/success_-_with_older_otel_image (0.00s)
    --- PASS: TestOtelCollector/Fail_-_wrong_module_name (0.00s)
    --- PASS: TestOtelCollector/success_-_deleting (0.00s)
    --- PASS: TestOtelCollector/success_-_creating (0.00s)
=== RUN   TestPowerFlexMetrics
=== RUN   TestPowerFlexMetrics/success_-_deleting
2025-07-22T13:32:20.961-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount", "Namespace:": "test-vxflexos"}
2025-07-22T13:32:20.961-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.961-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.961-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "Role", "Namespace:": "test-vxflexos"}
2025-07-22T13:32:20.961-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "RoleBinding", "Namespace:": "test-vxflexos"}
2025-07-22T13:32:20.961-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex", "Kind:": "Service", "Namespace:": "test-vxflexos"}
2025-07-22T13:32:20.961-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap", "Namespace:": "test-vxflexos"}
2025-07-22T13:32:20.961-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "test-vxflexos-config-params", "Kind:": "ConfigMap", "Namespace:": "test-vxflexos"}
2025-07-22T13:32:20.961-0400	INFO	modules/observability.go:815	error getting deployment	{"deploymentKey": "test-vxflexos/karavi-metrics-powerflex"}
=== RUN   TestPowerFlexMetrics/success_-_deleting_with_auth
2025-07-22T13:32:20.968-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount", "Namespace:": "test-vxflexos"}
2025-07-22T13:32:20.968-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:20.968-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:20.968-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "Role", "Namespace:": "test-vxflexos"}
2025-07-22T13:32:20.968-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "RoleBinding", "Namespace:": "test-vxflexos"}
2025-07-22T13:32:20.968-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex", "Kind:": "Service", "Namespace:": "test-vxflexos"}
2025-07-22T13:32:20.968-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap", "Namespace:": "test-vxflexos"}
2025-07-22T13:32:20.968-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "test-vxflexos-config-params", "Kind:": "ConfigMap", "Namespace:": "test-vxflexos"}
2025-07-22T13:32:20.968-0400	INFO	modules/observability.go:815	error getting deployment	{"deploymentKey": "test-vxflexos/karavi-metrics-powerflex"}
=== RUN   TestPowerFlexMetrics/success_-_deleting_with_auth_after_one_cycle
2025-07-22T13:32:20.974-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.974-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.974-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.974-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "Role"}
2025-07-22T13:32:20.974-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.974-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-07-22T13:32:20.974-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.974-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "test-vxflexos-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.974-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powerflex"}
2025-07-22T13:32:20.974-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powerflex\" not found"}
2025-07-22T13:32:20.974-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powerflex"}
2025-07-22T13:32:20.975-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powerflex"}
2025-07-22T13:32:20.981-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.981-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.981-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.982-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "Role"}
2025-07-22T13:32:20.982-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.982-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-07-22T13:32:20.982-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.982-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "test-vxflexos-config-params", "Kind:": "ConfigMap"}
=== RUN   TestPowerFlexMetrics/success_-_creating
2025-07-22T13:32:20.987-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.987-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.987-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.987-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "Role"}
2025-07-22T13:32:20.987-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.988-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-07-22T13:32:20.988-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.988-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "test-vxflexos-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.988-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powerflex"}
2025-07-22T13:32:20.988-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powerflex\" not found"}
2025-07-22T13:32:20.988-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powerflex"}
2025-07-22T13:32:20.988-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powerflex"}
=== RUN   TestPowerFlexMetrics/success_-_creating_with_auth
2025-07-22T13:32:20.994-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:20.994-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:20.994-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:20.994-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "Role"}
2025-07-22T13:32:20.994-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:20.994-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-07-22T13:32:20.994-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.994-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "test-vxflexos-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:20.994-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powerflex"}
2025-07-22T13:32:20.994-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powerflex\" not found"}
2025-07-22T13:32:20.994-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powerflex"}
2025-07-22T13:32:20.994-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powerflex"}
=== RUN   TestPowerFlexMetrics/success_-_update_objects
2025-07-22T13:32:21.000-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.000-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.000-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.000-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "Role"}
2025-07-22T13:32:21.000-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.000-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-07-22T13:32:21.000-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.000-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "test-vxflexos-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.001-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powerflex"}
2025-07-22T13:32:21.001-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "Deployment.apps \"karavi-metrics-powerflex\" not found"}
2025-07-22T13:32:21.001-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powerflex"}
2025-07-22T13:32:21.001-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powerflex"}
2025-07-22T13:32:21.005-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.005-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.005-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.005-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "Role"}
2025-07-22T13:32:21.005-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerflex-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.006-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerflex", "Kind:": "Service"}
2025-07-22T13:32:21.006-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powerflex-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.006-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "test-vxflexos-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.006-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powerflex"}
2025-07-22T13:32:21.006-0400	INFO	deployment/deployment.go:47	found deployment	{"image": "quay.io/dell/container-storage-modules/csm-metrics-powerflex:v1.12.0"}
2025-07-22T13:32:21.006-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powerflex"}
=== RUN   TestPowerFlexMetrics/Fail_-_wrong_module_name
--- PASS: TestPowerFlexMetrics (0.05s)
    --- PASS: TestPowerFlexMetrics/success_-_deleting (0.01s)
    --- PASS: TestPowerFlexMetrics/success_-_deleting_with_auth (0.01s)
    --- PASS: TestPowerFlexMetrics/success_-_deleting_with_auth_after_one_cycle (0.01s)
    --- PASS: TestPowerFlexMetrics/success_-_creating (0.01s)
    --- PASS: TestPowerFlexMetrics/success_-_creating_with_auth (0.01s)
    --- PASS: TestPowerFlexMetrics/success_-_update_objects (0.01s)
    --- PASS: TestPowerFlexMetrics/Fail_-_wrong_module_name (0.00s)
=== RUN   TestPowerStoreMetrics
=== RUN   TestPowerStoreMetrics/success_-_deleting
2025-07-22T13:32:21.031-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "ServiceAccount", "Namespace:": "powerstore"}
2025-07-22T13:32:21.031-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.031-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:21.031-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "Role", "Namespace:": "powerstore"}
2025-07-22T13:32:21.031-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "RoleBinding", "Namespace:": "powerstore"}
2025-07-22T13:32:21.031-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerstore", "Kind:": "Service", "Namespace:": "powerstore"}
2025-07-22T13:32:21.031-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powerstore-configmap", "Kind:": "ConfigMap", "Namespace:": "powerstore"}
2025-07-22T13:32:21.031-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "powerstore-config-params", "Kind:": "ConfigMap", "Namespace:": "powerstore"}
2025-07-22T13:32:21.031-0400	INFO	modules/observability.go:546	error getting deployment	{"deploymentKey": "powerstore/karavi-metrics-powerstore"}
=== RUN   TestPowerStoreMetrics/success_-_creating
2025-07-22T13:32:21.035-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.035-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.035-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.035-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "Role"}
2025-07-22T13:32:21.035-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.035-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore", "Kind:": "Service"}
2025-07-22T13:32:21.036-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.036-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "powerstore-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.036-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powerstore"}
2025-07-22T13:32:21.036-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powerstore\" not found"}
2025-07-22T13:32:21.036-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powerstore"}
2025-07-22T13:32:21.036-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powerstore"}
=== RUN   TestPowerStoreMetrics/success_-_deleting_after_one_cycle
2025-07-22T13:32:21.041-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.041-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.041-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.041-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "Role"}
2025-07-22T13:32:21.041-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.041-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore", "Kind:": "Service"}
2025-07-22T13:32:21.041-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powerstore-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.041-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "powerstore-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.041-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powerstore"}
2025-07-22T13:32:21.042-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powerstore\" not found"}
2025-07-22T13:32:21.042-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powerstore"}
2025-07-22T13:32:21.042-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powerstore"}
2025-07-22T13:32:21.046-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.046-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.046-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.046-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "Role"}
2025-07-22T13:32:21.046-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerstore-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.047-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerstore", "Kind:": "Service"}
2025-07-22T13:32:21.047-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powerstore-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.047-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "powerstore-config-params", "Kind:": "ConfigMap"}
=== RUN   TestPowerStoreMetrics/Fail_-_wrong_module_name
--- PASS: TestPowerStoreMetrics (0.04s)
    --- PASS: TestPowerStoreMetrics/success_-_deleting (0.02s)
    --- PASS: TestPowerStoreMetrics/success_-_creating (0.00s)
    --- PASS: TestPowerStoreMetrics/success_-_deleting_after_one_cycle (0.01s)
    --- PASS: TestPowerStoreMetrics/Fail_-_wrong_module_name (0.00s)
=== RUN   TestPowerMaxMetrics
=== RUN   TestPowerMaxMetrics/success_-_creating
2025-07-22T13:32:21.054-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.055-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.055-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.055-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "Role"}
2025-07-22T13:32:21.055-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.055-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax", "Kind:": "Service"}
2025-07-22T13:32:21.055-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.055-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "test-powermax-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.055-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powermax"}
2025-07-22T13:32:21.055-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powermax\" not found"}
2025-07-22T13:32:21.055-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powermax"}
2025-07-22T13:32:21.055-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powermax"}
=== RUN   TestPowerMaxMetrics/success_-_creating_with_auth
2025-07-22T13:32:21.060-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.060-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.060-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.061-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "Role"}
2025-07-22T13:32:21.061-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.061-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax", "Kind:": "Service"}
2025-07-22T13:32:21.061-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.061-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "test-powermax-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.061-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powermax"}
2025-07-22T13:32:21.061-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powermax\" not found"}
2025-07-22T13:32:21.061-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powermax"}
2025-07-22T13:32:21.061-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powermax"}
=== RUN   TestPowerMaxMetrics/success_-_update_objects
2025-07-22T13:32:21.066-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.066-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.066-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.066-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "Role"}
2025-07-22T13:32:21.066-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.067-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax", "Kind:": "Service"}
2025-07-22T13:32:21.067-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.067-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "test-powermax-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.067-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powermax"}
2025-07-22T13:32:21.067-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "Deployment.apps \"karavi-metrics-powermax\" not found"}
2025-07-22T13:32:21.067-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powermax"}
2025-07-22T13:32:21.067-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powermax"}
2025-07-22T13:32:21.071-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.071-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.071-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.072-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "Role"}
2025-07-22T13:32:21.072-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.072-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powermax", "Kind:": "Service"}
2025-07-22T13:32:21.072-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "karavi-metrics-powermax-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.072-0400	INFO	operatorutils/utils.go:804	Updating a new Object	{"Name:": "test-powermax-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.072-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powermax"}
2025-07-22T13:32:21.072-0400	INFO	deployment/deployment.go:47	found deployment	{"image": "quay.io/dell/container-storage-modules/csm-metrics-powermax:v1.7.0"}
2025-07-22T13:32:21.072-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powermax"}
=== RUN   TestPowerMaxMetrics/success_-_dynamically_mount_secret_(2.14.0+)
2025-07-22T13:32:21.096-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.096-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.096-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.096-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "Role"}
2025-07-22T13:32:21.096-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.096-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax", "Kind:": "Service"}
2025-07-22T13:32:21.096-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.096-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "test-powermax-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.097-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powermax"}
2025-07-22T13:32:21.097-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powermax\" not found"}
2025-07-22T13:32:21.097-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powermax"}
2025-07-22T13:32:21.097-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powermax"}
=== RUN   TestPowerMaxMetrics/success_-_dynamically_mount_configMap_(2.14.0+)
2025-07-22T13:32:21.102-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.102-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.102-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.102-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "Role"}
2025-07-22T13:32:21.102-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.102-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax", "Kind:": "Service"}
2025-07-22T13:32:21.102-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.102-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "test-powermax-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.102-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powermax"}
2025-07-22T13:32:21.102-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powermax\" not found"}
2025-07-22T13:32:21.102-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powermax"}
2025-07-22T13:32:21.103-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powermax"}
=== RUN   TestPowerMaxMetrics/Fail_-_wrong_module_name
=== RUN   TestPowerMaxMetrics/success_-_deleting
2025-07-22T13:32:21.110-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ServiceAccount", "Namespace:": "test-powermax"}
2025-07-22T13:32:21.110-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.110-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:21.110-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "Role", "Namespace:": "test-powermax"}
2025-07-22T13:32:21.110-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "RoleBinding", "Namespace:": "test-powermax"}
2025-07-22T13:32:21.110-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powermax", "Kind:": "Service", "Namespace:": "test-powermax"}
2025-07-22T13:32:21.110-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powermax-configmap", "Kind:": "ConfigMap", "Namespace:": "test-powermax"}
2025-07-22T13:32:21.110-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "test-powermax-config-params", "Kind:": "ConfigMap", "Namespace:": "test-powermax"}
2025-07-22T13:32:21.110-0400	INFO	modules/observability.go:1055	error getting deployment	{"deploymentKey": "test-powermax/karavi-metrics-powermax"}
=== RUN   TestPowerMaxMetrics/success_-_deleting_with_auth
2025-07-22T13:32:21.115-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ServiceAccount", "Namespace:": "test-powermax"}
2025-07-22T13:32:21.115-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.115-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:21.115-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "Role", "Namespace:": "test-powermax"}
2025-07-22T13:32:21.115-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "RoleBinding", "Namespace:": "test-powermax"}
2025-07-22T13:32:21.115-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powermax", "Kind:": "Service", "Namespace:": "test-powermax"}
2025-07-22T13:32:21.115-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "karavi-metrics-powermax-configmap", "Kind:": "ConfigMap", "Namespace:": "test-powermax"}
2025-07-22T13:32:21.115-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "test-powermax-config-params", "Kind:": "ConfigMap", "Namespace:": "test-powermax"}
2025-07-22T13:32:21.115-0400	INFO	modules/observability.go:1055	error getting deployment	{"deploymentKey": "test-powermax/karavi-metrics-powermax"}
=== RUN   TestPowerMaxMetrics/success_-_deleting_with_auth_after_one_cycle
2025-07-22T13:32:21.122-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.122-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.122-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.122-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "Role"}
2025-07-22T13:32:21.122-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.122-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax", "Kind:": "Service"}
2025-07-22T13:32:21.122-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "karavi-metrics-powermax-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.122-0400	INFO	operatorutils/utils.go:794	Creating a new Object	{"Name:": "test-powermax-config-params", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.122-0400	INFO	deployment/deployment.go:35	Sync Deployment:	{"name": "karavi-metrics-powermax"}
2025-07-22T13:32:21.122-0400	ERROR	deployment/deployment.go:41	get SyncDeployment error	{"Error": "deployments.apps \"karavi-metrics-powermax\" not found"}
2025-07-22T13:32:21.122-0400	INFO	deployment/deployment.go:45	No existing Deployment	{"Name:": "karavi-metrics-powermax"}
2025-07-22T13:32:21.122-0400	INFO	deployment/deployment.go:56	deployment apply done	{"name": "karavi-metrics-powermax"}
2025-07-22T13:32:21.126-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.126-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.126-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.126-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "Role"}
2025-07-22T13:32:21.126-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powermax-controller", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.126-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powermax", "Kind:": "Service"}
2025-07-22T13:32:21.126-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "karavi-metrics-powermax-configmap", "Kind:": "ConfigMap"}
2025-07-22T13:32:21.126-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "test-powermax-config-params", "Kind:": "ConfigMap"}
=== RUN   TestPowerMaxMetrics/Fail_-_invalid_config_version
--- PASS: TestPowerMaxMetrics (0.08s)
    --- PASS: TestPowerMaxMetrics/success_-_creating (0.01s)
    --- PASS: TestPowerMaxMetrics/success_-_creating_with_auth (0.01s)
    --- PASS: TestPowerMaxMetrics/success_-_update_objects (0.01s)
    --- PASS: TestPowerMaxMetrics/success_-_dynamically_mount_secret_(2.14.0+) (0.02s)
    --- PASS: TestPowerMaxMetrics/success_-_dynamically_mount_configMap_(2.14.0+) (0.01s)
    --- PASS: TestPowerMaxMetrics/Fail_-_wrong_module_name (0.00s)
    --- PASS: TestPowerMaxMetrics/success_-_deleting (0.01s)
    --- PASS: TestPowerMaxMetrics/success_-_deleting_with_auth (0.01s)
    --- PASS: TestPowerMaxMetrics/success_-_deleting_with_auth_after_one_cycle (0.01s)
    --- PASS: TestPowerMaxMetrics/Fail_-_invalid_config_version (0.01s)
=== RUN   TestObservabilityCertIssuer
=== RUN   TestObservabilityCertIssuer/fail_-_observability_module_not_found
=== RUN   TestObservabilityCertIssuer/fail_-_observability_deployment_file_bad_yaml
=== RUN   TestObservabilityCertIssuer/fail_-_observability_config_file_not_found
=== RUN   TestObservabilityCertIssuer/success_-_creating_with_self-signed_cert
2025-07-22T13:32:21.137-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-07-22T13:32:21.137-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "karavi-topology", "Kind:": "Certificate"}
2025-07-22T13:32:21.138-0400	INFO	operatorutils/utils.go:765	Updating a new Object	{"Name:": "selfsigned-issuer", "Kind:": "Issuer"}
2025-07-22T13:32:21.138-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "otel-collector", "Kind:": "Certificate"}
=== RUN   TestObservabilityCertIssuer/success_-_creating_with_custom_cert
2025-07-22T13:32:21.143-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "karavi-topology-secret", "Kind:": "Secret"}
2025-07-22T13:32:21.143-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "karavi-topology-issuer", "Kind:": "Issuer"}
2025-07-22T13:32:21.143-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "karavi-topology", "Kind:": "Certificate"}
2025-07-22T13:32:21.145-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "otel-collector-secret", "Kind:": "Secret"}
2025-07-22T13:32:21.146-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "otel-collector-issuer", "Kind:": "Issuer"}
2025-07-22T13:32:21.146-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "otel-collector", "Kind:": "Certificate"}
=== RUN   TestObservabilityCertIssuer/fail_-_creating_with_partial_custom_cert
--- PASS: TestObservabilityCertIssuer (0.03s)
    --- PASS: TestObservabilityCertIssuer/fail_-_observability_module_not_found (0.00s)
    --- PASS: TestObservabilityCertIssuer/fail_-_observability_deployment_file_bad_yaml (0.00s)
    --- PASS: TestObservabilityCertIssuer/fail_-_observability_config_file_not_found (0.00s)
    --- PASS: TestObservabilityCertIssuer/success_-_creating_with_self-signed_cert (0.00s)
    --- PASS: TestObservabilityCertIssuer/success_-_creating_with_custom_cert (0.01s)
    --- PASS: TestObservabilityCertIssuer/fail_-_creating_with_partial_custom_cert (0.02s)
=== RUN   TestSetPowerMaxMetricsConfigMap
=== RUN   TestSetPowerMaxMetricsConfigMap/success_-_dynamically_mount_configMap
=== RUN   TestSetPowerMaxMetricsConfigMap/Fail_-_wrong_module_name
--- PASS: TestSetPowerMaxMetricsConfigMap (0.00s)
    --- PASS: TestSetPowerMaxMetricsConfigMap/success_-_dynamically_mount_configMap (0.00s)
    --- PASS: TestSetPowerMaxMetricsConfigMap/Fail_-_wrong_module_name (0.00s)
=== RUN   TestReplicationInjectDeployment
=== RUN   TestReplicationInjectDeployment/success_-_greenfield_injection
=== RUN   TestReplicationInjectDeployment/success_-_powermax_injection
=== RUN   TestReplicationInjectDeployment/fail_-_bad_config_path
--- PASS: TestReplicationInjectDeployment (0.03s)
    --- PASS: TestReplicationInjectDeployment/success_-_greenfield_injection (0.01s)
    --- PASS: TestReplicationInjectDeployment/success_-_powermax_injection (0.01s)
    --- PASS: TestReplicationInjectDeployment/fail_-_bad_config_path (0.01s)
=== RUN   TestReplicationInjectClusterRole
=== RUN   TestReplicationInjectClusterRole/fail_-_bad_config_path
=== RUN   TestReplicationInjectClusterRole/success_-_greenfield_injection
--- PASS: TestReplicationInjectClusterRole (0.02s)
    --- PASS: TestReplicationInjectClusterRole/fail_-_bad_config_path (0.01s)
    --- PASS: TestReplicationInjectClusterRole/success_-_greenfield_injection (0.01s)
=== RUN   TestReplicationPreCheck
=== RUN   TestReplicationPreCheck/success
2025-07-22T13:32:21.214-0400	INFO	modules/replication.go:333	
performing pre checks for: default-source-cluster
=== RUN   TestReplicationPreCheck/success_-_driver_type_PowerFlex
2025-07-22T13:32:21.216-0400	INFO	modules/replication.go:340	
performing pre checks for: default-source-cluster
2025-07-22T13:32:21.216-0400	INFO	drivers/powerflex.go:250	For systemID %s configured System Names found %#v ID1[ID1-pflex-system]
=== RUN   TestReplicationPreCheck/success_-_driver_type_PowerStore
2025-07-22T13:32:21.217-0400	INFO	modules/replication.go:347	
performing pre checks for: default-source-cluster
=== RUN   TestReplicationPreCheck/fail_-_less_than_one_cluster_set
=== RUN   TestReplicationPreCheck/fail_-_unsupported_replication_version
=== RUN   TestReplicationPreCheck/success_-_version_provided
2025-07-22T13:32:21.218-0400	INFO	modules/replication.go:333	
performing pre checks for: default-source-cluster
=== RUN   TestReplicationPreCheck/fail_-_replica_driver_pre-check
=== RUN   TestReplicationPreCheck/fail_-_no_cluster_config_secret_found
=== RUN   TestReplicationPreCheck/fail_-_unsupported_driver_replication
--- PASS: TestReplicationPreCheck (0.01s)
    --- PASS: TestReplicationPreCheck/success (0.00s)
    --- PASS: TestReplicationPreCheck/success_-_driver_type_PowerFlex (0.00s)
    --- PASS: TestReplicationPreCheck/success_-_driver_type_PowerStore (0.00s)
    --- PASS: TestReplicationPreCheck/fail_-_less_than_one_cluster_set (0.00s)
    --- PASS: TestReplicationPreCheck/fail_-_unsupported_replication_version (0.00s)
    --- PASS: TestReplicationPreCheck/success_-_version_provided (0.00s)
    --- PASS: TestReplicationPreCheck/fail_-_replica_driver_pre-check (0.00s)
    --- PASS: TestReplicationPreCheck/fail_-_no_cluster_config_secret_found (0.00s)
    --- PASS: TestReplicationPreCheck/fail_-_unsupported_driver_replication (0.00s)
=== RUN   TestReplicationManagerController
=== RUN   TestReplicationManagerController/success_-_deleting
2025-07-22T13:32:21.226-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "dell-replication-controller", "Kind:": "Namespace", "Namespace:": ""}
2025-07-22T13:32:21.226-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "dell-replication-controller-sa", "Kind:": "ServiceAccount", "Namespace:": "dell-replication-controller"}
2025-07-22T13:32:21.226-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "dell-replication-manager-role", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.226-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "dell-replication-metrics-reader", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:21.226-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "dell-replication-proxy-role", "Kind:": "ClusterRole", "Namespace:": ""}
2025-07-22T13:32:21.226-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "dell-replication-manager-role", "Kind:": "Role", "Namespace:": "dell-replication-controller"}
2025-07-22T13:32:21.226-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "replication-secret", "Kind:": "Secret", "Namespace:": "dell-replication-controller"}
2025-07-22T13:32:21.226-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "dell-replication-manager-rolebinding", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:21.226-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "dell-replication-manager-rolebinding", "Kind:": "RoleBinding", "Namespace:": "dell-replication-controller"}
2025-07-22T13:32:21.226-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "dell-replication-proxy-rolebinding", "Kind:": "ClusterRoleBinding", "Namespace:": ""}
2025-07-22T13:32:21.226-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "dell-replication-controller-manager-metrics-service", "Kind:": "Service", "Namespace:": "dell-replication-controller"}
2025-07-22T13:32:21.226-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "dell-replication-controller-manager", "Kind:": "Deployment", "Namespace:": "dell-replication-controller"}
=== RUN   TestReplicationManagerController/success_-_creating
2025-07-22T13:32:21.233-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dell-replication-controller", "Kind:": "Namespace"}
2025-07-22T13:32:21.233-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dell-replication-controller-sa", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.233-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dell-replication-manager-role", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.233-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dell-replication-metrics-reader", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.234-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dell-replication-proxy-role", "Kind:": "ClusterRole"}
2025-07-22T13:32:21.234-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dell-replication-manager-role", "Kind:": "Role"}
2025-07-22T13:32:21.234-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "replication-secret", "Kind:": "Secret"}
2025-07-22T13:32:21.234-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dell-replication-manager-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.234-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dell-replication-manager-rolebinding", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.234-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dell-replication-proxy-rolebinding", "Kind:": "ClusterRoleBinding"}
2025-07-22T13:32:21.234-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dell-replication-controller-manager-metrics-service", "Kind:": "Service"}
2025-07-22T13:32:21.234-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dell-replication-controller-manager", "Kind:": "Deployment"}
--- PASS: TestReplicationManagerController (0.01s)
    --- PASS: TestReplicationManagerController/success_-_deleting (0.01s)
    --- PASS: TestReplicationManagerController/success_-_creating (0.01s)
=== RUN   TestReplicationConfigmap
--- PASS: TestReplicationConfigmap (0.00s)
=== RUN   TestGetReplicationCrdDeploy
--- PASS: TestGetReplicationCrdDeploy (0.00s)
=== RUN   TestReplicationCrdDeployAndDelete
=== RUN   TestReplicationCrdDeployAndDelete/success_case
2025-07-22T13:32:21.245-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dellcsimigrationgroups.replication.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:21.245-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "dellcsireplicationgroups.replication.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:21.249-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "dellcsimigrationgroups.replication.storage.dell.com", "Kind:": "CustomResourceDefinition"}
2025-07-22T13:32:21.250-0400	INFO	operatorutils/utils.go:736	Deleting object	{"Name:": "dellcsireplicationgroups.replication.storage.dell.com", "Kind:": "CustomResourceDefinition"}
=== RUN   TestReplicationCrdDeployAndDelete/failure_invalid_config_dir
=== RUN   TestReplicationCrdDeployAndDelete/failure_case_no_repl_cr
--- PASS: TestReplicationCrdDeployAndDelete (0.01s)
    --- PASS: TestReplicationCrdDeployAndDelete/success_case (0.01s)
    --- PASS: TestReplicationCrdDeployAndDelete/failure_invalid_config_dir (0.00s)
    --- PASS: TestReplicationCrdDeployAndDelete/failure_case_no_repl_cr (0.00s)
=== RUN   TestResiliencyInjectDeployment
=== RUN   TestResiliencyInjectDeployment/success_-_valid_Powerscale_driver_name
=== RUN   TestResiliencyInjectDeployment/success_-_valid_Powerflex_driver_name
=== RUN   TestResiliencyInjectDeployment/success_-_valid_PowerMax_driver_name
=== RUN   TestResiliencyInjectDeployment/fail_-_bad_PowerMax_config_path
=== RUN   TestResiliencyInjectDeployment/success_-_greenfield_injection
=== RUN   TestResiliencyInjectDeployment/success_-_brownfield_injection
=== RUN   TestResiliencyInjectDeployment/fail_-_bad_config_path
--- PASS: TestResiliencyInjectDeployment (0.06s)
    --- PASS: TestResiliencyInjectDeployment/success_-_valid_Powerscale_driver_name (0.01s)
    --- PASS: TestResiliencyInjectDeployment/success_-_valid_Powerflex_driver_name (0.01s)
    --- PASS: TestResiliencyInjectDeployment/success_-_valid_PowerMax_driver_name (0.01s)
    --- PASS: TestResiliencyInjectDeployment/fail_-_bad_PowerMax_config_path (0.01s)
    --- PASS: TestResiliencyInjectDeployment/success_-_greenfield_injection (0.01s)
    --- PASS: TestResiliencyInjectDeployment/success_-_brownfield_injection (0.01s)
    --- PASS: TestResiliencyInjectDeployment/fail_-_bad_config_path (0.01s)
=== RUN   TestResiliencyInjectClusterRole
=== RUN   TestResiliencyInjectClusterRole/success_-_greenfield_injection
=== RUN   TestResiliencyInjectClusterRole/fail_-_bad_config_path
=== RUN   TestResiliencyInjectClusterRole/failure_-_getResiliencyModule_error
--- PASS: TestResiliencyInjectClusterRole (0.02s)
    --- PASS: TestResiliencyInjectClusterRole/success_-_greenfield_injection (0.01s)
    --- PASS: TestResiliencyInjectClusterRole/fail_-_bad_config_path (0.01s)
    --- PASS: TestResiliencyInjectClusterRole/failure_-_getResiliencyModule_error (0.00s)
=== RUN   TestResiliencyInjectRole
=== RUN   TestResiliencyInjectRole/success_-_greenfield_injection
=== RUN   TestResiliencyInjectRole/failure_-_getResiliencyModule_error
=== RUN   TestResiliencyInjectRole/success_-_mode_is_controller
--- PASS: TestResiliencyInjectRole (0.01s)
    --- PASS: TestResiliencyInjectRole/success_-_greenfield_injection (0.01s)
    --- PASS: TestResiliencyInjectRole/failure_-_getResiliencyModule_error (0.00s)
    --- PASS: TestResiliencyInjectRole/success_-_mode_is_controller (0.00s)
=== RUN   TestResiliencyPrecheck
=== RUN   TestResiliencyPrecheck/valid_-_resiliency_module_version_provided
2025-07-22T13:32:21.338-0400	INFO	modules/resiliency.go:91	
performed pre checks for: resiliency
=== RUN   TestResiliencyPrecheck/fail_-_invalid_resiliency_version
2025-07-22T13:32:21.338-0400	ERROR	modules/resiliency.go:86	CSM Operator does not suport Resiliency deployment for this version combination CSM resiliency does not have v100000.0.0 version. The following are supported versions: v1.11.0,v1.12.0,v1.13.0,v1.14.0
=== RUN   TestResiliencyPrecheck/fail_-_unsupported_driver_resiliency
2025-07-22T13:32:21.338-0400	ERROR	modules/resiliency.go:78	CSM Operator does not suport Resiliency deployment for unsupported-driver driver
=== RUN   TestResiliencyPrecheck/success_-_supported_driver_resiliency
2025-07-22T13:32:21.339-0400	INFO	modules/resiliency.go:91	
performed pre checks for: resiliency
--- PASS: TestResiliencyPrecheck (0.00s)
    --- PASS: TestResiliencyPrecheck/valid_-_resiliency_module_version_provided (0.00s)
    --- PASS: TestResiliencyPrecheck/fail_-_invalid_resiliency_version (0.00s)
    --- PASS: TestResiliencyPrecheck/fail_-_unsupported_driver_resiliency (0.00s)
    --- PASS: TestResiliencyPrecheck/success_-_supported_driver_resiliency (0.00s)
=== RUN   TestResiliencyInjectDaemonset
=== RUN   TestResiliencyInjectDaemonset/fail_-_bad_config_path
=== RUN   TestResiliencyInjectDaemonset/success_-_greenfield_injection
=== RUN   TestResiliencyInjectDaemonset/success_-_brownfield_injection
--- PASS: TestResiliencyInjectDaemonset (0.02s)
    --- PASS: TestResiliencyInjectDaemonset/fail_-_bad_config_path (0.01s)
    --- PASS: TestResiliencyInjectDaemonset/success_-_greenfield_injection (0.01s)
    --- PASS: TestResiliencyInjectDaemonset/success_-_brownfield_injection (0.01s)
=== RUN   TestReverseProxyPrecheck
=== RUN   TestReverseProxyPrecheck/success_-_no_components
2025-07-22T13:32:21.362-0400	INFO	modules/reverseproxy.go:121	[ReverseProxyPrecheck] using configmap powermax-reverseproxy-config
2025-07-22T13:32:21.362-0400	INFO	modules/reverseproxy.go:129	
performed pre checks for: csireverseproxy
=== RUN   TestReverseProxyPrecheck/success_-_use_reverse_proxy_secret
2025-07-22T13:32:21.364-0400	INFO	modules/reverseproxy.go:129	
performed pre checks for: csireverseproxy
=== RUN   TestReverseProxyPrecheck/success_-__driver_type_Powermax
2025-07-22T13:32:21.365-0400	INFO	modules/reverseproxy.go:121	[ReverseProxyPrecheck] using configmap powermax-reverseproxy-config
2025-07-22T13:32:21.365-0400	INFO	modules/reverseproxy.go:129	
performed pre checks for: csireverseproxy
=== RUN   TestReverseProxyPrecheck/success_-_auth_injected
2025-07-22T13:32:21.366-0400	INFO	modules/reverseproxy.go:121	[ReverseProxyPrecheck] using configmap powermax-reverseproxy-config
2025-07-22T13:32:21.366-0400	INFO	modules/reverseproxy.go:129	
performed pre checks for: csireverseproxy
=== RUN   TestReverseProxyPrecheck/Fail_-_unsupported_reverseProxy_version
=== RUN   TestReverseProxyPrecheck/Fail_-_unsupported_driver
=== RUN   TestReverseProxyPrecheck/Fail_-_no_secret
=== RUN   TestReverseProxyPrecheck/Fail_-_no_configmap
2025-07-22T13:32:21.368-0400	INFO	modules/reverseproxy.go:121	[ReverseProxyPrecheck] using configmap powermax-reverseproxy-config
--- PASS: TestReverseProxyPrecheck (0.01s)
    --- PASS: TestReverseProxyPrecheck/success_-_no_components (0.00s)
    --- PASS: TestReverseProxyPrecheck/success_-_use_reverse_proxy_secret (0.00s)
    --- PASS: TestReverseProxyPrecheck/success_-__driver_type_Powermax (0.00s)
    --- PASS: TestReverseProxyPrecheck/success_-_auth_injected (0.00s)
    --- PASS: TestReverseProxyPrecheck/Fail_-_unsupported_reverseProxy_version (0.00s)
    --- PASS: TestReverseProxyPrecheck/Fail_-_unsupported_driver (0.00s)
    --- PASS: TestReverseProxyPrecheck/Fail_-_no_secret (0.00s)
    --- PASS: TestReverseProxyPrecheck/Fail_-_no_configmap (0.00s)
=== RUN   TestReverseProxyServer
=== RUN   TestReverseProxyServer/success_-_deleting
2025-07-22T13:32:21.371-0400	INFO	modules/reverseproxy.go:146	Object: &ServiceAccount{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,} -----

2025-07-22T13:32:21.371-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csipowermax-reverseproxy", "Kind:": "ServiceAccount", "Namespace:": "powermax"}
2025-07-22T13:32:21.371-0400	INFO	modules/reverseproxy.go:146	Object: &Role{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list watch get],APIGroups:[],Resources:[secrets],ResourceNames:[],NonResourceURLs:[],},},} -----

2025-07-22T13:32:21.372-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csipowermax-reverseproxy", "Kind:": "Role", "Namespace:": "powermax"}
2025-07-22T13:32:21.372-0400	INFO	modules/reverseproxy.go:146	Object: &RoleBinding{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:csipowermax-reverseproxy,Namespace:powermax,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:Role,Name:csipowermax-reverseproxy,},} -----

2025-07-22T13:32:21.372-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csipowermax-reverseproxy", "Kind:": "RoleBinding", "Namespace:": "powermax"}
2025-07-22T13:32:21.372-0400	INFO	modules/reverseproxy.go:146	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{name: csipowermax-reverseproxy,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----

2025-07-22T13:32:21.372-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csipowermax-reverseproxy", "Kind:": "Service", "Namespace:": "powermax"}
2025-07-22T13:32:21.372-0400	INFO	modules/reverseproxy.go:146	Object: &Deployment{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{name: csipowermax-reverseproxy,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[csmNamespace:powermax name:csipowermax-reverseproxy] map[] [] [] []} {[{tls-secret {nil nil nil nil nil SecretVolumeSource{SecretName:csirevproxy-tls-secret,Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {cert-dir {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}}] [] [{csipowermax-reverseproxy quay.io/dell/container-storage-modules/csipowermax-reverseproxy:v2.14.0 [] []  [] [] [{X_CSI_REVPROXY_CONFIG_DIR /etc/config/configmap nil} {X_CSI_REVPROXY_CONFIG_FILE_NAME config.yaml nil} {X_CSI_REVPROXY_IN_CLUSTER true nil} {X_CSI_REVPROXY_TLS_CERT_DIR /app/tls nil} {X_CSI_REVPROXY_WATCH_NAMESPACE powermax nil}] {map[] map[] []} [] <nil> [{tls-secret false <nil> /app/tls  <nil> } {cert-dir false <nil> /app/certs  <nil> }] [] nil nil nil nil   Always nil false false false}] []  <nil> <nil>  map[] csipowermax-reverseproxy  <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,TerminatingReplicas:nil,},} -----

2025-07-22T13:32:21.373-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csipowermax-reverseproxy", "Kind:": "Deployment", "Namespace:": "powermax"}
2025-07-22T13:32:21.373-0400	INFO	modules/reverseproxy.go:182	Create/Update reverseproxy successful...
=== RUN   TestReverseProxyServer/success_-_creating
2025-07-22T13:32:21.376-0400	INFO	modules/reverseproxy.go:146	Object: &ServiceAccount{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,} -----

2025-07-22T13:32:21.376-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.376-0400	INFO	modules/reverseproxy.go:146	Object: &Role{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list watch get],APIGroups:[],Resources:[secrets],ResourceNames:[],NonResourceURLs:[],},},} -----

2025-07-22T13:32:21.376-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Role"}
2025-07-22T13:32:21.376-0400	INFO	modules/reverseproxy.go:146	Object: &RoleBinding{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:csipowermax-reverseproxy,Namespace:powermax,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:Role,Name:csipowermax-reverseproxy,},} -----

2025-07-22T13:32:21.376-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.376-0400	INFO	modules/reverseproxy.go:146	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{name: csipowermax-reverseproxy,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----

2025-07-22T13:32:21.376-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-07-22T13:32:21.377-0400	INFO	modules/reverseproxy.go:146	Object: &Deployment{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{name: csipowermax-reverseproxy,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[csmNamespace:powermax name:csipowermax-reverseproxy] map[] [] [] []} {[{tls-secret {nil nil nil nil nil SecretVolumeSource{SecretName:csirevproxy-tls-secret,Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {cert-dir {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}}] [] [{csipowermax-reverseproxy quay.io/dell/container-storage-modules/csipowermax-reverseproxy:v2.14.0 [] []  [] [] [{X_CSI_REVPROXY_CONFIG_DIR /etc/config/configmap nil} {X_CSI_REVPROXY_CONFIG_FILE_NAME config.yaml nil} {X_CSI_REVPROXY_IN_CLUSTER true nil} {X_CSI_REVPROXY_TLS_CERT_DIR /app/tls nil} {X_CSI_REVPROXY_WATCH_NAMESPACE powermax nil}] {map[] map[] []} [] <nil> [{tls-secret false <nil> /app/tls  <nil> } {cert-dir false <nil> /app/certs  <nil> }] [] nil nil nil nil   Always nil false false false}] []  <nil> <nil>  map[] csipowermax-reverseproxy  <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,TerminatingReplicas:nil,},} -----

2025-07-22T13:32:21.377-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Deployment"}
2025-07-22T13:32:21.377-0400	INFO	modules/reverseproxy.go:182	Create/Update reverseproxy successful...
=== RUN   TestReverseProxyServer/success_-_creating_as_Sidecar
2025-07-22T13:32:21.379-0400	INFO	modules/reverseproxy.go:146	Object: &ServiceAccount{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,} -----

2025-07-22T13:32:21.379-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.380-0400	INFO	modules/reverseproxy.go:146	Object: &Role{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list watch get],APIGroups:[],Resources:[secrets],ResourceNames:[],NonResourceURLs:[],},},} -----

2025-07-22T13:32:21.380-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Role"}
2025-07-22T13:32:21.380-0400	INFO	modules/reverseproxy.go:146	Object: &RoleBinding{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:csipowermax-reverseproxy,Namespace:powermax,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:Role,Name:csipowermax-reverseproxy,},} -----

2025-07-22T13:32:21.380-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.380-0400	INFO	modules/reverseproxy.go:146	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{name: csipowermax-reverseproxy,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----

2025-07-22T13:32:21.380-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-07-22T13:32:21.380-0400	INFO	modules/reverseproxy.go:146	Object: &Deployment{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{name: csipowermax-reverseproxy,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[csmNamespace:powermax name:csipowermax-reverseproxy] map[] [] [] []} {[{tls-secret {nil nil nil nil nil SecretVolumeSource{SecretName:csirevproxy-tls-secret,Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {cert-dir {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}}] [] [{csipowermax-reverseproxy quay.io/dell/container-storage-modules/csipowermax-reverseproxy:v2.14.0 [] []  [] [] [{X_CSI_REVPROXY_CONFIG_DIR /etc/config/configmap nil} {X_CSI_REVPROXY_CONFIG_FILE_NAME config.yaml nil} {X_CSI_REVPROXY_IN_CLUSTER true nil} {X_CSI_REVPROXY_TLS_CERT_DIR /app/tls nil} {X_CSI_REVPROXY_WATCH_NAMESPACE powermax nil}] {map[] map[] []} [] <nil> [{tls-secret false <nil> /app/tls  <nil> } {cert-dir false <nil> /app/certs  <nil> }] [] nil nil nil nil   Always nil false false false}] []  <nil> <nil>  map[] csipowermax-reverseproxy  <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,TerminatingReplicas:nil,},} -----

2025-07-22T13:32:21.381-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Deployment"}
2025-07-22T13:32:21.381-0400	INFO	modules/reverseproxy.go:182	Create/Update reverseproxy successful...
=== RUN   TestReverseProxyServer/success_-_creating_with_minimal_manifest
2025-07-22T13:32:21.384-0400	INFO	modules/reverseproxy.go:146	Object: &ServiceAccount{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,} -----

2025-07-22T13:32:21.384-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.384-0400	INFO	modules/reverseproxy.go:146	Object: &Role{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list watch get],APIGroups:[],Resources:[secrets],ResourceNames:[],NonResourceURLs:[],},},} -----

2025-07-22T13:32:21.384-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Role"}
2025-07-22T13:32:21.384-0400	INFO	modules/reverseproxy.go:146	Object: &RoleBinding{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:csipowermax-reverseproxy,Namespace:powermax,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:Role,Name:csipowermax-reverseproxy,},} -----

2025-07-22T13:32:21.384-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.385-0400	INFO	modules/reverseproxy.go:146	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{name: csipowermax-reverseproxy,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----

2025-07-22T13:32:21.385-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-07-22T13:32:21.385-0400	INFO	modules/reverseproxy.go:146	Object: &Deployment{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{name: csipowermax-reverseproxy,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[csmNamespace:powermax name:csipowermax-reverseproxy] map[] [] [] []} {[{tls-secret {nil nil nil nil nil SecretVolumeSource{SecretName:csirevproxy-tls-secret,Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {cert-dir {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}}] [] [{csipowermax-reverseproxy  [] []  [] [] [{X_CSI_REVPROXY_CONFIG_DIR /etc/config/configmap nil} {X_CSI_REVPROXY_CONFIG_FILE_NAME config.yaml nil} {X_CSI_REVPROXY_IN_CLUSTER true nil} {X_CSI_REVPROXY_TLS_CERT_DIR /app/tls nil} {X_CSI_REVPROXY_WATCH_NAMESPACE powermax nil}] {map[] map[] []} [] <nil> [{tls-secret false <nil> /app/tls  <nil> } {cert-dir false <nil> /app/certs  <nil> }] [] nil nil nil nil   Always nil false false false}] []  <nil> <nil>  map[] csipowermax-reverseproxy  <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,TerminatingReplicas:nil,},} -----

2025-07-22T13:32:21.385-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Deployment"}
2025-07-22T13:32:21.385-0400	INFO	modules/reverseproxy.go:182	Create/Update reverseproxy successful...
=== RUN   TestReverseProxyServer/fail_-_reverseproxy_module_not_found
=== RUN   TestReverseProxyServer/success_-_use_reverse_proxy_secret
2025-07-22T13:32:21.387-0400	INFO	modules/reverseproxy.go:146	Object: &ServiceAccount{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,} -----

2025-07-22T13:32:21.387-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.388-0400	INFO	modules/reverseproxy.go:146	Object: &Role{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list watch get],APIGroups:[],Resources:[secrets],ResourceNames:[],NonResourceURLs:[],},},} -----

2025-07-22T13:32:21.388-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Role"}
2025-07-22T13:32:21.388-0400	INFO	modules/reverseproxy.go:146	Object: &RoleBinding{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:csipowermax-reverseproxy,Namespace:powermax,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:Role,Name:csipowermax-reverseproxy,},} -----

2025-07-22T13:32:21.388-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.388-0400	INFO	modules/reverseproxy.go:146	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{name: csipowermax-reverseproxy,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----

2025-07-22T13:32:21.388-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-07-22T13:32:21.388-0400	INFO	modules/reverseproxy.go:146	Object: &Deployment{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{name: csipowermax-reverseproxy,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[csmNamespace:powermax name:csipowermax-reverseproxy] map[] [] [] []} {[{tls-secret {nil nil nil nil nil SecretVolumeSource{SecretName:csirevproxy-tls-secret,Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {cert-dir {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}}] [] [{csipowermax-reverseproxy quay.io/dell/container-storage-modules/csipowermax-reverseproxy:v2.14.0 [] []  [] [] [{X_CSI_REVPROXY_CONFIG_DIR /etc/config/configmap nil} {X_CSI_REVPROXY_CONFIG_FILE_NAME config.yaml nil} {X_CSI_REVPROXY_IN_CLUSTER true nil} {X_CSI_REVPROXY_TLS_CERT_DIR /app/tls nil} {X_CSI_REVPROXY_WATCH_NAMESPACE powermax nil}] {map[] map[] []} [] <nil> [{tls-secret false <nil> /app/tls  <nil> } {cert-dir false <nil> /app/certs  <nil> }] [] nil nil nil nil   Always nil false false false}] []  <nil> <nil>  map[] csipowermax-reverseproxy  <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,TerminatingReplicas:nil,},} -----

2025-07-22T13:32:21.388-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Deployment"}
2025-07-22T13:32:21.388-0400	INFO	modules/reverseproxy.go:182	Create/Update reverseproxy successful...
=== RUN   TestReverseProxyServer/success_-_dynamically_mount_configMap
2025-07-22T13:32:21.390-0400	INFO	modules/reverseproxy.go:146	Object: &ServiceAccount{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,} -----

2025-07-22T13:32:21.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.390-0400	INFO	modules/reverseproxy.go:146	Object: &Role{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list watch get],APIGroups:[],Resources:[secrets],ResourceNames:[],NonResourceURLs:[],},},} -----

2025-07-22T13:32:21.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Role"}
2025-07-22T13:32:21.390-0400	INFO	modules/reverseproxy.go:146	Object: &RoleBinding{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:csipowermax-reverseproxy,Namespace:powermax,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:Role,Name:csipowermax-reverseproxy,},} -----

2025-07-22T13:32:21.390-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.391-0400	INFO	modules/reverseproxy.go:146	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{name: csipowermax-reverseproxy,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----

2025-07-22T13:32:21.391-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-07-22T13:32:21.391-0400	INFO	modules/reverseproxy.go:146	Object: &Deployment{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{name: csipowermax-reverseproxy,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[csmNamespace:powermax name:csipowermax-reverseproxy] map[] [] [] []} {[{tls-secret {nil nil nil nil nil SecretVolumeSource{SecretName:csirevproxy-tls-secret,Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {cert-dir {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}}] [] [{csipowermax-reverseproxy quay.io/dell/container-storage-modules/csipowermax-reverseproxy:v2.14.0 [] []  [] [] [{X_CSI_REVPROXY_CONFIG_DIR /etc/config/configmap nil} {X_CSI_REVPROXY_CONFIG_FILE_NAME config.yaml nil} {X_CSI_REVPROXY_IN_CLUSTER true nil} {X_CSI_REVPROXY_TLS_CERT_DIR /app/tls nil} {X_CSI_REVPROXY_WATCH_NAMESPACE powermax nil}] {map[] map[] []} [] <nil> [{tls-secret false <nil> /app/tls  <nil> } {cert-dir false <nil> /app/certs  <nil> }] [] nil nil nil nil   Always nil false false false}] []  <nil> <nil>  map[] csipowermax-reverseproxy  <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,TerminatingReplicas:nil,},} -----

2025-07-22T13:32:21.391-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Deployment"}
2025-07-22T13:32:21.391-0400	INFO	modules/reverseproxy.go:182	Create/Update reverseproxy successful...
=== RUN   TestReverseProxyServer/fail_-_invalid_csm_version
2025-07-22T13:32:21.393-0400	INFO	modules/reverseproxy.go:146	Object: &ServiceAccount{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Secrets:[]ObjectReference{},ImagePullSecrets:[]LocalObjectReference{},AutomountServiceAccountToken:nil,} -----

2025-07-22T13:32:21.393-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "ServiceAccount"}
2025-07-22T13:32:21.393-0400	INFO	modules/reverseproxy.go:146	Object: &Role{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Rules:[]PolicyRule{PolicyRule{Verbs:[list watch get],APIGroups:[],Resources:[secrets],ResourceNames:[],NonResourceURLs:[],},},} -----

2025-07-22T13:32:21.393-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Role"}
2025-07-22T13:32:21.393-0400	INFO	modules/reverseproxy.go:146	Object: &RoleBinding{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Subjects:[]Subject{Subject{Kind:ServiceAccount,APIGroup:,Name:csipowermax-reverseproxy,Namespace:powermax,},},RoleRef:RoleRef{APIGroup:rbac.authorization.k8s.io,Kind:Role,Name:csipowermax-reverseproxy,},} -----

2025-07-22T13:32:21.393-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "RoleBinding"}
2025-07-22T13:32:21.393-0400	INFO	modules/reverseproxy.go:146	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{name: csipowermax-reverseproxy,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----

2025-07-22T13:32:21.393-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-07-22T13:32:21.393-0400	INFO	modules/reverseproxy.go:146	Object: &Deployment{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:DeploymentSpec{Replicas:*1,Selector:&v1.LabelSelector{MatchLabels:map[string]string{name: csipowermax-reverseproxy,},MatchExpressions:[]LabelSelectorRequirement{},},Template:{{      0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[csmNamespace:powermax name:csipowermax-reverseproxy] map[] [] [] []} {[{tls-secret {nil nil nil nil nil SecretVolumeSource{SecretName:csirevproxy-tls-secret,Items:[]KeyToPath{},DefaultMode:nil,Optional:nil,} nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}} {cert-dir {nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil nil}}] [] [{csipowermax-reverseproxy quay.io/dell/container-storage-modules/csipowermax-reverseproxy:v2.14.0 [] []  [] [] [{X_CSI_REVPROXY_CONFIG_DIR /etc/config/configmap nil} {X_CSI_REVPROXY_CONFIG_FILE_NAME config.yaml nil} {X_CSI_REVPROXY_IN_CLUSTER true nil} {X_CSI_REVPROXY_TLS_CERT_DIR /app/tls nil} {X_CSI_REVPROXY_WATCH_NAMESPACE powermax nil}] {map[] map[] []} [] <nil> [{tls-secret false <nil> /app/tls  <nil> } {cert-dir false <nil> /app/certs  <nil> }] [] nil nil nil nil   Always nil false false false}] []  <nil> <nil>  map[] csipowermax-reverseproxy  <nil>  false false false <nil> nil []   nil  [] []  <nil> nil [] <nil> <nil> <nil> map[] [] <nil> nil <nil> [] [] nil}},Strategy:DeploymentStrategy{Type:,RollingUpdate:nil,},MinReadySeconds:0,RevisionHistoryLimit:nil,Paused:false,ProgressDeadlineSeconds:nil,},Status:DeploymentStatus{ObservedGeneration:0,Replicas:0,UpdatedReplicas:0,AvailableReplicas:0,UnavailableReplicas:0,Conditions:[]DeploymentCondition{},ReadyReplicas:0,CollisionCount:nil,TerminatingReplicas:nil,},} -----

--- PASS: TestReverseProxyServer (0.03s)
    --- PASS: TestReverseProxyServer/success_-_deleting (0.01s)
    --- PASS: TestReverseProxyServer/success_-_creating (0.00s)
    --- PASS: TestReverseProxyServer/success_-_creating_as_Sidecar (0.00s)
    --- PASS: TestReverseProxyServer/success_-_creating_with_minimal_manifest (0.00s)
    --- PASS: TestReverseProxyServer/fail_-_reverseproxy_module_not_found (0.00s)
    --- PASS: TestReverseProxyServer/success_-_use_reverse_proxy_secret (0.00s)
    --- PASS: TestReverseProxyServer/success_-_dynamically_mount_configMap (0.00s)
    --- PASS: TestReverseProxyServer/fail_-_invalid_csm_version (0.00s)
=== RUN   TestReverseProxyInjectDeployment
=== RUN   TestReverseProxyInjectDeployment/success_-_no_deployAsSidecar
=== RUN   TestReverseProxyInjectDeployment/success_-_deployAsSidecar
=== RUN   TestReverseProxyInjectDeployment/success_-_dynamically_mount_secret
=== RUN   TestReverseProxyInjectDeployment/success_-_dynamically_mount_configMap
=== RUN   TestReverseProxyInjectDeployment/fail_-_invalid_csm_version
--- PASS: TestReverseProxyInjectDeployment (0.04s)
    --- PASS: TestReverseProxyInjectDeployment/success_-_no_deployAsSidecar (0.01s)
    --- PASS: TestReverseProxyInjectDeployment/success_-_deployAsSidecar (0.01s)
    --- PASS: TestReverseProxyInjectDeployment/success_-_dynamically_mount_secret (0.01s)
    --- PASS: TestReverseProxyInjectDeployment/success_-_dynamically_mount_configMap (0.01s)
    --- PASS: TestReverseProxyInjectDeployment/fail_-_invalid_csm_version (0.01s)
=== RUN   TestReverseProxyStartService
=== RUN   TestReverseProxyStartService/success_-_no_service
2025-07-22T13:32:21.437-0400	INFO	modules/reverseproxy.go:200	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app: test-powermax-controller,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----

2025-07-22T13:32:21.437-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-07-22T13:32:21.437-0400	INFO	modules/reverseproxy.go:211	Create/Update reverseproxy serivce successful...
=== RUN   TestReverseProxyStartService/success_-_creates_service
2025-07-22T13:32:21.438-0400	INFO	modules/reverseproxy.go:200	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app: test-powermax-controller,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----

2025-07-22T13:32:21.438-0400	INFO	operatorutils/utils.go:755	Creating a new Object	{"Name:": "csipowermax-reverseproxy", "Kind:": "Service"}
2025-07-22T13:32:21.438-0400	INFO	modules/reverseproxy.go:211	Create/Update reverseproxy serivce successful...
=== RUN   TestReverseProxyStartService/success_-_deletes_service
2025-07-22T13:32:21.439-0400	INFO	modules/reverseproxy.go:200	Object: &Service{ObjectMeta:{csipowermax-reverseproxy  powermax    0 0001-01-01 00:00:00 +0000 UTC <nil> <nil> map[] map[] [] [] []},Spec:ServiceSpec{Ports:[]ServicePort{ServicePort{Name:,Protocol:TCP,Port:2222,TargetPort:{0 2222 },NodePort:0,AppProtocol:nil,},},Selector:map[string]string{app: test-powermax-controller,},ClusterIP:,Type:ClusterIP,ExternalIPs:[],SessionAffinity:,LoadBalancerIP:,LoadBalancerSourceRanges:[],ExternalName:,ExternalTrafficPolicy:,HealthCheckNodePort:0,PublishNotReadyAddresses:false,SessionAffinityConfig:nil,IPFamilyPolicy:nil,ClusterIPs:[],IPFamilies:[],AllocateLoadBalancerNodePorts:nil,LoadBalancerClass:nil,InternalTrafficPolicy:nil,TrafficDistribution:nil,},Status:ServiceStatus{LoadBalancer:LoadBalancerStatus{Ingress:[]LoadBalancerIngress{},},Conditions:[]Condition{},},} -----

2025-07-22T13:32:21.439-0400	INFO	operatorutils/utils.go:729	Object not found to delete	{"Name:": "csipowermax-reverseproxy", "Kind:": "Service", "Namespace:": "powermax"}
2025-07-22T13:32:21.439-0400	INFO	modules/reverseproxy.go:211	Create/Update reverseproxy serivce successful...
--- PASS: TestReverseProxyStartService (0.00s)
    --- PASS: TestReverseProxyStartService/success_-_no_service (0.00s)
    --- PASS: TestReverseProxyStartService/success_-_creates_service (0.00s)
    --- PASS: TestReverseProxyStartService/success_-_deletes_service (0.00s)
=== RUN   TestAddReverseProxyServiceName
=== RUN   TestAddReverseProxyServiceName/Add_env_var_to_driver_container
--- PASS: TestAddReverseProxyServiceName (0.01s)
    --- PASS: TestAddReverseProxyServiceName/Add_env_var_to_driver_container (0.01s)
=== RUN   TestIsReverseProxySidecar
=== RUN   TestIsReverseProxySidecar/Reverse_proxy_is_configured_as_sidecar
2025-07-22T13:32:21.450-0400	INFO	modules/reverseproxy.go:121	[ReverseProxyPrecheck] using configmap powermax-reverseproxy-config
2025-07-22T13:32:21.450-0400	INFO	modules/reverseproxy.go:129	
performed pre checks for: csireverseproxy
=== RUN   TestIsReverseProxySidecar/Reverse_proxy_is_not_configured_as_sidecar
2025-07-22T13:32:21.451-0400	INFO	modules/reverseproxy.go:121	[ReverseProxyPrecheck] using configmap powermax-reverseproxy-config
2025-07-22T13:32:21.451-0400	INFO	modules/reverseproxy.go:129	
performed pre checks for: csireverseproxy
--- PASS: TestIsReverseProxySidecar (0.00s)
    --- PASS: TestIsReverseProxySidecar/Reverse_proxy_is_configured_as_sidecar (0.00s)
    --- PASS: TestIsReverseProxySidecar/Reverse_proxy_is_not_configured_as_sidecar (0.00s)
=== RUN   TestUpdatePowerMaxConfigMap
=== RUN   TestUpdatePowerMaxConfigMap/success:_add_port_to_config_params
=== RUN   TestUpdatePowerMaxConfigMap/success:_not_using_secret
=== RUN   TestUpdatePowerMaxConfigMap/success:_minimal_manifest_with_secret
--- PASS: TestUpdatePowerMaxConfigMap (0.00s)
    --- PASS: TestUpdatePowerMaxConfigMap/success:_add_port_to_config_params (0.00s)
    --- PASS: TestUpdatePowerMaxConfigMap/success:_not_using_secret (0.00s)
    --- PASS: TestUpdatePowerMaxConfigMap/success:_minimal_manifest_with_secret (0.00s)
=== RUN   TestResetDeployAsSidecar
=== RUN   TestResetDeployAsSidecar/Test_reset_deploy_as_sidecar
--- PASS: TestResetDeployAsSidecar (0.00s)
    --- PASS: TestResetDeployAsSidecar/Test_reset_deploy_as_sidecar (0.00s)
PASS
coverage: 90.4% of statements
ok  	github.com/dell/csm-operator/pkg/modules	1.371s	coverage: 90.4% of statements
